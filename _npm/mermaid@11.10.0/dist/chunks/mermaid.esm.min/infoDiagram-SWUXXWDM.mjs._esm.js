/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/mermaid@11.10.0/dist/chunks/mermaid.esm.min/infoDiagram-SWUXXWDM.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}var n=t,i=r;function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===t||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}"function"==typeof e.setTimeout&&(n=setTimeout),"function"==typeof e.clearTimeout&&(i=clearTimeout);var o,s=[],l=!1,u=-1;function c(){l&&o&&(l=!1,o.length?s=o.concat(s):u=-1,s.length&&h())}function h(){if(!l){var e=a(c);l=!0;for(var t=s.length;t;){for(o=s,s=[];++u<t;)o&&o[u].run();u=-1,t=s.length}o=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}d.prototype.run=function(){this.fun.apply(null,this.array)};function f(){}var p=f,m=f,g=f,y=f,v=f,T=f,C=f;var x=e.performance||{},b=x.now||x.mozNow||x.msNow||x.oNow||x.webkitNow||function(){return(new Date).getTime()};var k=new Date;var _={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new d(e,t)),1!==s.length||l||a(h)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:p,addListener:m,once:g,off:y,removeListener:v,removeAllListeners:T,emit:C,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*b.call(x),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-k)/1e3}},S=Object.create,A=Object.defineProperty,R=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,w=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty,$=(e,t)=>A(e,"name",{value:t,configurable:!0}),I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),N=(e,t)=>{for(var r in t)A(e,r,{get:t[r],enumerable:!0})},O=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of E(t))!L.call(e,i)&&i!==r&&A(e,i,{get:()=>t[i],enumerable:!(n=R(t,i))||n.enumerable});return e},M=(e,t,r)=>(O(e,t,"default"),r&&O(r,t,"default")),F=(e,t,r)=>(r=null!=e?S(w(e)):{},O(!t&&e&&e.__esModule?r:A(r,"default",{value:e,enumerable:!0}),e)),P="object"==typeof e&&e&&e.Object===Object&&e,B="object"==typeof self&&self&&self.Object===Object&&self,D=P||B||Function("return this")(),U=D.Symbol,z=Object.prototype,j=z.hasOwnProperty,G=z.toString,W=U?U.toStringTag:void 0;function q(e){var t=j.call(e,W),r=e[W];try{e[W]=void 0;var n=!0}catch{}var i=G.call(e);return n&&(t?e[W]=r:delete e[W]),i}$(q,"getRawTag");var H=q,V=Object.prototype.toString;function K(e){return V.call(e)}$(K,"objectToString");var Y=K,X=U?U.toStringTag:void 0;function J(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?H(e):Y(e)}$(J,"baseGetTag");var Z=J;function Q(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}$(Q,"isObject");var ee=Q;function te(e){if(!ee(e))return!1;var t=Z(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}$(te,"isFunction");var re=te,ne=D["__core-js_shared__"],ie=function(){var e=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ae(e){return!!ie&&ie in e}$(ae,"isMasked");var oe=ae,se=Function.prototype.toString;function le(e){if(null!=e){try{return se.call(e)}catch{}try{return e+""}catch{}}return""}$(le,"toSource");var ue=le,ce=/^\[object .+?Constructor\]$/,he=Function.prototype,de=Object.prototype,fe=he.toString,pe=de.hasOwnProperty,me=RegExp("^"+fe.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ge(e){return!(!ee(e)||oe(e))&&(re(e)?me:ce).test(ue(e))}$(ge,"baseIsNative");var ye=ge;function ve(e,t){return e?.[t]}$(ve,"getValue");var Te=ve;function Ce(e,t){var r=Te(e,t);return ye(r)?r:void 0}$(Ce,"getNative");var xe=Ce,be=xe(Object,"create");function ke(){this.__data__=be?be(null):{},this.size=0}$(ke,"hashClear");var _e=ke;function Se(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}$(Se,"hashDelete");var Ae=Se,Re=Object.prototype.hasOwnProperty;function Ee(e){var t=this.__data__;if(be){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Re.call(t,e)?t[e]:void 0}$(Ee,"hashGet");var we=Ee,Le=Object.prototype.hasOwnProperty;function $e(e){var t=this.__data__;return be?void 0!==t[e]:Le.call(t,e)}$($e,"hashHas");var Ie=$e;function Ne(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=be&&void 0===t?"__lodash_hash_undefined__":t,this}$(Ne,"hashSet");var Oe=Ne;function Me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$(Me,"Hash"),Me.prototype.clear=_e,Me.prototype.delete=Ae,Me.prototype.get=we,Me.prototype.has=Ie,Me.prototype.set=Oe;var Fe=Me;function Pe(){this.__data__=[],this.size=0}$(Pe,"listCacheClear");var Be=Pe;function De(e,t){return e===t||e!=e&&t!=t}$(De,"eq");var Ue=De;function ze(e,t){for(var r=e.length;r--;)if(Ue(e[r][0],t))return r;return-1}$(ze,"assocIndexOf");var je=ze,Ge=Array.prototype.splice;function We(e){var t=this.__data__,r=je(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ge.call(t,r,1),--this.size,!0)}$(We,"listCacheDelete");var qe=We;function He(e){var t=this.__data__,r=je(t,e);return r<0?void 0:t[r][1]}$(He,"listCacheGet");var Ve=He;function Ke(e){return je(this.__data__,e)>-1}$(Ke,"listCacheHas");var Ye=Ke;function Xe(e,t){var r=this.__data__,n=je(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}$(Xe,"listCacheSet");var Je=Xe;function Ze(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$(Ze,"ListCache"),Ze.prototype.clear=Be,Ze.prototype.delete=qe,Ze.prototype.get=Ve,Ze.prototype.has=Ye,Ze.prototype.set=Je;var Qe=Ze,et=xe(D,"Map");function tt(){this.size=0,this.__data__={hash:new Fe,map:new(et||Qe),string:new Fe}}$(tt,"mapCacheClear");var rt=tt;function nt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}$(nt,"isKeyable");var it=nt;function at(e,t){var r=e.__data__;return it(t)?r["string"==typeof t?"string":"hash"]:r.map}$(at,"getMapData");var ot=at;function st(e){var t=ot(this,e).delete(e);return this.size-=t?1:0,t}$(st,"mapCacheDelete");var lt=st;function ut(e){return ot(this,e).get(e)}$(ut,"mapCacheGet");var ct=ut;function ht(e){return ot(this,e).has(e)}$(ht,"mapCacheHas");var dt=ht;function ft(e,t){var r=ot(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}$(ft,"mapCacheSet");var pt=ft;function mt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$(mt,"MapCache"),mt.prototype.clear=rt,mt.prototype.delete=lt,mt.prototype.get=ct,mt.prototype.has=dt,mt.prototype.set=pt;var gt=mt;function yt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=$((function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o}),"memoized");return r.cache=new(yt.Cache||gt),r}$(yt,"memoize"),yt.Cache=gt;var vt=yt;function Tt(e){return function(){return e}}$(Tt,"constant");var Ct=Tt;function xt(){this.__data__=new Qe,this.size=0}$(xt,"stackClear");var bt=xt;function kt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}$(kt,"stackDelete");var _t=kt;function St(e){return this.__data__.get(e)}$(St,"stackGet");var At=St;function Rt(e){return this.__data__.has(e)}$(Rt,"stackHas");var Et=Rt;function wt(e,t){var r=this.__data__;if(r instanceof Qe){var n=r.__data__;if(!et||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new gt(n)}return r.set(e,t),this.size=r.size,this}$(wt,"stackSet");var Lt=wt;function $t(e){var t=this.__data__=new Qe(e);this.size=t.size}$($t,"Stack"),$t.prototype.clear=bt,$t.prototype.delete=_t,$t.prototype.get=At,$t.prototype.has=Et,$t.prototype.set=Lt;var It=$t,Nt=function(){try{var e=xe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ot=Nt;function Mt(e,t,r){"__proto__"==t&&Ot?Ot(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}$(Mt,"baseAssignValue");var Ft=Mt;function Pt(e,t,r){(void 0!==r&&!Ue(e[t],r)||void 0===r&&!(t in e))&&Ft(e,t,r)}$(Pt,"assignMergeValue");var Bt=Pt;function Dt(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===r(a[l],l,a))break}return t}}$(Dt,"createBaseFor");var Ut=Dt(),zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,jt=zt&&"object"==typeof module&&module&&!module.nodeType&&module,Gt=jt&&jt.exports===zt?D.Buffer:void 0,Wt=Gt?Gt.allocUnsafe:void 0;function qt(e,t){if(t)return e.slice();var r=e.length,n=Wt?Wt(r):new e.constructor(r);return e.copy(n),n}$(qt,"cloneBuffer");var Ht=qt,Vt=D.Uint8Array;function Kt(e){var t=new e.constructor(e.byteLength);return new Vt(t).set(new Vt(e)),t}$(Kt,"cloneArrayBuffer");var Yt=Kt;function Xt(e,t){var r=t?Yt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}$(Xt,"cloneTypedArray");var Jt=Xt;function Zt(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}$(Zt,"copyArray");var Qt=Zt,er=Object.create,tr=function(){function e(){}return $(e,"object"),function(t){if(!ee(t))return{};if(er)return er(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),rr=tr;function nr(e,t){return function(r){return e(t(r))}}$(nr,"overArg");var ir=nr,ar=ir(Object.getPrototypeOf,Object),or=Object.prototype;function sr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||or)}$(sr,"isPrototype");var lr=sr;function ur(e){return"function"!=typeof e.constructor||lr(e)?{}:rr(ar(e))}$(ur,"initCloneObject");var cr=ur;function hr(e){return null!=e&&"object"==typeof e}$(hr,"isObjectLike");var dr=hr;function fr(e){return dr(e)&&"[object Arguments]"==Z(e)}$(fr,"baseIsArguments");var pr=fr,mr=Object.prototype,gr=mr.hasOwnProperty,yr=mr.propertyIsEnumerable,vr=pr(function(){return arguments}())?pr:function(e){return dr(e)&&gr.call(e,"callee")&&!yr.call(e,"callee")},Tr=vr,Cr=Array.isArray;function xr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}$(xr,"isLength");var br=xr;function kr(e){return null!=e&&br(e.length)&&!re(e)}$(kr,"isArrayLike");var _r=kr;function Sr(e){return dr(e)&&_r(e)}$(Sr,"isArrayLikeObject");var Ar=Sr;function Rr(){return!1}$(Rr,"stubFalse");var Er=Rr,wr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lr=wr&&"object"==typeof module&&module&&!module.nodeType&&module,$r=Lr&&Lr.exports===wr?D.Buffer:void 0,Ir=($r?$r.isBuffer:void 0)||Er,Nr=Function.prototype,Or=Object.prototype,Mr=Nr.toString,Fr=Or.hasOwnProperty,Pr=Mr.call(Object);function Br(e){if(!dr(e)||"[object Object]"!=Z(e))return!1;var t=ar(e);if(null===t)return!0;var r=Fr.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Mr.call(r)==Pr}$(Br,"isPlainObject");var Dr=Br,Ur={};function zr(e){return dr(e)&&br(e.length)&&!!Ur[Z(e)]}Ur["[object Float32Array]"]=Ur["[object Float64Array]"]=Ur["[object Int8Array]"]=Ur["[object Int16Array]"]=Ur["[object Int32Array]"]=Ur["[object Uint8Array]"]=Ur["[object Uint8ClampedArray]"]=Ur["[object Uint16Array]"]=Ur["[object Uint32Array]"]=!0,Ur["[object Arguments]"]=Ur["[object Array]"]=Ur["[object ArrayBuffer]"]=Ur["[object Boolean]"]=Ur["[object DataView]"]=Ur["[object Date]"]=Ur["[object Error]"]=Ur["[object Function]"]=Ur["[object Map]"]=Ur["[object Number]"]=Ur["[object Object]"]=Ur["[object RegExp]"]=Ur["[object Set]"]=Ur["[object String]"]=Ur["[object WeakMap]"]=!1,$(zr,"baseIsTypedArray");var jr=zr;function Gr(e){return function(t){return e(t)}}$(Gr,"baseUnary");var Wr=Gr,qr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Hr=qr&&"object"==typeof module&&module&&!module.nodeType&&module,Vr=Hr&&Hr.exports===qr&&P.process,Kr=function(){try{return Hr&&Hr.require&&Hr.require("util").types||Vr&&Vr.binding&&Vr.binding("util")}catch{}}(),Yr=Kr&&Kr.isTypedArray,Xr=Yr?Wr(Yr):jr;function Jr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}$(Jr,"safeGet");var Zr=Jr,Qr=Object.prototype.hasOwnProperty;function en(e,t,r){var n=e[t];(!Qr.call(e,t)||!Ue(n,r)||void 0===r&&!(t in e))&&Ft(e,t,r)}$(en,"assignValue");var tn=en;function rn(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?Ft(r,s,l):tn(r,s,l)}return r}$(rn,"copyObject");var nn=rn;function an(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}$(an,"baseTimes");var on=an,sn=/^(?:0|[1-9]\d*)$/;function ln(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&sn.test(e))&&e>-1&&e%1==0&&e<t}$(ln,"isIndex");var un=ln,cn=Object.prototype.hasOwnProperty;function hn(e,t){var r=Cr(e),n=!r&&Tr(e),i=!r&&!n&&Ir(e),a=!r&&!n&&!i&&Xr(e),o=r||n||i||a,s=o?on(e.length,String):[],l=s.length;for(var u in e)(t||cn.call(e,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||un(u,l)))&&s.push(u);return s}$(hn,"arrayLikeKeys");var dn=hn;function fn(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}$(fn,"nativeKeysIn");var pn=fn,mn=Object.prototype.hasOwnProperty;function gn(e){if(!ee(e))return pn(e);var t=lr(e),r=[];for(var n in e)"constructor"==n&&(t||!mn.call(e,n))||r.push(n);return r}$(gn,"baseKeysIn");var yn=gn;function vn(e){return _r(e)?dn(e,!0):yn(e)}$(vn,"keysIn");var Tn=vn;function Cn(e){return nn(e,Tn(e))}$(Cn,"toPlainObject");var xn=Cn;function bn(e,t,r,n,i,a,o){var s=Zr(e,r),l=Zr(t,r),u=o.get(l);if(u)Bt(e,r,u);else{var c=a?a(s,l,r+"",e,t,o):void 0,h=void 0===c;if(h){var d=Cr(l),f=!d&&Ir(l),p=!d&&!f&&Xr(l);c=l,d||f||p?Cr(s)?c=s:Ar(s)?c=Qt(s):f?(h=!1,c=Ht(l,!0)):p?(h=!1,c=Jt(l,!0)):c=[]:Dr(l)||Tr(l)?(c=s,Tr(s)?c=xn(s):(!ee(s)||re(s))&&(c=cr(l))):h=!1}h&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),Bt(e,r,c)}}$(bn,"baseMergeDeep");var kn=bn;function _n(e,t,r,n,i){e!==t&&Ut(t,(function(a,o){if(i||(i=new It),ee(a))kn(e,t,o,r,_n,n,i);else{var s=n?n(Zr(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),Bt(e,o,s)}}),Tn)}$(_n,"baseMerge");var Sn=_n;function An(e){return e}$(An,"identity");var Rn=An;function En(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}$(En,"apply");var wn=En,Ln=Math.max;function $n(e,t,r){return t=Ln(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Ln(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),wn(e,this,s)}}$($n,"overRest");var In=$n,Nn=Ot?function(e,t){return Ot(e,"toString",{configurable:!0,enumerable:!1,value:Ct(t),writable:!0})}:Rn,On=Nn,Mn=Date.now;function Fn(e){var t=0,r=0;return function(){var n=Mn(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}$(Fn,"shortOut");var Pn=Fn(On);function Bn(e,t){return Pn(In(e,t,Rn),e+"")}$(Bn,"baseRest");var Dn=Bn;function Un(e,t,r){if(!ee(r))return!1;var n=typeof t;return!!("number"==n?_r(r)&&un(t,r.length):"string"==n&&t in r)&&Ue(r[t],e)}$(Un,"isIterateeCall");var zn=Un;function jn(e){return Dn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&zn(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t}))}$(jn,"createAssigner");var Gn=jn;Gn((function(e,t,r){Sn(e,t,r)}));var Wn=ir(Object.keys,Object),qn=Object.prototype.hasOwnProperty;function Hn(e){if(!lr(e))return Wn(e);var t=[];for(var r in Object(e))qn.call(e,r)&&"constructor"!=r&&t.push(r);return t}$(Hn,"baseKeys");var Vn=Hn,Kn=xe(D,"DataView"),Yn=xe(D,"Promise"),Xn=xe(D,"Set"),Jn=xe(D,"WeakMap"),Zn="[object Map]",Qn="[object Promise]",ei="[object Set]",ti="[object WeakMap]",ri="[object DataView]",ni=ue(Kn),ii=ue(et),ai=ue(Yn),oi=ue(Xn),si=ue(Jn),li=Z;(Kn&&li(new Kn(new ArrayBuffer(1)))!=ri||et&&li(new et)!=Zn||Yn&&li(Yn.resolve())!=Qn||Xn&&li(new Xn)!=ei||Jn&&li(new Jn)!=ti)&&(li=$((function(e){var t=Z(e),r="[object Object]"==t?e.constructor:void 0,n=r?ue(r):"";if(n)switch(n){case ni:return ri;case ii:return Zn;case ai:return Qn;case oi:return ei;case si:return ti}return t}),"getTag"));var ui=li,ci=Object.prototype.hasOwnProperty;function hi(e){if(null==e)return!0;if(_r(e)&&(Cr(e)||"string"==typeof e||"function"==typeof e.splice||Ir(e)||Xr(e)||Tr(e)))return!e.length;var t=ui(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(lr(e))return!Vn(e).length;for(var r in e)if(ci.call(e,r))return!1;return!0}$(hi,"isEmpty");var di=hi;function fi(e){return _r(e)?dn(e):Vn(e)}$(fi,"keys");var pi=fi;function mi(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}$(mi,"arrayEach");var gi=mi;function yi(e,t){return e&&nn(t,pi(t),e)}$(yi,"baseAssign");var vi=yi;function Ti(e,t){return e&&nn(t,Tn(t),e)}$(Ti,"baseAssignIn");var Ci=Ti;function xi(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}$(xi,"arrayFilter");var bi=xi;function ki(){return[]}$(ki,"stubArray");var _i=ki,Si=Object.prototype.propertyIsEnumerable,Ai=Object.getOwnPropertySymbols,Ri=Ai?function(e){return null==e?[]:(e=Object(e),bi(Ai(e),(function(t){return Si.call(e,t)})))}:_i,Ei=Ri;function wi(e,t){return nn(e,Ei(e),t)}$(wi,"copySymbols");var Li=wi;function $i(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}$($i,"arrayPush");var Ii=$i,Ni=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ii(t,Ei(e)),e=ar(e);return t}:_i,Oi=Ni;function Mi(e,t){return nn(e,Oi(e),t)}$(Mi,"copySymbolsIn");var Fi=Mi;function Pi(e,t,r){var n=t(e);return Cr(e)?n:Ii(n,r(e))}$(Pi,"baseGetAllKeys");var Bi=Pi;function Di(e){return Bi(e,pi,Ei)}$(Di,"getAllKeys");var Ui=Di;function zi(e){return Bi(e,Tn,Oi)}$(zi,"getAllKeysIn");var ji=zi,Gi=Object.prototype.hasOwnProperty;function Wi(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Gi.call(e,"index")&&(r.index=e.index,r.input=e.input),r}$(Wi,"initCloneArray");var qi=Wi;function Hi(e,t){var r=t?Yt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}$(Hi,"cloneDataView");var Vi=Hi,Ki=/\w*$/;function Yi(e){var t=new e.constructor(e.source,Ki.exec(e));return t.lastIndex=e.lastIndex,t}$(Yi,"cloneRegExp");var Xi=Yi,Ji=U?U.prototype:void 0,Zi=Ji?Ji.valueOf:void 0;function Qi(e){return Zi?Object(Zi.call(e)):{}}$(Qi,"cloneSymbol");var ea=Qi;function ta(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Yt(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Vi(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Jt(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Xi(e);case"[object Symbol]":return ea(e)}}$(ta,"initCloneByTag");var ra=ta;function na(e){return dr(e)&&"[object Map]"==ui(e)}$(na,"baseIsMap");var ia=na,aa=Kr&&Kr.isMap,oa=aa?Wr(aa):ia;function sa(e){return dr(e)&&"[object Set]"==ui(e)}$(sa,"baseIsSet");var la=sa,ua=Kr&&Kr.isSet,ca=ua?Wr(ua):la,ha="[object Arguments]",da="[object Function]",fa="[object Object]",pa={};function ma(e,t,r,n,i,a){var o,s=1&t,l=2&t,u=4&t;if(r&&(o=i?r(e,n,i,a):r(e)),void 0!==o)return o;if(!ee(e))return e;var c=Cr(e);if(c){if(o=qi(e),!s)return Qt(e,o)}else{var h=ui(e),d=h==da||"[object GeneratorFunction]"==h;if(Ir(e))return Ht(e,s);if(h==fa||h==ha||d&&!i){if(o=l||d?{}:cr(e),!s)return l?Fi(e,Ci(o,e)):Li(e,vi(o,e))}else{if(!pa[h])return i?e:{};o=ra(e,h,s)}}a||(a=new It);var f=a.get(e);if(f)return f;a.set(e,o),ca(e)?e.forEach((function(n){o.add(ma(n,t,r,n,e,a))})):oa(e)&&e.forEach((function(n,i){o.set(i,ma(n,t,r,i,e,a))}));var p=c?void 0:(u?l?ji:Ui:l?Tn:pi)(e);return gi(p||e,(function(n,i){p&&(n=e[i=n]),tn(o,i,ma(n,t,r,i,e,a))})),o}pa[ha]=pa["[object Array]"]=pa["[object ArrayBuffer]"]=pa["[object DataView]"]=pa["[object Boolean]"]=pa["[object Date]"]=pa["[object Float32Array]"]=pa["[object Float64Array]"]=pa["[object Int8Array]"]=pa["[object Int16Array]"]=pa["[object Int32Array]"]=pa["[object Map]"]=pa["[object Number]"]=pa[fa]=pa["[object RegExp]"]=pa["[object Set]"]=pa["[object String]"]=pa["[object Symbol]"]=pa["[object Uint8Array]"]=pa["[object Uint8ClampedArray]"]=pa["[object Uint16Array]"]=pa["[object Uint32Array]"]=!0,pa["[object Error]"]=pa[da]=pa["[object WeakMap]"]=!1,$(ma,"baseClone");var ga=ma;function ya(e){return ga(e,4)}$(ya,"clone");var va=ya,Ta=Object.prototype,Ca=Ta.hasOwnProperty,xa=Dn((function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&zn(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=Tn(a),s=-1,l=o.length;++s<l;){var u=o[s],c=e[u];(void 0===c||Ue(c,Ta[u])&&!Ca.call(e,u))&&(e[u]=a[u])}return e})),ba=xa;function ka(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}$(ka,"last");var _a=ka;function Sa(e,t){return e&&Ut(e,t,pi)}$(Sa,"baseForOwn");var Aa=Sa;function Ra(e,t){return function(r,n){if(null==r)return r;if(!_r(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}$(Ra,"createBaseEach");var Ea=Ra(Aa);function wa(e){return"function"==typeof e?e:Rn}$(wa,"castFunction");var La=wa;function $a(e,t){return(Cr(e)?gi:Ea)(e,La(t))}$($a,"forEach");var Ia=$a;function Na(e,t){var r=[];return Ea(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}$(Na,"baseFilter");var Oa=Na;function Ma(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}$(Ma,"setCacheAdd");var Fa=Ma;function Pa(e){return this.__data__.has(e)}$(Pa,"setCacheHas");var Ba=Pa;function Da(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new gt;++t<r;)this.add(e[t])}$(Da,"SetCache"),Da.prototype.add=Da.prototype.push=Fa,Da.prototype.has=Ba;var Ua=Da;function za(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}$(za,"arraySome");var ja=za;function Ga(e,t){return e.has(t)}$(Ga,"cacheHas");var Wa=Ga;function qa(e,t,r,n,i,a){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var h=-1,d=!0,f=2&r?new Ua:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var p=e[h],m=t[h];if(n)var g=o?n(m,p,h,t,e,a):n(p,m,h,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!ja(t,(function(e,t){if(!Wa(f,t)&&(p===e||i(p,e,r,n,a)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}$(qa,"equalArrays");var Ha=qa;function Va(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}$(Va,"mapToArray");var Ka=Va;function Ya(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}$(Ya,"setToArray");var Xa=Ya,Ja=U?U.prototype:void 0,Za=Ja?Ja.valueOf:void 0;function Qa(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Vt(e),new Vt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ue(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ka;case"[object Set]":var l=1&n;if(s||(s=Xa),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var c=Ha(s(e),s(t),n,i,a,o);return o.delete(e),c;case"[object Symbol]":if(Za)return Za.call(e)==Za.call(t)}return!1}$(Qa,"equalByTag");var eo=Qa,to=Object.prototype.hasOwnProperty;function ro(e,t,r,n,i,a){var o=1&r,s=Ui(e),l=s.length;if(l!=Ui(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:to.call(t,c)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],g=t[c];if(n)var y=o?n(g,m,c,t,e,a):n(m,g,c,e,t,a);if(!(void 0===y?m===g||i(m,g,r,n,a):y)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var v=e.constructor,T=t.constructor;v!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof T&&T instanceof T)&&(f=!1)}return a.delete(e),a.delete(t),f}$(ro,"equalObjects");var no=ro,io="[object Arguments]",ao="[object Array]",oo="[object Object]",so=Object.prototype.hasOwnProperty;function lo(e,t,r,n,i,a){var o=Cr(e),s=Cr(t),l=o?ao:ui(e),u=s?ao:ui(t),c=(l=l==io?oo:l)==oo,h=(u=u==io?oo:u)==oo,d=l==u;if(d&&Ir(e)){if(!Ir(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new It),o||Xr(e)?Ha(e,t,r,n,i,a):eo(e,t,l,r,n,i,a);if(!(1&r)){var f=c&&so.call(e,"__wrapped__"),p=h&&so.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return a||(a=new It),i(m,g,r,n,a)}}return!!d&&(a||(a=new It),no(e,t,r,n,i,a))}$(lo,"baseIsEqualDeep");var uo=lo;function co(e,t,r,n,i){return e===t||(null==e||null==t||!dr(e)&&!dr(t)?e!=e&&t!=t:uo(e,t,r,n,co,i))}$(co,"baseIsEqual");var ho=co;function fo(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=r[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var h=new It;if(n)var d=n(u,c,l,e,t,h);if(!(void 0===d?ho(c,u,3,n,h):d))return!1}}return!0}$(fo,"baseIsMatch");var po=fo;function mo(e){return e==e&&!ee(e)}$(mo,"isStrictComparable");var go=mo;function yo(e){for(var t=pi(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,go(i)]}return t}$(yo,"getMatchData");var vo=yo;function To(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}$(To,"matchesStrictComparable");var Co=To;function xo(e){var t=vo(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(r){return r===e||po(r,e,t)}}$(xo,"baseMatches");var bo=xo;function ko(e){return"symbol"==typeof e||dr(e)&&"[object Symbol]"==Z(e)}$(ko,"isSymbol");var _o=ko,So=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ao=/^\w*$/;function Ro(e,t){if(Cr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!_o(e))||(Ao.test(e)||!So.test(e)||null!=t&&e in Object(t))}$(Ro,"isKey");var Eo=Ro;function wo(e){var t=vt(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}$(wo,"memoizeCapped");var Lo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$o=/\\(\\)?/g,Io=wo((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Lo,(function(e,r,n,i){t.push(n?i.replace($o,"$1"):r||e)})),t})),No=Io;function Oo(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}$(Oo,"arrayMap");var Mo=Oo,Fo=U?U.prototype:void 0,Po=Fo?Fo.toString:void 0;function Bo(e){if("string"==typeof e)return e;if(Cr(e))return Mo(e,Bo)+"";if(_o(e))return Po?Po.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}$(Bo,"baseToString");var Do=Bo;function Uo(e){return null==e?"":Do(e)}$(Uo,"toString");var zo=Uo;function jo(e,t){return Cr(e)?e:Eo(e,t)?[e]:No(zo(e))}$(jo,"castPath");var Go=jo;function Wo(e){if("string"==typeof e||_o(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}$(Wo,"toKey");var qo=Wo;function Ho(e,t){for(var r=0,n=(t=Go(t,e)).length;null!=e&&r<n;)e=e[qo(t[r++])];return r&&r==n?e:void 0}$(Ho,"baseGet");var Vo=Ho;function Ko(e,t,r){var n=null==e?void 0:Vo(e,t);return void 0===n?r:n}$(Ko,"get");var Yo=Ko;function Xo(e,t){return null!=e&&t in Object(e)}$(Xo,"baseHasIn");var Jo=Xo;function Zo(e,t,r){for(var n=-1,i=(t=Go(t,e)).length,a=!1;++n<i;){var o=qo(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&br(i)&&un(o,i)&&(Cr(e)||Tr(e))}$(Zo,"hasPath");var Qo=Zo;function es(e,t){return null!=e&&Qo(e,t,Jo)}$(es,"hasIn");var ts=es;function rs(e,t){return Eo(e)&&go(t)?Co(qo(e),t):function(r){var n=Yo(r,e);return void 0===n&&n===t?ts(r,e):ho(t,n,3)}}$(rs,"baseMatchesProperty");var ns=rs;function is(e){return function(t){return t?.[e]}}$(is,"baseProperty");var as=is;function os(e){return function(t){return Vo(t,e)}}$(os,"basePropertyDeep");var ss=os;function ls(e){return Eo(e)?as(qo(e)):ss(e)}$(ls,"property");var us=ls;function cs(e){return"function"==typeof e?e:null==e?Rn:"object"==typeof e?Cr(e)?ns(e[0],e[1]):bo(e):us(e)}$(cs,"baseIteratee");var hs=cs;function ds(e,t){return(Cr(e)?bi:Oa)(e,hs(t))}$(ds,"filter");var fs=ds;function ps(e,t){var r=-1,n=_r(e)?Array(e.length):[];return Ea(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}$(ps,"baseMap");var ms=ps;function gs(e,t){return(Cr(e)?Mo:ms)(e,hs(t))}$(gs,"map");var ys=gs;function vs(e,t){return Mo(t,(function(t){return e[t]}))}$(vs,"baseValues");var Ts=vs;function Cs(e){return null==e?[]:Ts(e,pi(e))}$(Cs,"values");var xs=Cs;function bs(e){return void 0===e}$(bs,"isUndefined");var ks=bs;function _s(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(null!=o&&(void 0===s?o==o&&!_o(o):r(o,s)))var s=o,l=a}return l}$((function(e,t){var r={};return t=hs(t),Aa(e,(function(e,n,i){Ft(r,n,t(e,n,i))})),r}),"mapValues"),$(_s,"baseExtremum");var Ss=_s;function As(e,t){return e>t}$(As,"baseGt");var Rs=As;function Es(e,t,r,n){if(!ee(e))return e;for(var i=-1,a=(t=Go(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=qo(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=n?n(c,l,s):void 0)&&(u=ee(c)?c:un(t[i+1])?[]:{})}tn(s,l,u),s=s[l]}return e}$((function(e){return e&&e.length?Ss(e,Rn,Rs):void 0}),"max"),$(Es,"baseSet");var ws=Es;function Ls(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Vo(e,o);r(s,o)&&ws(a,Go(o,e),s)}return a}$(Ls,"basePickBy");var $s=Ls;function Is(e,t){return $s(e,t,(function(t,r){return ts(e,r)}))}$(Is,"basePick");var Ns=Is,Os=U?U.isConcatSpreadable:void 0;function Ms(e){return Cr(e)||Tr(e)||!!(Os&&e&&e[Os])}$(Ms,"isFlattenable");var Fs=Ms;function Ps(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=Fs),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?Ps(s,t-1,r,n,i):Ii(i,s):n||(i[i.length]=s)}return i}$(Ps,"baseFlatten");var Bs=Ps;function Ds(e){return(null==e?0:e.length)?Bs(e,1):[]}$(Ds,"flatten");var Us=Ds;function zs(e){return Pn(In(e,void 0,Us),e+"")}function js(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}$(zs,"flatRest"),zs((function(e,t){return null==e?{}:Ns(e,t)})),$(js,"arrayReduce");var Gs=js;function Ws(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}$(Ws,"baseReduce");var qs=Ws;function Hs(e,t,r){var n=Cr(e)?Gs:qs,i=arguments.length<3;return n(e,hs(t),r,i,Ea)}$(Hs,"reduce");var Vs=Hs;function Ks(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}$(Ks,"baseFindIndex");var Ys=Ks;function Xs(e){return e!=e}$(Xs,"baseIsNaN");var Js=Xs;function Zs(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}$(Zs,"strictIndexOf");var Qs=Zs;function el(e,t,r){return t==t?Qs(e,t,r):Ys(e,Js,r)}$(el,"baseIndexOf");var tl=el;function rl(e,t){return!!(null==e?0:e.length)&&tl(e,t,0)>-1}$(rl,"arrayIncludes");var nl=rl;function il(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}$(il,"arrayIncludesWith");var al=il;function ol(){}$(ol,"noop");var sl=ol,ll=Xn&&1/Xa(new Xn([,-0]))[1]==1/0?function(e){return new Xn(e)}:sl,ul=ll;function cl(e,t,r){var n=-1,i=nl,a=e.length,o=!0,s=[],l=s;if(r)o=!1,i=al;else if(a>=200){var u=t?null:ul(e);if(u)return Xa(u);o=!1,i=Wa,l=new Ua}else l=t?[]:s;e:for(;++n<a;){var c=e[n],h=t?t(c):c;if(c=r||0!==c?c:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(c)}else i(l,h,r)||(l!==s&&l.push(h),s.push(c))}return s}$(cl,"baseUniq");var hl=cl;Dn((function(e){return hl(Bs(e,1,Ar,!0))}));var dl=/\s/;function fl(e){for(var t=e.length;t--&&dl.test(e.charAt(t)););return t}$(fl,"trimmedEndIndex");var pl=fl,ml=/^\s+/;function gl(e){return e&&e.slice(0,pl(e)+1).replace(ml,"")}$(gl,"baseTrim");var yl=gl,vl=/^[-+]0x[0-9a-f]+$/i,Tl=/^0b[01]+$/i,Cl=/^0o[0-7]+$/i,xl=parseInt;function bl(e){if("number"==typeof e)return e;if(_o(e))return NaN;if(ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=yl(e);var r=Tl.test(e);return r||Cl.test(e)?xl(e.slice(2),r?2:8):vl.test(e)?NaN:+e}$(bl,"toNumber");var kl=bl,_l=1/0;function Sl(e){return e?(e=kl(e))===_l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}$(Sl,"toFinite");var Al=Sl;function Rl(e){var t=Al(e),r=t%1;return t==t?r?t-r:t:0}$(Rl,"toInteger");var El=Rl,wl=Object.prototype.hasOwnProperty,Ll=Gn((function(e,t){if(lr(t)||_r(t))nn(t,pi(t),e);else for(var r in t)wl.call(t,r)&&tn(e,r,t[r])})),$l=Ll;function Il(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}$(Il,"baseSlice");var Nl=Il,Ol=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ml(e){return Ol.test(e)}$(Ml,"hasUnicode");var Fl=Ml;function Pl(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i}$((function(e){return ga(e,5)}),"cloneDeep"),$(Pl,"compact");var Bl=Pl;function Dl(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}$(Dl,"arrayAggregator");var Ul=Dl;function zl(e,t,r,n){return Ea(e,(function(e,i,a){t(n,e,r(e),a)})),n}$(zl,"baseAggregator");var jl=zl;function Gl(e,t){return function(r,n){var i=Cr(r)?Ul:jl,a=t?t():{};return i(r,e,hs(n),a)}}$(Gl,"createAggregator");var Wl=Gl;$((function(){return D.Date.now()}),"now");function ql(e,t,r,n){var i=-1,a=nl,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=Mo(t,Wr(r))),n?(a=al,o=!1):t.length>=200&&(a=Wa,o=!1,t=new Ua(t));e:for(;++i<s;){var c=e[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,o&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else a(t,h,n)||l.push(c)}return l}$(ql,"baseDifference");var Hl=ql,Vl=Dn((function(e,t){return Ar(e)?Hl(e,Bs(t,1,Ar,!0)):[]})),Kl=Vl;function Yl(e,t,r){var n=null==e?0:e.length;return n?(t=r||void 0===t?1:El(t),Nl(e,t<0?0:t,n)):[]}$(Yl,"drop");var Xl=Yl;function Jl(e,t,r){var n=null==e?0:e.length;return n?(t=r||void 0===t?1:El(t),Nl(e,0,(t=n-t)<0?0:t)):[]}$(Jl,"dropRight");var Zl=Jl;function Ql(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}$(Ql,"arrayEvery");var eu=Ql;function tu(e,t){var r=!0;return Ea(e,(function(e,n,i){return r=!!t(e,n,i)})),r}$(tu,"baseEvery");var ru=tu;function nu(e,t,r){var n=Cr(e)?eu:ru;return r&&zn(e,t,r)&&(t=void 0),n(e,hs(t))}$(nu,"every");var iu=nu;function au(e){return function(t,r,n){var i=Object(t);if(!_r(t)){var a=hs(r);t=pi(t),r=$((function(e){return a(i[e],e,i)}),"predicate")}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}$(au,"createFind");var ou=au,su=Math.max;function lu(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:El(r);return i<0&&(i=su(n+i,0)),Ys(e,hs(t),i)}$(lu,"findIndex");var uu=ou(lu);function cu(e){return e&&e.length?e[0]:void 0}$(cu,"head");var hu=cu;function du(e,t){return Bs(ys(e,t),1)}$(du,"flatMap");var fu=du;$((function(e,t){return null==e?e:Ut(e,La(t),Tn)}),"forIn"),$((function(e,t){return e&&Aa(e,La(t))}),"forOwn");var pu=Object.prototype.hasOwnProperty,mu=Wl((function(e,t,r){pu.call(e,r)?e[r].push(t):Ft(e,r,[t])})),gu=mu,yu=Object.prototype.hasOwnProperty;function vu(e,t){return null!=e&&yu.call(e,t)}$(vu,"baseHas");var Tu=vu;function Cu(e,t){return null!=e&&Qo(e,t,Tu)}$(Cu,"has");var xu=Cu;function bu(e){return"string"==typeof e||!Cr(e)&&dr(e)&&"[object String]"==Z(e)}$(bu,"isString");var ku=bu,_u=Math.max;function Su(e,t,r,n){e=_r(e)?e:xs(e),r=r&&!n?El(r):0;var i=e.length;return r<0&&(r=_u(i+r,0)),ku(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&tl(e,t,r)>-1}$(Su,"includes");var Au=Su,Ru=Math.max;function Eu(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:El(r);return i<0&&(i=Ru(n+i,0)),tl(e,t,i)}$(Eu,"indexOf");var wu=Eu;function Lu(e){return dr(e)&&"[object RegExp]"==Z(e)}$(Lu,"baseIsRegExp");var $u=Lu,Iu=Kr&&Kr.isRegExp,Nu=Iu?Wr(Iu):$u;function Ou(e,t){return e<t}$(Ou,"baseLt");var Mu=Ou;function Fu(e){return e&&e.length?Ss(e,Rn,Mu):void 0}$(Fu,"min");var Pu=Fu;$((function(e,t){return e&&e.length?Ss(e,hs(t),Mu):void 0}),"minBy");function Bu(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}$(Bu,"negate");var Du=Bu;function Uu(e,t){if(null==e)return{};var r=Mo(ji(e),(function(e){return[e]}));return t=hs(t),$s(e,r,(function(e,r){return t(e,r[0])}))}$(Uu,"pickBy");var zu=Uu;function ju(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}$(ju,"baseSortBy");var Gu=ju;function Wu(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=_o(e),o=void 0!==t,s=null===t,l=t==t,u=_o(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}$(Wu,"compareAscending");var qu=Wu;function Hu(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var l=qu(i[n],a[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}$(Hu,"compareMultiple");var Vu=Hu;function Ku(e,t,r){t=t.length?Mo(t,(function(e){return Cr(e)?function(t){return Vo(t,1===e.length?e[0]:e)}:e})):[Rn];var n=-1;t=Mo(t,Wr(hs));var i=ms(e,(function(e,r,i){var a=Mo(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return Gu(i,(function(e,t){return Vu(e,t,r)}))}$(Ku,"baseOrderBy");var Yu=Ku,Xu=as("length"),Ju="\\ud800-\\udfff",Zu="["+Ju+"]",Qu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ec="\\ud83c[\\udffb-\\udfff]",tc="[^"+Ju+"]",rc="(?:\\ud83c[\\udde6-\\uddff]){2}",nc="[\\ud800-\\udbff][\\udc00-\\udfff]",ic="(?:"+Qu+"|"+ec+")"+"?",ac="[\\ufe0e\\ufe0f]?",oc=ac+ic+("(?:\\u200d(?:"+[tc,rc,nc].join("|")+")"+ac+ic+")*"),sc="(?:"+[tc+Qu+"?",Qu,rc,nc,Zu].join("|")+")",lc=RegExp(ec+"(?="+ec+")|"+sc+oc,"g");function uc(e){for(var t=lc.lastIndex=0;lc.test(e);)++t;return t}$(uc,"unicodeSize");var cc=uc;function hc(e){return Fl(e)?cc(e):Xu(e)}$(hc,"stringSize");var dc=hc,fc=Math.ceil,pc=Math.max;function mc(e,t,r,n){for(var i=-1,a=pc(fc((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}$(mc,"baseRange");var gc=mc;function yc(e,t){return(Cr(e)?bi:Oa)(e,Du(hs(t)))}$((function(e){return function(t,r,n){return n&&"number"!=typeof n&&zn(t,r,n)&&(r=n=void 0),t=Al(t),void 0===r?(r=t,t=0):r=Al(r),n=void 0===n?t<r?1:-1:Al(n),gc(t,r,n,e)}}),"createRange"),$(yc,"reject");var vc=yc;function Tc(e,t){var r;return Ea(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}$((function(e){if(null==e)return 0;if(_r(e))return ku(e)?dc(e):e.length;var t=ui(e);return"[object Map]"==t||"[object Set]"==t?e.size:Vn(e).length}),"size"),$(Tc,"baseSome");var Cc=Tc;function xc(e,t,r){var n=Cr(e)?ja:Cc;return r&&zn(e,t,r)&&(t=void 0),n(e,hs(t))}$(xc,"some");var bc=xc;function kc(e){return e&&e.length?hl(e):[]}Dn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&zn(e,t[0],t[1])?t=[]:r>2&&zn(t[0],t[1],t[2])&&(t=[t[0]]),Yu(e,Bs(t,1),[])})),$(kc,"uniq");var _c=kc;function Sc(e,t){return e&&e.length?hl(e,hs(t)):[]}$(Sc,"uniqBy");var Ac=Sc,Rc=0;function Ec(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;){var s=n<a?t[n]:void 0;r(o,e[n],s)}return o}$((function(e){var t=++Rc;return zo(e)+t}),"uniqueId"),$(Ec,"baseZipObject");var wc=Ec;$((function(e,t){return wc(e||[],t||[],tn)}),"zipObject");
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
var Lc=I((e=>{var t;function r(){if(void 0===t)throw new Error("No runtime abstraction layer installed");return t}Object.defineProperty(e,"__esModule",{value:!0}),$(r,"RAL"),function(e){function r(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");t=e}$(r,"install"),e.install=r}(r||(r={})),e.default=r})),$c=I((e=>{function t(e){return!0===e||!1===e}function r(e){return"string"==typeof e||e instanceof String}function n(e){return"number"==typeof e||e instanceof Number}function i(e){return e instanceof Error}function a(e){return"function"==typeof e}function o(e){return Array.isArray(e)}function s(e){return o(e)&&e.every((e=>r(e)))}Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0,$(t,"boolean"),e.boolean=t,$(r,"string"),e.string=r,$(n,"number"),e.number=n,$(i,"error"),e.error=i,$(a,"func"),e.func=a,$(o,"array"),e.array=o,$(s,"stringArray"),e.stringArray=s})),Ic=I((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t,r=Lc();!function(e){let t={dispose(){}};e.None=function(){return t}}(t||(e.Event=t={}));var n=class{static{$(this,"CallbackList")}add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:$((()=>this.remove(e,t)),"dispose")})}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,o=n.length;a<o;a++)try{t.push(n[a].apply(i[a],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}},i=class e{static{$(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(t,r,i)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let a={dispose:$((()=>{this._callbacks&&(this._callbacks.remove(t,r),a.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}),"dispose")};return Array.isArray(i)&&i.push(a),a}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};e.Emitter=i,i._noop=function(){}})),Nc=I((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t,r=Lc(),n=$c(),i=Ic();!function(e){function t(t){let r=t;return r&&(r===e.None||r===e.Cancelled||n.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),$(t,"is"),e.is=t}(t||(e.CancellationToken=t={}));var a=Object.freeze((function(e,t){let n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}})),o=class{static{$(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},s=class{static{$(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new o),this._token}cancel(){this._token?this._token.cancel():this._token=t.Cancelled}dispose(){this._token?this._token instanceof o&&this._token.dispose():this._token=t.None}};e.CancellationTokenSource=s})),Oc={};N(Oc,{AbstractAstReflection:()=>Uc,AbstractCstNode:()=>Px,AbstractLangiumParser:()=>qx,AbstractParserErrorMessageProvider:()=>Vx,AbstractThreadedAsyncParser:()=>d_,AstUtils:()=>ff,BiMap:()=>Jb,Cancellation:()=>xb,CompositeCstNodeImpl:()=>Dx,ContextCache:()=>ik,CstNodeBuilder:()=>Fx,CstUtils:()=>Mc,DEFAULT_TOKENIZE_OPTIONS:()=>Lk,DONE_RESULT:()=>Kc,DatatypeSymbol:()=>jx,DefaultAstNodeDescriptionProvider:()=>Ck,DefaultAstNodeLocator:()=>bk,DefaultAsyncParser:()=>h_,DefaultCommentProvider:()=>c_,DefaultConfigurationProvider:()=>Sk,DefaultDocumentBuilder:()=>Ak,DefaultDocumentValidator:()=>gk,DefaultHydrator:()=>m_,DefaultIndexManager:()=>Rk,DefaultJsonSerializer:()=>hk,DefaultLangiumDocumentFactory:()=>Gb,DefaultLangiumDocuments:()=>Wb,DefaultLexer:()=>$k,DefaultLexerErrorMessageProvider:()=>wk,DefaultLinker:()=>Hb,DefaultNameProvider:()=>Kb,DefaultReferenceDescriptionProvider:()=>xk,DefaultReferences:()=>Yb,DefaultScopeComputation:()=>Zb,DefaultScopeProvider:()=>sk,DefaultServiceRegistry:()=>dk,DefaultTokenBuilder:()=>Tb,DefaultValueConverter:()=>Cb,DefaultWorkspaceLock:()=>p_,DefaultWorkspaceManager:()=>Ek,Deferred:()=>Ib,Disposable:()=>_k,DisposableCache:()=>rk,DocumentCache:()=>ak,DocumentState:()=>Ub,DocumentValidator:()=>pk,EMPTY_SCOPE:()=>tk,EMPTY_STREAM:()=>Vc,EmptyFileSystem:()=>$_,EmptyFileSystemProvider:()=>L_,ErrorWithLocation:()=>Ch,GrammarAST:()=>bh,GrammarUtils:()=>Th,IndentationAwareLexer:()=>E_,IndentationAwareTokenBuilder:()=>R_,JSDocDocumentationProvider:()=>u_,LangiumCompletionParser:()=>Yx,LangiumParser:()=>Hx,LangiumParserErrorMessageProvider:()=>Kx,LeafCstNodeImpl:()=>Bx,LexingMode:()=>S_,MapScope:()=>ek,Module:()=>l_,MultiMap:()=>Xb,OperationCancelled:()=>Rb,ParserWorker:()=>f_,Reduction:()=>Xc,RegExpUtils:()=>Ef,RootCstNodeImpl:()=>zx,SimpleCache:()=>nk,StreamImpl:()=>Wc,StreamScope:()=>Qb,TextDocument:()=>Lb,TreeStreamImpl:()=>Zc,URI:()=>zb,UriUtils:()=>Db,ValidationCategory:()=>ck,ValidationRegistry:()=>mk,ValueConverter:()=>vb,WorkspaceCache:()=>ok,assertUnreachable:()=>xh,createCompletionParser:()=>mb,createDefaultCoreModule:()=>g_,createDefaultSharedCoreModule:()=>y_,createGrammarConfig:()=>Dp,createLangiumParser:()=>gb,createParser:()=>Zx,delayNextTick:()=>bb,diagnosticData:()=>fk,eagerLoad:()=>C_,getDiagnosticRange:()=>yk,indentationBuilderDefaultOptions:()=>A_,inject:()=>v_,interruptAndCheck:()=>wb,isAstNode:()=>Fc,isAstNodeDescription:()=>Bc,isAstNodeWithComment:()=>lk,isCompositeCstNode:()=>zc,isIMultiModeLexerDefinition:()=>Nk,isJSDoc:()=>Fk,isLeafCstNode:()=>jc,isLinkingError:()=>Dc,isNamed:()=>Vb,isOperationCancelled:()=>Eb,isReference:()=>Pc,isRootCstNode:()=>Gc,isTokenTypeArray:()=>Ik,isTokenTypeDictionary:()=>Ok,loadGrammarFromJson:()=>M_,parseJSDoc:()=>Mk,prepareLangiumParser:()=>yb,setInterruptionPeriod:()=>Ab,startCancelableOperation:()=>Sb,stream:()=>Yc,toDiagnosticData:()=>Tk,toDiagnosticSeverity:()=>vk});var Mc={};function Fc(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$type}function Pc(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$refText}function Bc(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name&&"string"==typeof e.type&&"string"==typeof e.path}function Dc(e){return"object"==typeof e&&null!==e&&Fc(e.container)&&Pc(e.reference)&&"string"==typeof e.message}N(Mc,{DefaultNameRegexp:()=>oh,RangeComparison:()=>Jc,compareRange:()=>ih,findCommentNode:()=>lh,findDeclarationNodeAtOffset:()=>sh,findLeafNodeAtOffset:()=>ch,findLeafNodeBeforeOffset:()=>hh,flattenCst:()=>eh,getInteriorNodes:()=>gh,getNextNode:()=>ph,getPreviousNode:()=>fh,getStartlineNode:()=>mh,inRange:()=>ah,isChildNode:()=>th,isCommentNode:()=>uh,streamCst:()=>Qc,toDocumentSegment:()=>nh,tokenToRange:()=>rh}),$(Fc,"isAstNode"),$(Pc,"isReference"),$(Bc,"isAstNodeDescription"),$(Dc,"isLinkingError");var Uc=class{static{$(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return Fc(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});let n=r[t];if(void 0!==n)return n;{let n=this.computeIsSubtype(e,t);return r[t]=n,n}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let t=this.getAllTypes(),r=[];for(let n of t)this.isSubtype(n,e)&&r.push(n);return this.allSubtypes[e]=r,r}}};function zc(e){return"object"==typeof e&&null!==e&&Array.isArray(e.content)}function jc(e){return"object"==typeof e&&null!==e&&"object"==typeof e.tokenType}function Gc(e){return zc(e)&&"string"==typeof e.fullText}$(zc,"isCompositeCstNode"),$(jc,"isLeafCstNode"),$(Gc,"isRootCstNode");var Wc=class e{static{$(this,"StreamImpl")}constructor(e,t){this.startFn=e,this.nextFn=t}iterator(){let e={state:this.startFn(),next:$((()=>this.nextFn(e.state)),"next"),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let e=this.iterator(),t=0,r=e.next();for(;!r.done;)t++,r=e.next();return t}toArray(){let e,t=[],r=this.iterator();do{e=r.next(),void 0!==e.value&&t.push(e.value)}while(!e.done);return t}toSet(){return new Set(this)}toMap(e,t){let r=this.map((r=>[e?e(r):r,t?t(r):r]));return new Map(r)}toString(){return this.join()}concat(t){return new e((()=>({first:this.startFn(),firstDone:!1,iterator:t[Symbol.iterator]()})),(e=>{let t;if(!e.firstDone){do{if(t=this.nextFn(e.first),!t.done)return t}while(!t.done);e.firstDone=!0}do{if(t=e.iterator.next(),!t.done)return t}while(!t.done);return Kc}))}join(e=","){let t,r=this.iterator(),n="",i=!1;do{t=r.next(),t.done||(i&&(n+=e),n+=qc(t.value)),i=!0}while(!t.done);return n}indexOf(e,t=0){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(n>=t&&i.value===e)return n;i=r.next(),n++}return-1}every(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(!e(r.value))return!1;r=t.next()}return!0}some(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(e(r.value))return!0;r=t.next()}return!1}forEach(e){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)e(n.value,r),n=t.next(),r++}map(t){return new e(this.startFn,(e=>{let{done:r,value:n}=this.nextFn(e);return r?Kc:{done:!1,value:t(n)}}))}filter(t){return new e(this.startFn,(e=>{let r;do{if(r=this.nextFn(e),!r.done&&t(r.value))return r}while(!r.done);return Kc}))}nonNullable(){return this.filter((e=>null!=e))}reduce(e,t){let r=this.iterator(),n=t,i=r.next();for(;!i.done;)n=void 0===n?i.value:e(n,i.value),i=r.next();return n}reduceRight(e,t){return this.recursiveReduce(this.iterator(),e,t)}recursiveReduce(e,t,r){let n=e.next();if(n.done)return r;let i=this.recursiveReduce(e,t,r);return void 0===i?n.value:t(i,n.value)}find(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(e(r.value))return r.value;r=t.next()}}findIndex(e){let t=this.iterator(),r=0,n=t.next();for(;!n.done;){if(e(n.value))return r;n=t.next(),r++}return-1}includes(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(r.value===e)return!0;r=t.next()}return!1}flatMap(t){return new e((()=>({this:this.startFn()})),(e=>{do{if(e.iterator){let t=e.iterator.next();if(!t.done)return t;e.iterator=void 0}let{done:r,value:n}=this.nextFn(e.this);if(!r){let r=t(n);if(!Hc(r))return{done:!1,value:r};e.iterator=r[Symbol.iterator]()}}while(e.iterator);return Kc}))}flat(t){if(void 0===t&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new e((()=>({this:r.startFn()})),(e=>{do{if(e.iterator){let t=e.iterator.next();if(!t.done)return t;e.iterator=void 0}let{done:t,value:n}=r.nextFn(e.this);if(!t){if(!Hc(n))return{done:!1,value:n};e.iterator=n[Symbol.iterator]()}}while(e.iterator);return Kc}))}head(){let e=this.iterator().next();if(!e.done)return e.value}tail(t=1){return new e((()=>{let e=this.startFn();for(let r=0;r<t;r++)if(this.nextFn(e).done)return e;return e}),this.nextFn)}limit(t){return new e((()=>({size:0,state:this.startFn()})),(e=>(e.size++,e.size>t?Kc:this.nextFn(e.state))))}distinct(t){return new e((()=>({set:new Set,internalState:this.startFn()})),(e=>{let r;do{if(r=this.nextFn(e.internalState),!r.done){let n=t?t(r.value):r.value;if(!e.set.has(n))return e.set.add(n),r}}while(!r.done);return Kc}))}exclude(e,t){let r=new Set;for(let n of e){let e=t?t(n):n;r.add(e)}return this.filter((e=>{let n=t?t(e):e;return!r.has(n)}))}};function qc(e){return"string"==typeof e?e:typeof e>"u"?"undefined":"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}function Hc(e){return!!e&&"function"==typeof e[Symbol.iterator]}$(qc,"toString"),$(Hc,"isIterable");var Vc=new Wc((()=>{}),(()=>Kc)),Kc=Object.freeze({done:!0,value:void 0});function Yc(...e){if(1===e.length){let t=e[0];if(t instanceof Wc)return t;if(Hc(t))return new Wc((()=>t[Symbol.iterator]()),(e=>e.next()));if("number"==typeof t.length)return new Wc((()=>({index:0})),(e=>e.index<t.length?{done:!1,value:t[e.index++]}:Kc))}return e.length>1?new Wc((()=>({collIndex:0,arrIndex:0})),(t=>{do{if(t.iterator){let e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];Hc(r)?t.iterator=r[Symbol.iterator]():r&&"number"==typeof r.length&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return Kc})):Vc}$(Yc,"stream");var Xc,Jc,Zc=class extends Wc{static{$(this,"TreeStreamImpl")}constructor(e,t,r){super((()=>({iterators:r?.includeRoot?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1})),(e=>{for(e.pruned&&(e.iterators.pop(),e.pruned=!1);e.iterators.length>0;){let r=e.iterators[e.iterators.length-1].next();if(!r.done)return e.iterators.push(t(r.value)[Symbol.iterator]()),r;e.iterators.pop()}return Kc}))}iterator(){let e={state:this.startFn(),next:$((()=>this.nextFn(e.state)),"next"),prune:$((()=>{e.state.pruned=!0}),"prune"),[Symbol.iterator]:()=>e};return e}};function Qc(e){return new Zc(e,(e=>zc(e)?e.content:[]),{includeRoot:!0})}function eh(e){return Qc(e).filter(jc)}function th(e,t){for(;e.container;)if((e=e.container)===t)return!0;return!1}function rh(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function nh(e){if(!e)return;let{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function ih(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return Jc.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return Jc.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?Jc.Inside:r?Jc.OverlapBack:n?Jc.OverlapFront:Jc.Outside}function ah(e,t){return ih(e,t)>Jc.After}!function(e){function t(e){return e.reduce(((e,t)=>e+t),0)}function r(e){return e.reduce(((e,t)=>e*t),0)}function n(e){return e.reduce(((e,t)=>Math.min(e,t)))}function i(e){return e.reduce(((e,t)=>Math.max(e,t)))}$(t,"sum"),e.sum=t,$(r,"product"),e.product=r,$(n,"min"),e.min=n,$(i,"max"),e.max=i}(Xc||(Xc={})),$(Qc,"streamCst"),$(eh,"flattenCst"),$(th,"isChildNode"),$(rh,"tokenToRange"),$(nh,"toDocumentSegment"),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"}(Jc||(Jc={})),$(ih,"compareRange"),$(ah,"inRange");var oh=/^[\w\p{L}]$/u;function sh(e,t,r=oh){if(e){if(t>0){let n=t-e.offset,i=e.text.charAt(n);r.test(i)||t--}return ch(e,t)}}function lh(e,t){if(e){let r=fh(e,!0);if(r&&uh(r,t))return r;if(Gc(e)){let r=e.content.findIndex((e=>!e.hidden));for(let n=r-1;n>=0;n--){let r=e.content[n];if(uh(r,t))return r}}}}function uh(e,t){return jc(e)&&t.includes(e.tokenType.name)}function ch(e,t){if(jc(e))return e;if(zc(e)){let r=dh(e,t,!1);if(r)return ch(r,t)}}function hh(e,t){if(jc(e))return e;if(zc(e)){let r=dh(e,t,!0);if(r)return hh(r,t)}}function dh(e,t,r){let n,i=0,a=e.content.length-1;for(;i<=a;){let o=Math.floor((i+a)/2),s=e.content[o];if(s.offset<=t&&s.end>t)return s;s.end<=t?(n=r?s:void 0,i=o+1):a=o-1}return n}function fh(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e);for(;n>0;){n--;let e=r.content[n];if(t||!e.hidden)return e}e=r}}function ph(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e),i=r.content.length-1;for(;n<i;){n++;let e=r.content[n];if(t||!e.hidden)return e}e=r}}function mh(e){if(0===e.range.start.character)return e;let t,r=e.range.start.line,n=e;for(;e.container;){let i=e.container,a=t??i.content.indexOf(e);if(0===a?(e=i,t=void 0):(t=a-1,e=i.content[t]),e.range.start.line!==r)break;n=e}return n}function gh(e,t){let r=yh(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function yh(e,t){let r,n=vh(e),i=vh(t);for(let e=0;e<n.length&&e<i.length;e++){let t=n[e],a=i[e];if(t.parent!==a.parent)break;r={parent:t.parent,a:t.index,b:a.index}}return r}function vh(e){let t=[];for(;e.container;){let r=e.container,n=r.content.indexOf(e);t.push({parent:r,index:n}),e=r}return t.reverse()}$(sh,"findDeclarationNodeAtOffset"),$(lh,"findCommentNode"),$(uh,"isCommentNode"),$(ch,"findLeafNodeAtOffset"),$(hh,"findLeafNodeBeforeOffset"),$(dh,"binarySearch"),$(fh,"getPreviousNode"),$(ph,"getNextNode"),$(mh,"getStartlineNode"),$(gh,"getInteriorNodes"),$(yh,"getCommonParent"),$(vh,"getParentChain");var Th={};N(Th,{findAssignment:()=>fp,findNameAssignment:()=>pp,findNodeForKeyword:()=>hp,findNodeForProperty:()=>lp,findNodesForKeyword:()=>cp,findNodesForKeywordInternal:()=>dp,findNodesForProperty:()=>sp,getActionAtElement:()=>gp,getActionType:()=>Ap,getAllReachableRules:()=>np,getCrossReferenceTerminal:()=>ap,getEntryRule:()=>tp,getExplicitRuleType:()=>_p,getHiddenRules:()=>rp,getRuleType:()=>Ep,getRuleTypeName:()=>Rp,getTypeName:()=>Sp,isArrayCardinality:()=>vp,isArrayOperator:()=>Tp,isCommentTerminal:()=>op,isDataType:()=>bp,isDataTypeRule:()=>Cp,isOptionalCardinality:()=>yp,terminalRegex:()=>wp});var Ch=class extends Error{static{$(this,"ErrorWithLocation")}constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}};function xh(e){throw new Error("Error! The input value was not handled.")}$(xh,"assertUnreachable");var bh={};N(bh,{AbstractElement:()=>Fh,AbstractRule:()=>_h,AbstractType:()=>Ah,Action:()=>Ld,Alternatives:()=>Id,ArrayLiteral:()=>Bh,ArrayType:()=>Uh,Assignment:()=>Od,BooleanLiteral:()=>jh,CharacterRange:()=>Fd,Condition:()=>Eh,Conjunction:()=>Wh,CrossReference:()=>Bd,Disjunction:()=>Hh,EndOfFile:()=>Ud,Grammar:()=>Kh,GrammarImport:()=>Xh,Group:()=>jd,InferredType:()=>Zh,Interface:()=>ed,Keyword:()=>Wd,LangiumGrammarAstReflection:()=>hf,LangiumGrammarTerminals:()=>kh,NamedArgument:()=>rd,NegatedToken:()=>Hd,Negation:()=>id,NumberLiteral:()=>od,Parameter:()=>ld,ParameterReference:()=>cd,ParserRule:()=>dd,ReferenceType:()=>pd,RegexToken:()=>Kd,ReturnType:()=>gd,RuleCall:()=>Xd,SimpleType:()=>vd,StringLiteral:()=>Cd,TerminalAlternatives:()=>Zd,TerminalGroup:()=>ef,TerminalRule:()=>bd,TerminalRuleCall:()=>rf,Type:()=>_d,TypeAttribute:()=>Ad,TypeDefinition:()=>Ih,UnionType:()=>Ed,UnorderedGroup:()=>af,UntilToken:()=>sf,ValueLiteral:()=>Oh,Wildcard:()=>uf,isAbstractElement:()=>Ph,isAbstractRule:()=>Sh,isAbstractType:()=>Rh,isAction:()=>$d,isAlternatives:()=>Nd,isArrayLiteral:()=>Dh,isArrayType:()=>zh,isAssignment:()=>Md,isBooleanLiteral:()=>Gh,isCharacterRange:()=>Pd,isCondition:()=>wh,isConjunction:()=>qh,isCrossReference:()=>Dd,isDisjunction:()=>Vh,isEndOfFile:()=>zd,isFeatureName:()=>Lh,isGrammar:()=>Yh,isGrammarImport:()=>Jh,isGroup:()=>Gd,isInferredType:()=>Qh,isInterface:()=>td,isKeyword:()=>qd,isNamedArgument:()=>nd,isNegatedToken:()=>Vd,isNegation:()=>ad,isNumberLiteral:()=>sd,isParameter:()=>ud,isParameterReference:()=>hd,isParserRule:()=>fd,isPrimitiveType:()=>$h,isReferenceType:()=>md,isRegexToken:()=>Yd,isReturnType:()=>yd,isRuleCall:()=>Jd,isSimpleType:()=>Td,isStringLiteral:()=>xd,isTerminalAlternatives:()=>Qd,isTerminalGroup:()=>tf,isTerminalRule:()=>kd,isTerminalRuleCall:()=>nf,isType:()=>Sd,isTypeAttribute:()=>Rd,isTypeDefinition:()=>Nh,isUnionType:()=>wd,isUnorderedGroup:()=>of,isUntilToken:()=>lf,isValueLiteral:()=>Mh,isWildcard:()=>cf,reflection:()=>df});var kh={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},_h="AbstractRule";function Sh(e){return df.isInstance(e,_h)}$(Sh,"isAbstractRule");var Ah="AbstractType";function Rh(e){return df.isInstance(e,Ah)}$(Rh,"isAbstractType");var Eh="Condition";function wh(e){return df.isInstance(e,Eh)}function Lh(e){return $h(e)||"current"===e||"entry"===e||"extends"===e||"false"===e||"fragment"===e||"grammar"===e||"hidden"===e||"import"===e||"interface"===e||"returns"===e||"terminal"===e||"true"===e||"type"===e||"infer"===e||"infers"===e||"with"===e||"string"==typeof e&&/\^?[_a-zA-Z][\w_]*/.test(e)}function $h(e){return"string"===e||"number"===e||"boolean"===e||"Date"===e||"bigint"===e}$(wh,"isCondition"),$(Lh,"isFeatureName"),$($h,"isPrimitiveType");var Ih="TypeDefinition";function Nh(e){return df.isInstance(e,Ih)}$(Nh,"isTypeDefinition");var Oh="ValueLiteral";function Mh(e){return df.isInstance(e,Oh)}$(Mh,"isValueLiteral");var Fh="AbstractElement";function Ph(e){return df.isInstance(e,Fh)}$(Ph,"isAbstractElement");var Bh="ArrayLiteral";function Dh(e){return df.isInstance(e,Bh)}$(Dh,"isArrayLiteral");var Uh="ArrayType";function zh(e){return df.isInstance(e,Uh)}$(zh,"isArrayType");var jh="BooleanLiteral";function Gh(e){return df.isInstance(e,jh)}$(Gh,"isBooleanLiteral");var Wh="Conjunction";function qh(e){return df.isInstance(e,Wh)}$(qh,"isConjunction");var Hh="Disjunction";function Vh(e){return df.isInstance(e,Hh)}$(Vh,"isDisjunction");var Kh="Grammar";function Yh(e){return df.isInstance(e,Kh)}$(Yh,"isGrammar");var Xh="GrammarImport";function Jh(e){return df.isInstance(e,Xh)}$(Jh,"isGrammarImport");var Zh="InferredType";function Qh(e){return df.isInstance(e,Zh)}$(Qh,"isInferredType");var ed="Interface";function td(e){return df.isInstance(e,ed)}$(td,"isInterface");var rd="NamedArgument";function nd(e){return df.isInstance(e,rd)}$(nd,"isNamedArgument");var id="Negation";function ad(e){return df.isInstance(e,id)}$(ad,"isNegation");var od="NumberLiteral";function sd(e){return df.isInstance(e,od)}$(sd,"isNumberLiteral");var ld="Parameter";function ud(e){return df.isInstance(e,ld)}$(ud,"isParameter");var cd="ParameterReference";function hd(e){return df.isInstance(e,cd)}$(hd,"isParameterReference");var dd="ParserRule";function fd(e){return df.isInstance(e,dd)}$(fd,"isParserRule");var pd="ReferenceType";function md(e){return df.isInstance(e,pd)}$(md,"isReferenceType");var gd="ReturnType";function yd(e){return df.isInstance(e,gd)}$(yd,"isReturnType");var vd="SimpleType";function Td(e){return df.isInstance(e,vd)}$(Td,"isSimpleType");var Cd="StringLiteral";function xd(e){return df.isInstance(e,Cd)}$(xd,"isStringLiteral");var bd="TerminalRule";function kd(e){return df.isInstance(e,bd)}$(kd,"isTerminalRule");var _d="Type";function Sd(e){return df.isInstance(e,_d)}$(Sd,"isType");var Ad="TypeAttribute";function Rd(e){return df.isInstance(e,Ad)}$(Rd,"isTypeAttribute");var Ed="UnionType";function wd(e){return df.isInstance(e,Ed)}$(wd,"isUnionType");var Ld="Action";function $d(e){return df.isInstance(e,Ld)}$($d,"isAction");var Id="Alternatives";function Nd(e){return df.isInstance(e,Id)}$(Nd,"isAlternatives");var Od="Assignment";function Md(e){return df.isInstance(e,Od)}$(Md,"isAssignment");var Fd="CharacterRange";function Pd(e){return df.isInstance(e,Fd)}$(Pd,"isCharacterRange");var Bd="CrossReference";function Dd(e){return df.isInstance(e,Bd)}$(Dd,"isCrossReference");var Ud="EndOfFile";function zd(e){return df.isInstance(e,Ud)}$(zd,"isEndOfFile");var jd="Group";function Gd(e){return df.isInstance(e,jd)}$(Gd,"isGroup");var Wd="Keyword";function qd(e){return df.isInstance(e,Wd)}$(qd,"isKeyword");var Hd="NegatedToken";function Vd(e){return df.isInstance(e,Hd)}$(Vd,"isNegatedToken");var Kd="RegexToken";function Yd(e){return df.isInstance(e,Kd)}$(Yd,"isRegexToken");var Xd="RuleCall";function Jd(e){return df.isInstance(e,Xd)}$(Jd,"isRuleCall");var Zd="TerminalAlternatives";function Qd(e){return df.isInstance(e,Zd)}$(Qd,"isTerminalAlternatives");var ef="TerminalGroup";function tf(e){return df.isInstance(e,ef)}$(tf,"isTerminalGroup");var rf="TerminalRuleCall";function nf(e){return df.isInstance(e,rf)}$(nf,"isTerminalRuleCall");var af="UnorderedGroup";function of(e){return df.isInstance(e,af)}$(of,"isUnorderedGroup");var sf="UntilToken";function lf(e){return df.isInstance(e,sf)}$(lf,"isUntilToken");var uf="Wildcard";function cf(e){return df.isInstance(e,uf)}$(cf,"isWildcard");var hf=class extends Uc{static{$(this,"LangiumGrammarAstReflection")}getAllTypes(){return[Fh,_h,Ah,Ld,Id,Bh,Uh,Od,jh,Fd,Eh,Wh,Bd,Hh,Ud,Kh,Xh,jd,Zh,ed,Wd,rd,Hd,id,od,ld,cd,dd,pd,Kd,gd,Xd,vd,Cd,Zd,ef,bd,rf,_d,Ad,Ih,Ed,af,sf,Oh,uf]}computeIsSubtype(e,t){switch(e){case Ld:case Id:case Od:case Fd:case Bd:case Ud:case jd:case Wd:case Hd:case Kd:case Xd:case Zd:case ef:case rf:case af:case sf:case uf:return this.isSubtype(Fh,t);case Bh:case od:case Cd:return this.isSubtype(Oh,t);case Uh:case pd:case vd:case Ed:return this.isSubtype(Ih,t);case jh:return this.isSubtype(Eh,t)||this.isSubtype(Oh,t);case Wh:case Hh:case id:case cd:return this.isSubtype(Eh,t);case Zh:case ed:case _d:return this.isSubtype(Ah,t);case dd:return this.isSubtype(_h,t)||this.isSubtype(Ah,t);case bd:return this.isSubtype(_h,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Ah;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return _h;case"Grammar:usedGrammars":return Kh;case"NamedArgument:parameter":case"ParameterReference:parameter":return ld;case"TerminalRuleCall:rule":return bd;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case Fh:return{name:Fh,properties:[{name:"cardinality"},{name:"lookahead"}]};case Bh:return{name:Bh,properties:[{name:"elements",defaultValue:[]}]};case Uh:return{name:Uh,properties:[{name:"elementType"}]};case jh:return{name:jh,properties:[{name:"true",defaultValue:!1}]};case Wh:return{name:Wh,properties:[{name:"left"},{name:"right"}]};case Hh:return{name:Hh,properties:[{name:"left"},{name:"right"}]};case Kh:return{name:Kh,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case Xh:return{name:Xh,properties:[{name:"path"}]};case Zh:return{name:Zh,properties:[{name:"name"}]};case ed:return{name:ed,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case rd:return{name:rd,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case id:return{name:id,properties:[{name:"value"}]};case od:return{name:od,properties:[{name:"value"}]};case ld:return{name:ld,properties:[{name:"name"}]};case cd:return{name:cd,properties:[{name:"parameter"}]};case dd:return{name:dd,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case pd:return{name:pd,properties:[{name:"referenceType"}]};case gd:return{name:gd,properties:[{name:"name"}]};case vd:return{name:vd,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Cd:return{name:Cd,properties:[{name:"value"}]};case bd:return{name:bd,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case _d:return{name:_d,properties:[{name:"name"},{name:"type"}]};case Ad:return{name:Ad,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Ed:return{name:Ed,properties:[{name:"types",defaultValue:[]}]};case Ld:return{name:Ld,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Id:return{name:Id,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Od:return{name:Od,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Fd:return{name:Fd,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Bd:return{name:Bd,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case Ud:return{name:Ud,properties:[{name:"cardinality"},{name:"lookahead"}]};case jd:return{name:jd,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case Wd:return{name:Wd,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Hd:return{name:Hd,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Kd:return{name:Kd,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Xd:return{name:Xd,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Zd:return{name:Zd,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case ef:return{name:ef,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case rf:return{name:rf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case af:return{name:af,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case sf:return{name:sf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case uf:return{name:uf,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}},df=new hf,ff={};function pf(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach(((r,n)=>{Fc(r)&&(r.$container=e,r.$containerProperty=t,r.$containerIndex=n)})):Fc(r)&&(r.$container=e,r.$containerProperty=t))}function mf(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function gf(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function yf(e){let t=vf(e).$document;if(!t)throw new Error("AST node has no document.");return t}function vf(e){for(;e.$container;)e=e.$container;return e}function Tf(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new Wc((()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0})),(t=>{for(;t.keyIndex<t.keys.length;){let n=t.keys[t.keyIndex];if(!n.startsWith("$")){let i=e[n];if(Fc(i)){if(t.keyIndex++,bf(i,r))return{done:!1,value:i}}else if(Array.isArray(i)){for(;t.arrayIndex<i.length;){let e=i[t.arrayIndex++];if(Fc(e)&&bf(e,r))return{done:!1,value:e}}t.arrayIndex=0}}t.keyIndex++}return Kc}))}function Cf(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new Zc(e,(e=>Tf(e,t)))}function xf(e,t){if(!e)throw new Error("Root node must be an AstNode.");return t?.range&&!bf(e,t.range)?new Zc(e,(()=>[])):new Zc(e,(e=>Tf(e,t)),{includeRoot:!0})}function bf(e,t){var r;if(!t)return!0;let n=null===(r=e.$cstNode)||void 0===r?void 0:r.range;return!!n&&ah(n,t)}function kf(e){return new Wc((()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0})),(t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let n=e[r];if(Pc(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){let i=t.arrayIndex++,a=n[i];if(Pc(a))return{done:!1,value:{reference:a,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return Kc}))}function _f(e,t=yf(e).parseResult.value){let r=[];return xf(t).forEach((t=>{kf(t).forEach((t=>{t.reference.ref===e&&r.push(t.reference)}))})),Yc(r)}function Sf(e,t){let r=e.getTypeMetaData(t.$type),n=t;for(let e of r.properties)void 0!==e.defaultValue&&void 0===n[e.name]&&(n[e.name]=Af(e.defaultValue))}function Af(e){return Array.isArray(e)?[...e.map(Af)]:e}function Rf(e,t){let r={$type:e.$type};for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Fc(i))r[n]=Rf(i,t);else if(Pc(i))r[n]=t(r,n,i.$refNode,i.$refText);else if(Array.isArray(i)){let e=[];for(let a of i)Fc(a)?e.push(Rf(a,t)):Pc(a)?e.push(t(r,n,a.$refNode,a.$refText)):e.push(a);r[n]=e}else r[n]=i;return pf(r),r}N(ff,{assignMandatoryProperties:()=>Sf,copyAstNode:()=>Rf,findLocalReferences:()=>_f,findRootNode:()=>vf,getContainerOfType:()=>mf,getDocument:()=>yf,hasContainerOfType:()=>gf,linkContentToContainer:()=>pf,streamAllContents:()=>Cf,streamAst:()=>xf,streamContents:()=>Tf,streamReferences:()=>kf}),$(pf,"linkContentToContainer"),$(mf,"getContainerOfType"),$(gf,"hasContainerOfType"),$(yf,"getDocument"),$(vf,"findRootNode"),$(Tf,"streamContents"),$(Cf,"streamAllContents"),$(xf,"streamAst"),$(bf,"isAstNodeInRange"),$(kf,"streamReferences"),$(_f,"findLocalReferences"),$(Sf,"assignMandatoryProperties"),$(Af,"copyDefaultValue"),$(Rf,"copyAstNode");var Ef={};function wf(e){return e.charCodeAt(0)}function Lf(e,t){Array.isArray(e)?e.forEach((function(e){t.push(e)})):t.push(e)}function $f(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function If(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function Nf(){throw Error("Internal Error - Should never get here!")}function Of(e){return"Character"===e.type}N(Ef,{NEWLINE_REGEXP:()=>Gf,escapeRegExp:()=>Jf,getCaseInsensitivePattern:()=>Zf,getTerminalParts:()=>Vf,isMultilineComment:()=>Kf,isWhitespace:()=>Xf,partialMatches:()=>Qf,partialRegExp:()=>ep,whitespaceCharacters:()=>Yf}),$(wf,"cc"),$(Lf,"insertToSet"),$($f,"addFlag"),$(If,"ASSERT_EXISTS"),$(Nf,"ASSERT_NEVER_REACH_HERE"),$(Of,"isCharacter");var Mf=[];for(let e=wf("0");e<=wf("9");e++)Mf.push(e);var Ff=[wf("_")].concat(Mf);for(let e=wf("a");e<=wf("z");e++)Ff.push(e);for(let e=wf("A");e<=wf("Z");e++)Ff.push(e);var Pf=[wf(" "),wf("\f"),wf("\n"),wf("\r"),wf("\t"),wf("\v"),wf("\t"),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf(""),wf("\u2028"),wf("\u2029"),wf(""),wf(""),wf(""),wf("\ufeff")],Bf=/[0-9a-fA-F]/,Df=/[0-9]/,Uf=/[1-9]/,zf=class{static{$(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let t=this.disjunction();this.consumeChar("/");let r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":$f(r,"global");break;case"i":$f(r,"ignoreCase");break;case"m":$f(r,"multiLine");break;case"u":$f(r,"unicode");break;case"y":$f(r,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}If(t);let r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return Nf()}quantifier(e=!1){let t,r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:r,atMost:e}):t={atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;If(t)}if((!0!==e||void 0!==t)&&If(t))return"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),If(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Nf()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[wf("\n"),wf("\r"),wf("\u2028"),wf("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=Mf;break;case"D":e=Mf,t=!0;break;case"s":e=Pf;break;case"S":e=Pf,t=!0;break;case"w":e=Ff;break;case"W":e=Ff,t=!0}return If(e)?{type:"Set",value:e,complement:t}:Nf()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=wf("\f");break;case"n":e=wf("\n");break;case"r":e=wf("\r");break;case"t":e=wf("\t");break;case"v":e=wf("\v")}return If(e)?{type:"Character",value:e}:Nf()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:wf("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:wf(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:wf(this.popChar())}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let t=this.classAtom();if(t.type,Of(t)&&this.isRangeDash()){this.consumeChar("-");let r=this.classAtom();if(r.type,Of(r)){if(r.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:r.value})}else Lf(t.value,e),e.push(wf("-")),Lf(r.value,e)}else Lf(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:wf("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;if("?"===(this.consumeChar("("),this.peekChar(0)))this.consumeChar("?"),this.consumeChar(":"),e=!1;else this.groupIdx++;let t=this.disjunction();this.consumeChar(")");let r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(!1===Uf.test(e))throw Error("Expecting a positive integer");for(;Df.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===Df.test(e))throw Error("Expecting an integer");for(;Df.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:wf(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return Df.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){let e=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){let e=this.popChar();if(!1===Bf.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}},jf=class{static{$(this,"BaseRegExpVisitor")}visitChildren(e){for(let t in e){let r=e[t];e.hasOwnProperty(t)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach((e=>{this.visit(e)}),this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}},Gf=/\r?\n/gm,Wf=new zf,qf=class extends jf{static{$(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let t=String.fromCharCode(e.value);if(!this.multiline&&"\n"===t&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let e=Jf(t);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitSet(e){if(!this.multiline){let t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=!!"\n".match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){"Group"===e.type&&e.quantifier||super.visitChildren(e)}},Hf=new qf;function Vf(e){try{"string"!=typeof e&&(e=e.source),e=`/${e}/`;let t=Wf.pattern(e),r=[];for(let n of t.value.value)Hf.reset(e),Hf.visit(n),r.push({start:Hf.startRegexp,end:Hf.endRegex});return r}catch{return[]}}function Kf(e){try{return"string"==typeof e&&(e=new RegExp(e)),e=e.toString(),Hf.reset(e),Hf.visit(Wf.pattern(e)),Hf.multiline}catch{return!1}}$(Vf,"getTerminalParts"),$(Kf,"isMultilineComment");var Yf="\f\n\r\t\v \u2028\u2029\ufeff".split("");function Xf(e){let t="string"==typeof e?new RegExp(e):e;return Yf.some((e=>t.test(e)))}function Jf(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zf(e){return Array.prototype.map.call(e,(e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:Jf(e))).join("")}function Qf(e,t){let r=ep(e),n=t.match(r);return!!n&&n[0].length>0}function ep(e){"string"==typeof e&&(e=new RegExp(e));let t=e,r=e.source,n=0;function i(){let e,a="";function o(e){a+=r.substr(n,e),n+=e}function s(e){a+="(?:"+r.substr(n,e)+"|$)",n+=e}for($(o,"appendRaw"),$(s,"appendOptional");n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":s(3);break;case"x":s(4);break;case"u":t.unicode?"{"===r[n+2]?s(r.indexOf("}",n)-n+1):s(6):s(2);break;case"p":case"P":t.unicode?s(r.indexOf("}",n)-n+1):s(2);break;case"k":s(r.indexOf(">",n)-n+1);break;default:s(2)}break;case"[":e=/\[(?:\\.|.)*?\]/g,e.lastIndex=n,e=e.exec(r)||[],s(e[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":e=/\{\d+,?\d*\}/g,e.lastIndex=n,e=e.exec(r),e?o(e[0].length):s(1);break;case"(":if("?"===r[n+1])switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":e=n,n+=3,i(),a+=r.substr(e,n-e);break;case"<":switch(r[n+3]){case"=":case"!":e=n,n+=4,i(),a+=r.substr(e,n-e);break;default:o(r.indexOf(">",n)-n+1),a+=i()+"|$)"}}else o(1),a+=i()+"|$)";break;case")":return++n,a;default:s(1)}return a}return $(i,"process"),new RegExp(i(),e.flags)}function tp(e){return e.rules.find((e=>fd(e)&&e.entry))}function rp(e){return e.rules.filter((e=>kd(e)&&e.hidden))}function np(e,t){let r=new Set,n=tp(e);if(!n)return new Set(e.rules);let i=[n].concat(rp(e));for(let e of i)ip(e,r,t);let a=new Set;for(let t of e.rules)(r.has(t.name)||kd(t)&&t.hidden)&&a.add(t);return a}function ip(e,t,r){t.add(e.name),Cf(e).forEach((e=>{if(Jd(e)||r&&nf(e)){let n=e.rule.ref;n&&!t.has(n.name)&&ip(n,t,r)}}))}function ap(e){if(e.terminal)return e.terminal;if(e.type.ref){let t=pp(e.type.ref);return t?.terminal}}function op(e){return e.hidden&&!Xf(wp(e))}function sp(e,t){return e&&t?up(e,t,e.astNode,!0):[]}function lp(e,t,r){if(!e||!t)return;let n=up(e,t,e.astNode,!0);return 0!==n.length?n[r=void 0!==r?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function up(e,t,r,n){if(!n){let r=mf(e.grammarSource,Md);if(r&&r.feature===t)return[e]}return zc(e)&&e.astNode===r?e.content.flatMap((e=>up(e,t,r,!1))):[]}function cp(e,t){return e?dp(e,t,e?.astNode):[]}function hp(e,t,r){if(!e)return;let n=dp(e,t,e?.astNode);return 0!==n.length?n[r=void 0!==r?Math.max(0,Math.min(r,n.length-1)):0]:void 0}function dp(e,t,r){if(e.astNode!==r)return[];if(qd(e.grammarSource)&&e.grammarSource.value===t)return[e];let n,i=Qc(e).iterator(),a=[];do{if(n=i.next(),!n.done){let e=n.value;e.astNode===r?qd(e.grammarSource)&&e.grammarSource.value===t&&a.push(e):i.prune()}}while(!n.done);return a}function fp(e){var t;let r=e.astNode;for(;r===(null===(t=e.container)||void 0===t?void 0:t.astNode);){let t=mf(e.grammarSource,Md);if(t)return t;e=e.container}}function pp(e){let t=e;return Qh(t)&&($d(t.$container)?t=t.$container.$container:fd(t.$container)?t=t.$container:xh(t.$container)),mp(e,t,new Map)}function mp(e,t,r){var n;function i(t,n){let i;return mf(t,Md)||(i=mp(n,n,r)),r.set(e,i),i}if($(i,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(let a of Cf(t)){if(Md(a)&&"name"===a.feature.toLowerCase())return r.set(e,a),a;if(Jd(a)&&fd(a.rule.ref))return i(a,a.rule.ref);if(Td(a)&&null!==(n=a.typeRef)&&void 0!==n&&n.ref)return i(a,a.typeRef.ref)}}function gp(e){let t=e.$container;if(Gd(t)){let r=t.elements;for(let t=r.indexOf(e)-1;t>=0;t--){let e=r[t];if($d(e))return e;{let e=Cf(r[t]).find($d);if(e)return e}}}if(Ph(t))return gp(t)}function yp(e,t){return"?"===e||"*"===e||Gd(t)&&!!t.guardCondition}function vp(e){return"*"===e||"+"===e}function Tp(e){return"+="===e}function Cp(e){return xp(e,new Set)}function xp(e,t){if(t.has(e))return!0;t.add(e);for(let r of Cf(e))if(Jd(r)){if(!r.rule.ref||fd(r.rule.ref)&&!xp(r.rule.ref,t))return!1}else{if(Md(r))return!1;if($d(r))return!1}return!!e.definition}function bp(e){return kp(e.type,new Set)}function kp(e,t){if(t.has(e))return!0;if(t.add(e),zh(e))return!1;if(md(e))return!1;if(wd(e))return e.types.every((e=>kp(e,t)));if(Td(e)){if(void 0!==e.primitiveType)return!0;if(void 0!==e.stringType)return!0;if(void 0!==e.typeRef){let r=e.typeRef.ref;return!!Sd(r)&&kp(r.type,t)}return!1}return!1}function _p(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t){if(fd(t))return t.name;if(td(t)||Sd(t))return t.name}}}function Sp(e){var t;if(fd(e))return Cp(e)?e.name:null!==(t=_p(e))&&void 0!==t?t:e.name;if(td(e)||Sd(e)||yd(e))return e.name;if($d(e)){let t=Ap(e);if(t)return t}else if(Qh(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function Ap(e){var t;return e.inferredType?e.inferredType.name:null!==(t=e.type)&&void 0!==t&&t.ref?Sp(e.type.ref):void 0}function Rp(e){var t,r,n;return kd(e)?null!==(r=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==r?r:"string":Cp(e)?e.name:null!==(n=_p(e))&&void 0!==n?n:e.name}function Ep(e){var t,r,n;return kd(e)?null!==(r=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==r?r:"string":null!==(n=_p(e))&&void 0!==n?n:e.name}function wp(e){let t={s:!1,i:!1,u:!1},r=$p(e.definition,t),n=Object.entries(t).filter((([,e])=>e)).map((([e])=>e)).join("");return new RegExp(r,n)}$(Xf,"isWhitespace"),$(Jf,"escapeRegExp"),$(Zf,"getCaseInsensitivePattern"),$(Qf,"partialMatches"),$(ep,"partialRegExp"),$(tp,"getEntryRule"),$(rp,"getHiddenRules"),$(np,"getAllReachableRules"),$(ip,"ruleDfs"),$(ap,"getCrossReferenceTerminal"),$(op,"isCommentTerminal"),$(sp,"findNodesForProperty"),$(lp,"findNodeForProperty"),$(up,"findNodesForPropertyInternal"),$(cp,"findNodesForKeyword"),$(hp,"findNodeForKeyword"),$(dp,"findNodesForKeywordInternal"),$(fp,"findAssignment"),$(pp,"findNameAssignment"),$(mp,"findNameAssignmentInternal"),$(gp,"getActionAtElement"),$(yp,"isOptionalCardinality"),$(vp,"isArrayCardinality"),$(Tp,"isArrayOperator"),$(Cp,"isDataTypeRule"),$(xp,"isDataTypeRuleInternal"),$(bp,"isDataType"),$(kp,"isDataTypeInternal"),$(_p,"getExplicitRuleType"),$(Sp,"getTypeName"),$(Ap,"getActionType"),$(Rp,"getRuleTypeName"),$(Ep,"getRuleType"),$(wp,"terminalRegex");var Lp=/[\s\S]/.source;function $p(e,t){if(Qd(e))return Ip(e);if(tf(e))return Np(e);if(Pd(e))return Fp(e);if(nf(e)){let t=e.rule.ref;if(!t)throw new Error("Missing rule reference.");return Bp($p(t.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(Vd(e))return Mp(e);if(lf(e))return Op(e);if(Yd(e)){let r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),Bp(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(cf(e))return Bp(Lp,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}function Ip(e){return Bp(e.elements.map((e=>$p(e))).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function Np(e){return Bp(e.elements.map((e=>$p(e))).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function Op(e){return Bp(`${Lp}*?${$p(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Mp(e){return Bp(`(?!${$p(e.terminal)})${Lp}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Fp(e){return e.right?Bp(`[${Pp(e.left)}-${Pp(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):Bp(Pp(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function Pp(e){return Jf(e.value)}function Bp(e,t){var r;return(!1!==t.wrap||t.lookahead)&&(e=`(${null!==(r=t.lookahead)&&void 0!==r?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function Dp(e){let t=[],r=e.Grammar;for(let e of r.rules)kd(e)&&op(e)&&Kf(wp(e))&&t.push(e.name);return{multilineCommentRules:t,nameRegexp:oh}}function Up(e){console&&console.error&&console.error(`Error: ${e}`)}function zp(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function jp(e){let t=(new Date).getTime(),r=e();return{time:(new Date).getTime()-t,value:r}}function Gp(e){function t(){}$(t,"FakeConstructor"),t.prototype=e;let r=new t;function n(){return typeof r.bar}return $(n,"fakeAccess"),n(),n(),e}function Wp(e){return qp(e)?e.LABEL:e.name}function qp(e){return ku(e.LABEL)&&""!==e.LABEL}$($p,"abstractElementToRegex"),$(Ip,"terminalAlternativesToRegex"),$(Np,"terminalGroupToRegex"),$(Op,"untilTokenToRegex"),$(Mp,"negateTokenToRegex"),$(Fp,"characterRangeToRegex"),$(Pp,"keywordToRegex"),$(Bp,"withCardinality"),$(Dp,"createGrammarConfig"),$(Up,"PRINT_ERROR"),$(zp,"PRINT_WARNING"),$(jp,"timer"),$(Gp,"toFastProperties"),$(Wp,"tokenLabel"),$(qp,"hasTokenLabel");var Hp=class{static{$(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Ia(this.definition,(t=>{t.accept(e)}))}},Vp=class extends Hp{static{$(this,"NonTerminal")}constructor(e){super([]),this.idx=1,$l(this,zu(e,(e=>void 0!==e)))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}},Kp=class extends Hp{static{$(this,"Rule")}constructor(e){super(e.definition),this.orgText="",$l(this,zu(e,(e=>void 0!==e)))}},Yp=class extends Hp{static{$(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,$l(this,zu(e,(e=>void 0!==e)))}},Xp=class extends Hp{static{$(this,"Option")}constructor(e){super(e.definition),this.idx=1,$l(this,zu(e,(e=>void 0!==e)))}},Jp=class extends Hp{static{$(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,$l(this,zu(e,(e=>void 0!==e)))}},Zp=class extends Hp{static{$(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,$l(this,zu(e,(e=>void 0!==e)))}},Qp=class extends Hp{static{$(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,$l(this,zu(e,(e=>void 0!==e)))}},em=class extends Hp{static{$(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,$l(this,zu(e,(e=>void 0!==e)))}},tm=class extends Hp{static{$(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,$l(this,zu(e,(e=>void 0!==e)))}},rm=class{static{$(this,"Terminal")}constructor(e){this.idx=1,$l(this,zu(e,(e=>void 0!==e)))}accept(e){e.visit(this)}};function nm(e){return ys(e,im)}function im(e){function t(e){return ys(e,im)}if($(t,"convertDefinition"),e instanceof Vp){let t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return ku(e.label)&&(t.label=e.label),t}if(e instanceof Yp)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Xp)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Jp)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Zp)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:im(new rm({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof em)return{type:"RepetitionWithSeparator",idx:e.idx,separator:im(new rm({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Qp)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof tm)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof rm){let t={type:"Terminal",name:e.terminalType.name,label:Wp(e.terminalType),idx:e.idx};ku(e.label)&&(t.terminalLabel=e.label);let r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=Nu(r)?r.source:r),t}if(e instanceof Kp)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}$(nm,"serializeGrammar"),$(im,"serializeProduction");var am=class{static{$(this,"GAstVisitor")}visit(e){let t=e;switch(t.constructor){case Vp:return this.visitNonTerminal(t);case Yp:return this.visitAlternative(t);case Xp:return this.visitOption(t);case Jp:return this.visitRepetitionMandatory(t);case Zp:return this.visitRepetitionMandatoryWithSeparator(t);case em:return this.visitRepetitionWithSeparator(t);case Qp:return this.visitRepetition(t);case tm:return this.visitAlternation(t);case rm:return this.visitTerminal(t);case Kp:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}};function om(e){return e instanceof Yp||e instanceof Xp||e instanceof Qp||e instanceof Jp||e instanceof Zp||e instanceof em||e instanceof rm||e instanceof Kp}function sm(e,t=[]){return e instanceof Xp||e instanceof Qp||e instanceof em||(e instanceof tm?bc(e.definition,(e=>sm(e,t))):!(e instanceof Vp&&Au(t,e))&&(e instanceof Hp&&(e instanceof Vp&&t.push(e),iu(e.definition,(e=>sm(e,t))))))}function lm(e){return e instanceof tm}function um(e){if(e instanceof Vp)return"SUBRULE";if(e instanceof Xp)return"OPTION";if(e instanceof tm)return"OR";if(e instanceof Jp)return"AT_LEAST_ONE";if(e instanceof Zp)return"AT_LEAST_ONE_SEP";if(e instanceof em)return"MANY_SEP";if(e instanceof Qp)return"MANY";if(e instanceof rm)return"CONSUME";throw Error("non exhaustive match")}$(om,"isSequenceProd"),$(sm,"isOptionalProd"),$(lm,"isBranchingProd"),$(um,"getProductionDslName");var cm=class{static{$(this,"RestWalker")}walk(e,t=[]){Ia(e.definition,((r,n)=>{let i=Xl(e.definition,n+1);if(r instanceof Vp)this.walkProdRef(r,i,t);else if(r instanceof rm)this.walkTerminal(r,i,t);else if(r instanceof Yp)this.walkFlat(r,i,t);else if(r instanceof Xp)this.walkOption(r,i,t);else if(r instanceof Jp)this.walkAtLeastOne(r,i,t);else if(r instanceof Zp)this.walkAtLeastOneSep(r,i,t);else if(r instanceof em)this.walkManySep(r,i,t);else if(r instanceof Qp)this.walkMany(r,i,t);else{if(!(r instanceof tm))throw Error("non exhaustive match");this.walkOr(r,i,t)}}))}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){let n=t.concat(r);this.walk(e,n)}walkOption(e,t,r){let n=t.concat(r);this.walk(e,n)}walkAtLeastOne(e,t,r){let n=[new Xp({definition:e.definition})].concat(t,r);this.walk(e,n)}walkAtLeastOneSep(e,t,r){let n=hm(e,t,r);this.walk(e,n)}walkMany(e,t,r){let n=[new Xp({definition:e.definition})].concat(t,r);this.walk(e,n)}walkManySep(e,t,r){let n=hm(e,t,r);this.walk(e,n)}walkOr(e,t,r){let n=t.concat(r);Ia(e.definition,(e=>{let t=new Yp({definition:[e]});this.walk(t,n)}))}};function hm(e,t,r){return[new Xp({definition:[new rm({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function dm(e){if(e instanceof Vp)return dm(e.referencedRule);if(e instanceof rm)return mm(e);if(om(e))return fm(e);if(lm(e))return pm(e);throw Error("non exhaustive match")}function fm(e){let t,r=[],n=e.definition,i=0,a=n.length>i,o=!0;for(;a&&o;)t=n[i],o=sm(t),r=r.concat(dm(t)),i+=1,a=n.length>i;return _c(r)}function pm(e){let t=ys(e.definition,(e=>dm(e)));return _c(Us(t))}function mm(e){return[e.terminalType]}$(hm,"restForRepetitionWithSeparator"),$(dm,"first"),$(fm,"firstForSequence"),$(pm,"firstForBranching"),$(mm,"firstForTerminal");var gm="_~IN~_",ym=class extends cm{static{$(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){let n=Tm(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(r),a=dm(new Yp({definition:i}));this.follows[n]=a}};function vm(e){let t={};return Ia(e,(e=>{let r=new ym(e).startWalking();$l(t,r)})),t}function Tm(e,t){return e.name+t+gm}$(vm,"computeAllProdsFollows"),$(Tm,"buildBetweenProdsFollowPrefix");var Cm={},xm=new zf;function bm(e){let t=e.toString();if(Cm.hasOwnProperty(t))return Cm[t];{let e=xm.pattern(t);return Cm[t]=e,e}}function km(){Cm={}}$(bm,"getRegExpAst"),$(km,"clearRegExpParserCache");var _m="Complement Sets are not supported for first char optimization",Sm='Unable to use "first char" lexer optimizations:\n';function Am(e,t=!1){try{let t=bm(e);return Rm(t.value,{},t.flags.ignoreCase)}catch(r){if(r.message===_m)t&&zp(`${Sm}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Up(`${Sm}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Rm(e,t,r){switch(e.type){case"Disjunction":for(let n=0;n<e.value.length;n++)Rm(e.value[n],t,r);break;case"Alternative":let n=e.value;for(let e=0;e<n.length;e++){let i=n[e];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let a=i;switch(a.type){case"Character":Em(a.value,t,r);break;case"Set":if(!0===a.complement)throw Error(_m);Ia(a.value,(e=>{if("number"==typeof e)Em(e,t,r);else{let n=e;if(!0===r)for(let e=n.from;e<=n.to;e++)Em(e,t,r);else{for(let e=n.from;e<=n.to&&e<fg;e++)Em(e,t,r);if(n.to>=fg){let e=n.from>=fg?n.from:fg,r=n.to,i=mg(e),a=mg(r);for(let e=i;e<=a;e++)t[e]=e}}}}));break;case"Group":Rm(a.value,t,r);break;default:throw Error("Non Exhaustive Match")}let o=void 0!==a.quantifier&&0===a.quantifier.atLeast;if("Group"===a.type&&!1===$m(a)||"Group"!==a.type&&!1===o)break}break;default:throw Error("non exhaustive match!")}return xs(t)}function Em(e,t,r){let n=mg(e);t[n]=n,!0===r&&wm(e,t)}function wm(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let e=mg(n.charCodeAt(0));t[e]=e}else{let e=r.toLowerCase();if(e!==r){let r=mg(e.charCodeAt(0));t[r]=r}}}function Lm(e,t){return uu(e.value,(e=>{if("number"==typeof e)return Au(t,e);{let r=e;return void 0!==uu(t,(e=>r.from<=e&&e<=r.to))}}))}function $m(e){let t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(Cr(e.value)?iu(e.value,$m):$m(e.value))}$(Am,"getOptimizedStartCodesIndices"),$(Rm,"firstCharOptimizedIndices"),$(Em,"addOptimizedIdxToResult"),$(wm,"handleIgnoreCase"),$(Lm,"findCode"),$($m,"isWholeOptional");var Im=class extends jf{static{$(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){Au(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===Lm(e,this.targetCharCodes)&&(this.found=!0):void 0!==Lm(e,this.targetCharCodes)&&(this.found=!0)}};function Nm(e,t){if(t instanceof RegExp){let r=bm(t),n=new Im(e);return n.visit(r),n.found}return void 0!==uu(t,(t=>Au(e,t.charCodeAt(0))))}$(Nm,"canMatchCharCode");var Om="PATTERN",Mm="defaultMode",Fm="modes",Pm="boolean"==typeof new RegExp("(?:)").sticky;function Bm(e,t){t=ba(t,{useSticky:Pm,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:$(((e,t)=>t()),"tracer")});let r,n=t.tracer;n("initCharCodeToOptimizedIndexMap",(()=>{gg()})),n("Reject Lexer.NA",(()=>{r=vc(e,(e=>e[Om]===Mg.NA))}));let i,a,o,s,l,u,c,h,d,f,p,m=!1;n("Transform Patterns",(()=>{m=!1,i=ys(r,(e=>{let r=e[Om];if(Nu(r)){let e=r.source;return 1!==e.length||"^"===e||"$"===e||"."===e||r.ignoreCase?2!==e.length||"\\"!==e[0]||Au(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?rg(r):tg(r):e[1]:e}if(re(r))return m=!0,{exec:r};if("object"==typeof r)return m=!0,r;if("string"==typeof r){if(1===r.length)return r;{let e=r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=new RegExp(e);return t.useSticky?rg(n):tg(n)}}throw Error("non exhaustive match")}))})),n("misc mapping",(()=>{a=ys(r,(e=>e.tokenTypeIdx)),o=ys(r,(e=>{let t=e.GROUP;if(t!==Mg.SKIPPED){if(ku(t))return t;if(ks(t))return!1;throw Error("non exhaustive match")}})),s=ys(r,(e=>{let t=e.LONGER_ALT;if(t)return Cr(t)?ys(t,(e=>wu(r,e))):[wu(r,t)]})),l=ys(r,(e=>e.PUSH_MODE)),u=ys(r,(e=>xu(e,"POP_MODE")))})),n("Line Terminator Handling",(()=>{let e=hg(t.lineTerminatorCharacters);c=ys(r,(e=>!1)),"onlyOffset"!==t.positionTracking&&(c=ys(r,(t=>xu(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===ug(t,e)&&Nm(e,t.PATTERN))))})),n("Misc Mapping #2",(()=>{h=ys(r,og),d=ys(i,sg),f=Vs(r,((e,t)=>{let r=t.GROUP;return ku(r)&&r!==Mg.SKIPPED&&(e[r]=[]),e}),{}),p=ys(i,((e,t)=>({pattern:i[t],longerAlt:s[t],canLineTerminator:c[t],isCustom:h[t],short:d[t],group:o[t],push:l[t],pop:u[t],tokenTypeIdx:a[t],tokenType:r[t]})))}));let g=!0,y=[];return t.safeMode||n("First Char Optimization",(()=>{y=Vs(r,((e,r,n)=>{if("string"==typeof r.PATTERN){let t=mg(r.PATTERN.charCodeAt(0));dg(e,t,p[n])}else if(Cr(r.START_CHARS_HINT)){let t;Ia(r.START_CHARS_HINT,(r=>{let i=mg("string"==typeof r?r.charCodeAt(0):r);t!==i&&(t=i,dg(e,i,p[n]))}))}else if(Nu(r.PATTERN))if(r.PATTERN.unicode)g=!1,t.ensureOptimizations&&Up(`${Sm}\tUnable to analyze < ${r.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let i=Am(r.PATTERN,t.ensureOptimizations);di(i)&&(g=!1),Ia(i,(t=>{dg(e,t,p[n])}))}else t.ensureOptimizations&&Up(`${Sm}\tTokenType: <${r.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),g=!1;return e}),[])})),{emptyGroups:f,patternIdxToConfig:p,charCodeToPatternIdxToConfig:y,hasCustom:m,canBeOptimized:g}}function Dm(e,t){let r=[],n=zm(e);r=r.concat(n.errors);let i=jm(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(Um(a)),r=r.concat(Xm(a)),r=r.concat(Jm(a,t)),r=r.concat(Zm(a)),r}function Um(e){let t=[],r=fs(e,(e=>Nu(e[Om])));return t=t.concat(Wm(r)),t=t.concat(Vm(r)),t=t.concat(Km(r)),t=t.concat(Ym(r)),t=t.concat(qm(r)),t}function zm(e){let t=fs(e,(e=>!xu(e,Om))),r=ys(t,(e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:Ig.MISSING_PATTERN,tokenTypes:[e]})));return{errors:r,valid:Kl(e,t)}}function jm(e){let t=fs(e,(e=>{let t=e[Om];return!(Nu(t)||re(t)||xu(t,"exec")||ku(t))})),r=ys(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ig.INVALID_PATTERN,tokenTypes:[e]})));return{errors:r,valid:Kl(e,t)}}$(Bm,"analyzeTokenTypes"),$(Dm,"validatePatterns"),$(Um,"validateRegExpPattern"),$(zm,"findMissingPatterns"),$(jm,"findInvalidPatterns");var Gm=/[^\\][$]/;function Wm(e){class t extends jf{static{$(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}let r=fs(e,(e=>{let r=e.PATTERN;try{let e=bm(r),n=new t;return n.visit(e),n.found}catch{return Gm.test(r.source)}}));return ys(r,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Ig.EOI_ANCHOR_FOUND,tokenTypes:[e]})))}function qm(e){let t=fs(e,(e=>e.PATTERN.test("")));return ys(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:Ig.EMPTY_MATCH_PATTERN,tokenTypes:[e]})))}$(Wm,"findEndOfInputAnchor"),$(qm,"findEmptyMatchRegExps");var Hm=/[^\\[][\^]|^\^/;function Vm(e){class t extends jf{static{$(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}let r=fs(e,(e=>{let r=e.PATTERN;try{let e=bm(r),n=new t;return n.visit(e),n.found}catch{return Hm.test(r.source)}}));return ys(r,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Ig.SOI_ANCHOR_FOUND,tokenTypes:[e]})))}function Km(e){let t=fs(e,(e=>{let t=e[Om];return t instanceof RegExp&&(t.multiline||t.global)}));return ys(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ig.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]})))}function Ym(e){let t=[],r=ys(e,(r=>Vs(e,((e,n)=>(r.PATTERN.source===n.PATTERN.source&&!Au(t,n)&&n.PATTERN!==Mg.NA&&(t.push(n),e.push(n)),e)),[])));r=Bl(r);let n=fs(r,(e=>e.length>1));return ys(n,(e=>{let t=ys(e,(e=>e.name));return{message:`The same RegExp pattern ->${hu(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:Ig.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}))}function Xm(e){let t=fs(e,(e=>{if(!xu(e,"GROUP"))return!1;let t=e.GROUP;return t!==Mg.SKIPPED&&t!==Mg.NA&&!ku(t)}));return ys(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ig.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]})))}function Jm(e,t){let r=fs(e,(e=>void 0!==e.PUSH_MODE&&!Au(t,e.PUSH_MODE)));return ys(r,(e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:Ig.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]})))}function Zm(e){let t=[],r=Vs(e,((e,t,r)=>{let n=t.PATTERN;return n===Mg.NA||(ku(n)?e.push({str:n,idx:r,tokenType:t}):Nu(n)&&eg(n)&&e.push({str:n.source,idx:r,tokenType:t})),e}),[]);return Ia(e,((e,n)=>{Ia(r,(({str:r,idx:i,tokenType:a})=>{if(n<i&&Qm(r,e.PATTERN)){let r=`Token: ->${a.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:r,type:Ig.UNREACHABLE_PATTERN,tokenTypes:[e,a]})}}))})),t}function Qm(e,t){if(Nu(t)){let r=t.exec(e);return null!==r&&0===r.index}if(re(t))return t(e,0,[],{});if(xu(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}function eg(e){return void 0===uu([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(t=>-1!==e.source.indexOf(t)))}function tg(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function rg(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function ng(e,t,r){let n=[];return xu(e,Mm)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Mm+"> property in its definition\n",type:Ig.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),xu(e,Fm)||n.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Ig.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),xu(e,Fm)&&xu(e,Mm)&&!xu(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Mm}: <${e.defaultMode}>which does not exist\n`,type:Ig.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),xu(e,Fm)&&Ia(e.modes,((e,t)=>{Ia(e,((r,i)=>{if(ks(r))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${t}> at index: <${i}>\n`,type:Ig.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(xu(r,"LONGER_ALT")){let i=Cr(r.LONGER_ALT)?r.LONGER_ALT:[r.LONGER_ALT];Ia(i,(i=>{!ks(i)&&!Au(e,i)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${i.name}> on token <${r.name}> outside of mode <${t}>\n`,type:Ig.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}}))})),n}function ig(e,t,r){let n=[],i=!1,a=Bl(Us(xs(e.modes))),o=vc(a,(e=>e[Om]===Mg.NA)),s=hg(r);return t&&Ia(o,(e=>{let t=ug(e,s);if(!1!==t){let r={message:cg(e,t),type:t.issue,tokenType:e};n.push(r)}else xu(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):Nm(s,e.PATTERN)&&(i=!0)})),t&&!i&&n.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Ig.NO_LINE_BREAKS_FLAGS}),n}function ag(e){let t={},r=pi(e);return Ia(r,(r=>{let n=e[r];if(!Cr(n))throw Error("non exhaustive match");t[r]=[]})),t}function og(e){let t=e.PATTERN;if(Nu(t))return!1;if(re(t))return!0;if(xu(t,"exec"))return!0;if(ku(t))return!1;throw Error("non exhaustive match")}function sg(e){return!(!ku(e)||1!==e.length)&&e.charCodeAt(0)}$(Vm,"findStartOfInputAnchor"),$(Km,"findUnsupportedFlags"),$(Ym,"findDuplicatePatterns"),$(Xm,"findInvalidGroupType"),$(Jm,"findModesThatDoNotExist"),$(Zm,"findUnreachablePatterns"),$(Qm,"testTokenType"),$(eg,"noMetaChar"),$(tg,"addStartOfInput"),$(rg,"addStickyFlag"),$(ng,"performRuntimeChecks"),$(ig,"performWarningRuntimeChecks"),$(ag,"cloneEmptyGroups"),$(og,"isCustomPattern"),$(sg,"isShortPattern");var lg={test:$((function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let t=e.charCodeAt(r);if(10===t)return this.lastIndex=r+1,!0;if(13===t)return 10===e.charCodeAt(r+1)?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1}),"test"),lastIndex:0};function ug(e,t){if(xu(e,"LINE_BREAKS"))return!1;if(Nu(e.PATTERN)){try{Nm(t,e.PATTERN)}catch(e){return{issue:Ig.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(ku(e.PATTERN))return!1;if(og(e))return{issue:Ig.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function cg(e,t){if(t.issue===Ig.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Ig.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function hg(e){return ys(e,(e=>ku(e)?e.charCodeAt(0):e))}function dg(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}$(ug,"checkLineBreaksIssues"),$(cg,"buildLineBreakIssueMessage"),$(hg,"getCharCodes"),$(dg,"addToMapOfArrays");var fg=256,pg=[];function mg(e){return e<fg?e:pg[e]}function gg(){if(di(pg)){pg=new Array(65536);for(let e=0;e<65536;e++)pg[e]=e>255?255+~~(e/255):e}}function yg(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[r]}function vg(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}$(mg,"charCodeToOptimizedIndex"),$(gg,"initCharCodeToOptimizedIndexMap"),$(yg,"tokenStructuredMatcher"),$(vg,"tokenStructuredMatcherNoCategories");var Tg=1,Cg={};function xg(e){let t=bg(e);kg(t),Sg(t),_g(t),Ia(t,(e=>{e.isParent=e.categoryMatches.length>0}))}function bg(e){let t=va(e),r=e,n=!0;for(;n;){r=Bl(Us(ys(r,(e=>e.CATEGORIES))));let e=Kl(r,t);t=t.concat(e),di(e)?n=!1:r=e}return t}function kg(e){Ia(e,(e=>{Rg(e)||(Cg[Tg]=e,e.tokenTypeIdx=Tg++),Eg(e)&&!Cr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Eg(e)||(e.CATEGORIES=[]),wg(e)||(e.categoryMatches=[]),Lg(e)||(e.categoryMatchesMap={})}))}function _g(e){Ia(e,(e=>{e.categoryMatches=[],Ia(e.categoryMatchesMap,((t,r)=>{e.categoryMatches.push(Cg[r].tokenTypeIdx)}))}))}function Sg(e){Ia(e,(e=>{Ag([],e)}))}function Ag(e,t){Ia(e,(e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0})),Ia(t.CATEGORIES,(r=>{let n=e.concat(t);Au(n,r)||Ag(n,r)}))}function Rg(e){return xu(e,"tokenTypeIdx")}function Eg(e){return xu(e,"CATEGORIES")}function wg(e){return xu(e,"categoryMatches")}function Lg(e){return xu(e,"categoryMatchesMap")}function $g(e){return xu(e,"tokenTypeIdx")}$(xg,"augmentTokenTypes"),$(bg,"expandCategories"),$(kg,"assignTokenDefaultProps"),$(_g,"assignCategoriesTokensProp"),$(Sg,"assignCategoriesMapProp"),$(Ag,"singleAssignCategoriesToksMap"),$(Rg,"hasShortKeyProperty"),$(Eg,"hasCategoriesProperty"),$(wg,"hasExtendingTokensTypesProperty"),$(Lg,"hasExtendingTokensTypesMapProperty"),$($g,"isTokenType");var Ig,Ng={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,r,n,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`};!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(Ig||(Ig={}));var Og={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Ng,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Og);var Mg=class{static{$(this,"Lexer")}constructor(e,t=Og){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--\x3e <${e}>`);let{time:n,value:i}=jp(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=$l({},Og,t);let r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(()=>{let r,n=!0;this.TRACE_INIT("Lexer Config handling",(()=>{if(this.config.lineTerminatorsPattern===Og.lineTerminatorsPattern)this.config.lineTerminatorsPattern=lg;else if(this.config.lineTerminatorCharacters===Og.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Cr(e)?r={modes:{defaultMode:va(e)},defaultMode:Mm}:(n=!1,r=va(e))})),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(ng(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),this.TRACE_INIT("performWarningRuntimeChecks",(()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(ig(r,this.trackStartLines,this.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Ia(r.modes,((e,t)=>{r.modes[t]=vc(e,(e=>ks(e)))}));let i=pi(r.modes);if(Ia(r.modes,((e,r)=>{this.TRACE_INIT(`Mode: <${r}> processing`,(()=>{if(this.modes.push(r),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Dm(e,i))})),di(this.lexerDefinitionErrors)){let n;xg(e),this.TRACE_INIT("analyzeTokenTypes",(()=>{n=Bm(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})})),this.patternIdxToConfig[r]=n.patternIdxToConfig,this.charCodeToPatternIdxToConfig[r]=n.charCodeToPatternIdxToConfig,this.emptyGroups=$l({},this.emptyGroups,n.emptyGroups),this.hasCustom=n.hasCustom||this.hasCustom,this.canModeBeOptimized[r]=n.canBeOptimized}}))})),this.defaultMode=r.defaultMode,!di(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let e=ys(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}Ia(this.lexerDefinitionWarning,(e=>{zp(e.message)})),this.TRACE_INIT("Choosing sub-methods implementations",(()=>{if(Pm?(this.chopInput=Rn,this.match=this.matchWithTest):(this.updateLastIndex=sl,this.match=this.matchWithExec),n&&(this.handleModes=sl),!1===this.trackStartLines&&(this.computeNewColumn=Rn),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=sl),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)})),this.TRACE_INIT("Failed Optimization Warnings",(()=>{let e=Vs(this.canModeBeOptimized,((e,t,r)=>(!1===t&&e.push(r),e)),[]);if(t.ensureOptimizations&&!di(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)})),this.TRACE_INIT("clearRegExpParserCache",(()=>{km()})),this.TRACE_INIT("toFastProperties",(()=>{Gp(this)}))}))}tokenize(e,t=this.defaultMode){if(!di(this.lexerDefinitionErrors)){let e=ys(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,n,i,a,o,s,l,u,c,h,d,f,p,m,g,y,v=e,T=v.length,C=0,x=0,b=this.hasCustom?0:Math.floor(e.length/10),k=new Array(b),_=[],S=this.trackStartLines?1:void 0,A=this.trackStartLines?1:void 0,R=ag(this.emptyGroups),E=this.trackStartLines,w=this.config.lineTerminatorsPattern,L=0,I=[],N=[],O=[],M=[];function F(){return I}function P(e){let t=mg(e),r=N[t];return void 0===r?M:r}Object.freeze(M),$(F,"getPossiblePatternsSlow"),$(P,"getPossiblePatternsOptimized");let B=$((e=>{if(1===O.length&&void 0===e.tokenType.PUSH_MODE){let t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);_.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{O.pop();let e=_a(O);I=this.patternIdxToConfig[e],N=this.charCodeToPatternIdxToConfig[e],L=I.length;let t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;y=N&&t?P:F}}),"pop_mode");function D(e){O.push(e),N=this.charCodeToPatternIdxToConfig[e],I=this.patternIdxToConfig[e],L=I.length,L=I.length;let t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;y=N&&t?P:F}$(D,"push_mode"),D.call(this,t);let U,z=this.config.recoveryEnabled;for(;C<T;){s=null;let t=v.charCodeAt(C),b=y(t),$=b.length;for(r=0;r<$;r++){U=b[r];let n=U.pattern;l=null;let c=U.short;if(!1!==c?t===c&&(s=n):!0===U.isCustom?(g=n.exec(v,C,k,R),null!==g?(s=g[0],void 0!==g.payload&&(l=g.payload)):s=null):(this.updateLastIndex(n,C),s=this.match(n,e,C)),null!==s){if(o=U.longerAlt,void 0!==o){let t=o.length;for(i=0;i<t;i++){let t=I[o[i]],r=t.pattern;if(u=null,!0===t.isCustom?(g=r.exec(v,C,k,R),null!==g?(a=g[0],void 0!==g.payload&&(u=g.payload)):a=null):(this.updateLastIndex(r,C),a=this.match(r,e,C)),a&&a.length>s.length){s=a,l=u,U=t;break}}}break}}if(null!==s){if(c=s.length,h=U.group,void 0!==h&&(d=U.tokenTypeIdx,f=this.createTokenInstance(s,C,d,U.tokenType,S,A,c),this.handlePayload(f,l),!1===h?x=this.addToken(k,x,f):R[h].push(f)),e=this.chopInput(e,c),C+=c,A=this.computeNewColumn(A,c),!0===E&&!0===U.canLineTerminator){let e,t,r=0;w.lastIndex=0;do{e=w.test(s),!0===e&&(t=w.lastIndex-1,r++)}while(!0===e);0!==r&&(S+=r,A=c-t,this.updateTokenEndLineColumnLocation(f,h,t,r,S,A,c))}this.handleModes(U,B,D,f)}else{let t=C,r=S,i=A,a=!1===z;for(;!1===a&&C<T;)for(e=this.chopInput(e,1),C++,n=0;n<L;n++){let t=I[n],r=t.pattern,i=t.short;if(!1!==i?v.charCodeAt(C)===i&&(a=!0):!0===t.isCustom?a=null!==r.exec(v,C,k,R):(this.updateLastIndex(r,C),a=null!==r.exec(e)),!0===a)break}if(p=C-t,A=this.computeNewColumn(A,p),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(v,t,p,r,i),_.push({offset:t,line:r,column:i,length:p,message:m}),!1===z)break}}return this.hasCustom||(k.length=x),{tokens:k,groups:R,errors:_}}handleModes(e,t,r,n){if(!0===e.pop){let i=e.push;t(n),void 0!==i&&r.call(this,i)}else void 0!==e.push&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,n,i,a,o){let s,l;void 0!==t&&(s=r===o-1,l=s?-1:0,1===n&&!0===s||(e.endLine=i+l,e.endColumn=a-1-l))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,n){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:n}}createStartOnlyToken(e,t,r,n,i,a){return{image:e,startOffset:t,startLine:i,startColumn:a,tokenTypeIdx:r,tokenType:n}}createFullToken(e,t,r,n,i,a,o){return{image:e,startOffset:t,endOffset:t+o-1,startLine:i,endLine:i,startColumn:a,endColumn:a+o-1,tokenTypeIdx:r,tokenType:n}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,r){return!0===e.test(t)?t.substring(r,e.lastIndex):null}matchWithExec(e,t){let r=e.exec(t);return null!==r?r[0]:null}};function Fg(e){return Pg(e)?e.LABEL:e.name}function Pg(e){return ku(e.LABEL)&&""!==e.LABEL}Mg.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Mg.NA=/NOT_APPLICABLE/,$(Fg,"tokenLabel"),$(Pg,"hasTokenLabel");var Bg="categories",Dg="label",Ug="group",zg="push_mode",jg="pop_mode",Gg="longer_alt",Wg="line_breaks",qg="start_chars_hint";function Hg(e){return Vg(e)}function Vg(e){let t=e.pattern,r={};if(r.name=e.name,ks(t)||(r.PATTERN=t),xu(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return xu(e,Bg)&&(r.CATEGORIES=e[Bg]),xg([r]),xu(e,Dg)&&(r.LABEL=e[Dg]),xu(e,Ug)&&(r.GROUP=e[Ug]),xu(e,jg)&&(r.POP_MODE=e[jg]),xu(e,zg)&&(r.PUSH_MODE=e[zg]),xu(e,Gg)&&(r.LONGER_ALT=e[Gg]),xu(e,Wg)&&(r.LINE_BREAKS=e[Wg]),xu(e,qg)&&(r.START_CHARS_HINT=e[qg]),r}$(Hg,"createToken"),$(Vg,"createTokenInternal");var Kg=Hg({name:"EOF",pattern:Mg.NA});function Yg(e,t,r,n,i,a,o,s){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:o,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Xg(e,t){return yg(e,t)}xg([Kg]),$(Yg,"createTokenInstance"),$(Xg,"tokenMatcher");var Jg={buildMismatchTokenMessage:({expected:e,actual:t,previous:r,ruleName:n})=>`Expecting ${Pg(e)?`--\x3e ${Fg(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let a="Expecting: ",o="\nbut found: '"+hu(t).image+"'";if(n)return a+n+o;{let t=Vs(e,((e,t)=>e.concat(t)),[]),r=ys(t,(e=>`[${ys(e,(e=>Fg(e))).join(", ")}]`)),n=`one of these possible Token sequences:\n${ys(r,((e,t)=>`  ${t+1}. ${e}`)).join("\n")}`;return a+n+o}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",a="\nbut found: '"+hu(t).image+"'";if(r)return i+r+a;{let t=`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${ys(e,(e=>`[${ys(e,(e=>Fg(e))).join(",")}]`)).join(" ,")}>`;return i+t+a}}};Object.freeze(Jg);var Zg={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},Qg={buildDuplicateFoundError(e,t){function r(e){return e instanceof rm?e.terminalType.name:e instanceof Vp?e.nonTerminalName:""}$(r,"getExtraProductionArgument");let n=e.name,i=hu(t),a=i.idx,o=um(i),s=r(i),l=`->${o}${a>0?a:""}<- ${s?`with argument: ->${s}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,"\n"),l},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){let t=ys(e.prefixPath,(e=>Fg(e))).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){let t=ys(e.prefixPath,(e=>Fg(e))).join(", "),r=0===e.alternation.idx?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return n+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",n},buildEmptyRepetitionError(e){let t=um(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){let t=e.topLevelRule.name,r=ys(e.leftRecursionPath,(e=>e.name));return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${t} --\x3e ${r.concat([t]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof Kp?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function ey(e,t){let r=new ry(e,t);return r.resolveRefs(),r.errors}$(ey,"resolveGrammar");var ty,ry=class extends am{static{$(this,"GastRefResolverVisitor")}constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){Ia(xs(this.nameToTopRule),(e=>{this.currTopLevel=e,e.accept(this)}))}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:Xv.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}},ny=class extends cm{static{$(this,"AbstractNextPossibleTokensWalker")}constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=va(this.path.ruleStack).reverse(),this.occurrenceStack=va(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let n=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){di(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},iy=class extends ny{static{$(this,"NextAfterTokenWalker")}constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let e=t.concat(r),n=new Yp({definition:e});this.possibleTokTypes=dm(n),this.found=!0}}},ay=class extends cm{static{$(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},oy=class extends ay{static{$(this,"NextTerminalAfterManyWalker")}walkMany(e,t,r){if(e.idx===this.occurrence){let e=hu(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof rm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,r)}},sy=class extends ay{static{$(this,"NextTerminalAfterManySepWalker")}walkManySep(e,t,r){if(e.idx===this.occurrence){let e=hu(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof rm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,r)}},ly=class extends ay{static{$(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){let e=hu(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof rm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,r)}},uy=class extends ay{static{$(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){let e=hu(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof rm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,r)}};function cy(e,t,r=[]){r=va(r);let n=[],i=0;function a(t){return t.concat(Xl(e,i+1))}function o(e){let i=cy(a(e),t,r);return n.concat(i)}for($(a,"remainingPathWith"),$(o,"getAlternativesForProd");r.length<t&&i<e.length;){let t=e[i];if(t instanceof Yp)return o(t.definition);if(t instanceof Vp)return o(t.definition);if(t instanceof Xp)n=o(t.definition);else{if(t instanceof Jp){return o(t.definition.concat([new Qp({definition:t.definition})]))}if(t instanceof Zp){return o([new Yp({definition:t.definition}),new Qp({definition:[new rm({terminalType:t.separator})].concat(t.definition)})])}if(t instanceof em){let e=t.definition.concat([new Qp({definition:[new rm({terminalType:t.separator})].concat(t.definition)})]);n=o(e)}else if(t instanceof Qp){let e=t.definition.concat([new Qp({definition:t.definition})]);n=o(e)}else{if(t instanceof tm)return Ia(t.definition,(e=>{!1===di(e.definition)&&(n=o(e.definition))})),n;if(!(t instanceof rm))throw Error("non exhaustive match");r.push(t.terminalType)}}i++}return n.push({partialPath:r,suffixDef:Xl(e,i)}),n}function hy(e,t,r,n){let i="EXIT_NONE_TERMINAL",a=[i],o="EXIT_ALTERNATIVE",s=!1,l=t.length,u=l-n-1,c=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!di(h);){let e=h.pop();if(e===o){s&&_a(h).idx<=u&&h.pop();continue}let n=e.def,d=e.idx,f=e.ruleStack,p=e.occurrenceStack;if(di(n))continue;let m=n[0];if(m===i){let e={idx:d,def:Xl(n),ruleStack:Zl(f),occurrenceStack:Zl(p)};h.push(e)}else if(m instanceof rm)if(d<l-1){let e=d+1;if(r(t[e],m.terminalType)){let t={idx:e,def:Xl(n),ruleStack:f,occurrenceStack:p};h.push(t)}}else{if(d!==l-1)throw Error("non exhaustive match");c.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:f,occurrenceStack:p}),s=!0}else if(m instanceof Vp){let e=va(f);e.push(m.nonTerminalName);let t=va(p);t.push(m.idx);let r={idx:d,def:m.definition.concat(a,Xl(n)),ruleStack:e,occurrenceStack:t};h.push(r)}else if(m instanceof Xp){let e={idx:d,def:Xl(n),ruleStack:f,occurrenceStack:p};h.push(e),h.push(o);let t={idx:d,def:m.definition.concat(Xl(n)),ruleStack:f,occurrenceStack:p};h.push(t)}else if(m instanceof Jp){let e=new Qp({definition:m.definition,idx:m.idx}),t={idx:d,def:m.definition.concat([e],Xl(n)),ruleStack:f,occurrenceStack:p};h.push(t)}else if(m instanceof Zp){let e=new rm({terminalType:m.separator}),t=new Qp({definition:[e].concat(m.definition),idx:m.idx}),r={idx:d,def:m.definition.concat([t],Xl(n)),ruleStack:f,occurrenceStack:p};h.push(r)}else if(m instanceof em){let e={idx:d,def:Xl(n),ruleStack:f,occurrenceStack:p};h.push(e),h.push(o);let t=new rm({terminalType:m.separator}),r=new Qp({definition:[t].concat(m.definition),idx:m.idx}),i={idx:d,def:m.definition.concat([r],Xl(n)),ruleStack:f,occurrenceStack:p};h.push(i)}else if(m instanceof Qp){let e={idx:d,def:Xl(n),ruleStack:f,occurrenceStack:p};h.push(e),h.push(o);let t=new Qp({definition:m.definition,idx:m.idx}),r={idx:d,def:m.definition.concat([t],Xl(n)),ruleStack:f,occurrenceStack:p};h.push(r)}else if(m instanceof tm)for(let e=m.definition.length-1;e>=0;e--){let t={idx:d,def:m.definition[e].definition.concat(Xl(n)),ruleStack:f,occurrenceStack:p};h.push(t),h.push(o)}else if(m instanceof Yp)h.push({idx:d,def:m.definition.concat(Xl(n)),ruleStack:f,occurrenceStack:p});else{if(!(m instanceof Kp))throw Error("non exhaustive match");h.push(dy(m,d,f,p))}}return c}function dy(e,t,r,n){let i=va(r);i.push(e.name);let a=va(n);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}function fy(e){if(e instanceof Xp||"Option"===e)return ty.OPTION;if(e instanceof Qp||"Repetition"===e)return ty.REPETITION;if(e instanceof Jp||"RepetitionMandatory"===e)return ty.REPETITION_MANDATORY;if(e instanceof Zp||"RepetitionMandatoryWithSeparator"===e)return ty.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof em||"RepetitionWithSeparator"===e)return ty.REPETITION_WITH_SEPARATOR;if(e instanceof tm||"Alternation"===e)return ty.ALTERNATION;throw Error("non exhaustive match")}function py(e){let{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,a=fy(n);return a===ty.ALTERNATION?Sy(t,r,i):Ay(t,r,a,i)}function my(e,t,r,n,i,a){let o=Sy(e,t,r);return a(o,n,wy(o)?vg:yg,i)}function gy(e,t,r,n,i,a){let o=Ay(e,t,i,r),s=wy(o)?vg:yg;return a(o[0],s,n)}function yy(e,t,r,n){let i=e.length,a=iu(e,(e=>iu(e,(e=>1===e.length))));if(t)return function(t){let n=ys(t,(e=>e.GATE));for(let t=0;t<i;t++){let i=e[t],a=i.length,o=n[t];if(void 0===o||!1!==o.call(this))e:for(let e=0;e<a;e++){let n=i[e],a=n.length;for(let e=0;e<a;e++){let t=this.LA(e+1);if(!1===r(t,n[e]))continue e}return t}}};if(a&&!n){let t=ys(e,(e=>Us(e))),r=Vs(t,((e,t,r)=>(Ia(t,(t=>{xu(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=r),Ia(t.categoryMatches,(t=>{xu(e,t)||(e[t]=r)}))})),e)),{});return function(){let e=this.LA(1);return r[e.tokenTypeIdx]}}return function(){for(let t=0;t<i;t++){let n=e[t],i=n.length;e:for(let e=0;e<i;e++){let i=n[e],a=i.length;for(let e=0;e<a;e++){let t=this.LA(e+1);if(!1===r(t,i[e]))continue e}return t}}}}function vy(e,t,r){let n=iu(e,(e=>1===e.length)),i=e.length;if(n&&!r){let t=Us(e);if(1===t.length&&di(t[0].categoryMatches)){let e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{let e=Vs(t,((e,t,r)=>(e[t.tokenTypeIdx]=!0,Ia(t.categoryMatches,(t=>{e[t]=!0})),e)),[]);return function(){let t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let r=0;r<i;r++){let n=e[r],i=n.length;for(let e=0;e<i;e++){let r=this.LA(e+1);if(!1===t(r,n[e]))continue e}return!0}return!1}}$(cy,"possiblePathsFrom"),$(hy,"nextPossibleTokensAfter"),$(dy,"expandTopLevelRule"),function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(ty||(ty={})),$(fy,"getProdType"),$(py,"getLookaheadPaths"),$(my,"buildLookaheadFuncForOr"),$(gy,"buildLookaheadFuncForOptionalProd"),$(yy,"buildAlternativesLookAheadFunc"),$(vy,"buildSingleAlternativeLookaheadFunction");var Ty=class extends cm{static{$(this,"RestDefinitionFinderWalker")}constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,n){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=r.concat(n),!0)}walkOption(e,t,r){this.checkIsTarget(e,ty.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,ty.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,ty.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,ty.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,ty.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}},Cy=class extends am{static{$(this,"InsideDefinitionFinderVisitor")}constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(void 0===this.targetRef||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,ty.OPTION)}visitRepetition(e){this.checkIsTarget(e,ty.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,ty.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,ty.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,ty.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,ty.ALTERNATION)}};function xy(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function by(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let e=0;e<t.length;e++){let r=t[e];i.push(r+"_"+n.tokenTypeIdx);for(let e=0;e<n.categoryMatches.length;e++){let t="_"+n.categoryMatches[e];i.push(r+t)}}t=i}return t}function ky(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let e=0;e<t.length;e++){if(!0===i[t[e]])return!1}}return!0}function _y(e,t){let r=ys(e,(e=>cy([e],1))),n=xy(r.length),i=ys(r,(e=>{let t={};return Ia(e,(e=>{let r=by(e.partialPath);Ia(r,(e=>{t[e]=!0}))})),t})),a=r;for(let e=1;e<=t;e++){let r=a;a=xy(r.length);for(let o=0;o<r.length;o++){let s=r[o];for(let r=0;r<s.length;r++){let l=s[r].partialPath,u=s[r].suffixDef,c=by(l);if(ky(i,c,o)||di(u)||l.length===t){let e=n[o];if(!1===Ry(e,l)){e.push(l);for(let e=0;e<c.length;e++){let t=c[e];i[o][t]=!0}}}else{let t=cy(u,e+1,l);a[o]=a[o].concat(t),Ia(t,(e=>{let t=by(e.partialPath);Ia(t,(e=>{i[o][e]=!0}))}))}}}}return n}function Sy(e,t,r,n){let i=new Cy(e,ty.ALTERNATION,n);return t.accept(i),_y(i.result,r)}function Ay(e,t,r,n){let i=new Cy(e,r);t.accept(i);let a=i.result,o=new Ty(t,e,r).startWalking();return _y([new Yp({definition:a}),new Yp({definition:o})],n)}function Ry(e,t){e:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let e=0;e<n.length;e++){let r=t[e],i=n[e];if(!1==(r===i||void 0!==i.categoryMatchesMap[r.tokenTypeIdx]))continue e}return!0}}return!1}function Ey(e,t){return e.length<t.length&&iu(e,((e,r)=>{let n=t[r];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]}))}function wy(e){return iu(e,(e=>iu(e,(e=>iu(e,(e=>di(e.categoryMatches)))))))}function Ly(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return ys(t,(e=>Object.assign({type:Xv.CUSTOM_LOOKAHEAD_VALIDATION},e)))}function $y(e,t,r,n){let i=fu(e,(e=>Iy(e,r))),a=Ky(e,t,r),o=fu(e,(e=>Wy(e,r))),s=fu(e,(t=>Fy(t,e,n,r)));return i.concat(a,o,s)}function Iy(e,t){let r=new My;e.accept(r);let n=r.allProductions,i=gu(n,Ny),a=zu(i,(e=>e.length>1));return ys(xs(a),(r=>{let n=hu(r),i=t.buildDuplicateFoundError(e,r),a=um(n),o={message:i,type:Xv.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:n.idx},s=Oy(n);return s&&(o.parameter=s),o}))}function Ny(e){return`${um(e)}_#_${e.idx}_#_${Oy(e)}`}function Oy(e){return e instanceof rm?e.terminalType.name:e instanceof Vp?e.nonTerminalName:""}$(xy,"initializeArrayOfArrays"),$(by,"pathToHashKeys"),$(ky,"isUniquePrefixHash"),$(_y,"lookAheadSequenceFromAlternatives"),$(Sy,"getLookaheadPathsForOr"),$(Ay,"getLookaheadPathsForOptionalProd"),$(Ry,"containsPath"),$(Ey,"isStrictPrefixOfPath"),$(wy,"areTokenCategoriesNotUsed"),$(Ly,"validateLookahead"),$($y,"validateGrammar"),$(Iy,"validateDuplicateProductions"),$(Ny,"identifyProductionForDuplicates"),$(Oy,"getExtraProductionArgument");var My=class extends am{static{$(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}};function Fy(e,t,r,n){let i=[];if(Vs(t,((t,r)=>r.name===e.name?t+1:t),0)>1){let t=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:t,type:Xv.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function Py(e,t,r){let n,i=[];return Au(t,e)||(n=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,i.push({message:n,type:Xv.INVALID_RULE_OVERRIDE,ruleName:e})),i}function By(e,t,r,n=[]){let i=[],a=Dy(t.definition);if(di(a))return[];{let t=e.name;Au(a,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:Xv.LEFT_RECURSION,ruleName:t});let o=Kl(a,n.concat([e])),s=fu(o,(t=>{let i=va(n);return i.push(t),By(e,t,r,i)}));return i.concat(s)}}function Dy(e){let t=[];if(di(e))return t;let r=hu(e);if(r instanceof Vp)t.push(r.referencedRule);else if(r instanceof Yp||r instanceof Xp||r instanceof Jp||r instanceof Zp||r instanceof em||r instanceof Qp)t=t.concat(Dy(r.definition));else if(r instanceof tm)t=Us(ys(r.definition,(e=>Dy(e.definition))));else if(!(r instanceof rm))throw Error("non exhaustive match");let n=sm(r),i=e.length>1;if(n&&i){let r=Xl(e);return t.concat(Dy(r))}return t}$(Fy,"validateRuleDoesNotAlreadyExist"),$(Py,"validateRuleIsOverridden"),$(By,"validateNoLeftRecursion"),$(Dy,"getFirstNoneTerminal");var Uy=class extends am{static{$(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}};function zy(e,t){let r=new Uy;e.accept(r);let n=r.alternations;return fu(n,(r=>{let n=Zl(r.definition);return fu(n,((n,i)=>{let a=hy([n],[],yg,1);return di(a)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:i}),type:Xv.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:i+1}]:[]}))}))}function jy(e,t,r){let n=new Uy;e.accept(n);let i=n.alternations;return i=vc(i,(e=>!0===e.ignoreAmbiguities)),fu(i,(n=>{let i=n.idx,a=n.maxLookahead||t,o=Sy(i,e,a,n),s=Hy(o,n,e,r),l=Vy(o,n,e,r);return s.concat(l)}))}$(zy,"validateEmptyOrAlternative"),$(jy,"validateAmbiguousAlternationAlternatives");var Gy=class extends am{static{$(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}};function Wy(e,t){let r=new Uy;e.accept(r);let n=r.alternations;return fu(n,(r=>r.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Xv.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}]:[]))}function qy(e,t,r){let n=[];return Ia(e,(e=>{let i=new Gy;e.accept(i);let a=i.allProductions;Ia(a,(i=>{let a=fy(i),o=i.maxLookahead||t,s=Ay(i.idx,e,a,o)[0];if(di(Us(s))){let t=r.buildEmptyRepetitionError({topLevelRule:e,repetition:i});n.push({message:t,type:Xv.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),n}function Hy(e,t,r,n){let i=[],a=Vs(e,((r,n,a)=>(!0===t.definition[a].ignoreAmbiguities||Ia(n,(n=>{let o=[a];Ia(e,((e,r)=>{a!==r&&Ry(e,n)&&!0!==t.definition[r].ignoreAmbiguities&&o.push(r)})),o.length>1&&!Ry(i,n)&&(i.push(n),r.push({alts:o,path:n}))})),r)),[]);return ys(a,(e=>{let i=ys(e.alts,(e=>e+1));return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Xv.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:e.alts}}))}function Vy(e,t,r,n){let i=Vs(e,((e,t,r)=>{let n=ys(t,(e=>({idx:r,path:e})));return e.concat(n)}),[]);return Bl(fu(i,(e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];let a=e.idx,o=e.path,s=fs(i,(e=>!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<a&&Ey(e.path,o)));return ys(s,(e=>{let i=[e.idx+1,a+1],o=0===t.idx?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Xv.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:o,alternatives:i}}))})))}function Ky(e,t,r){let n=[],i=ys(t,(e=>e.name));return Ia(e,(e=>{let t=e.name;if(Au(i,t)){let i=r.buildNamespaceConflictError(e);n.push({message:i,type:Xv.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),n}function Yy(e){let t=ba(e,{errMsgProvider:Zg}),r={};return Ia(e.rules,(e=>{r[e.name]=e})),ey(r,t.errMsgProvider)}function Xy(e){return $y((e=ba(e,{errMsgProvider:Qg})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}$(Wy,"validateTooManyAlts"),$(qy,"validateSomeNonEmptyLookaheadPath"),$(Hy,"checkAlternativesAmbiguities"),$(Vy,"checkPrefixAlternativesAmbiguities"),$(Ky,"checkTerminalAndNoneTerminalsNameSpace"),$(Yy,"resolveGrammar"),$(Xy,"validateGrammar");var Jy="MismatchedTokenException",Zy="NoViableAltException",Qy="EarlyExitException",ev="NotAllInputParsedException",tv=[Jy,Zy,Qy,ev];function rv(e){return Au(tv,e.name)}Object.freeze(tv),$(rv,"isRecognitionException");var nv=class extends Error{static{$(this,"RecognitionException")}constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},iv=class extends nv{static{$(this,"MismatchedTokenException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Jy}},av=class extends nv{static{$(this,"NoViableAltException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Zy}},ov=class extends nv{static{$(this,"NotAllInputParsedException")}constructor(e,t){super(e,t),this.name=ev}},sv=class extends nv{static{$(this,"EarlyExitException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Qy}},lv={},uv="InRuleRecoveryException",cv=class extends Error{static{$(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=uv}},hv=class{static{$(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=xu(e,"recoveryEnabled")?e.recoveryEnabled:Jv.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=dv)}getTokenToInsert(e){let t=Yg(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,n){let i=this.findReSyncTokenType(),a=this.exportLexerState(),o=[],s=!1,l=this.LA(1),u=this.LA(1),c=$((()=>{let e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:l,previous:e,ruleName:this.getCurrRuleFullName()}),r=new iv(t,l,this.LA(0));r.resyncedTokens=Zl(o),this.SAVE_ERROR(r)}),"generateErrorMessage");for(;!s;){if(this.tokenMatcher(u,n))return void c();if(r.call(this))return c(),void e.apply(this,t);this.tokenMatcher(u,i)?s=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,o))}this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(!1===r||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new cv("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||di(t))return!1;let r=this.LA(1);return void 0!==uu(t,(e=>this.tokenMatcher(r,e)))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return Au(r,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),r=2;for(;;){let n=uu(e,(e=>Xg(t,e)));if(void 0!==n)return n;t=this.LA(r),r++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return lv;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return ys(e,((r,n)=>0===n?lv:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[n],inRule:this.shortRuleNameToFullName(e[n-1])}))}flattenFollowSet(){let e=ys(this.buildFullFollowKeyStack(),(e=>this.getFollowSetFromFollowKey(e)));return Us(e)}getFollowSetFromFollowKey(e){if(e===lv)return[Kg];let t=e.ruleName+e.idxInCallingRule+gm+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,Kg)||t.push(e),t}reSyncTo(e){let t=[],r=this.LA(1);for(;!1===this.tokenMatcher(r,e);)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return Zl(t)}attemptInRepetitionRecovery(e,t,r,n,i,a,o){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:va(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return ys(this.RULE_STACK,(e=>this.shortRuleNameToFullName(e)))}};function dv(e,t,r,n,i,a,o){let s=this.getKeyForAutomaticLookahead(n,i),l=this.firstAfterRepMap[s];if(void 0===l){let e=this.getCurrRuleFullName();l=new a(this.getGAstProductions()[e],i).startWalking(),this.firstAfterRepMap[s]=l}let u=l.token,c=l.occurrence,h=l.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===u&&(u=Kg,c=1),void 0!==u&&void 0!==c&&this.shouldInRepetitionRecoveryBeTried(u,c,o)&&this.tryInRepetitionRecovery(e,t,r,u)}function fv(e,t,r){return r|t|e}$(dv,"attemptInRepetitionRecovery"),$(fv,"getKeyForAutomaticLookahead");var pv=class{static{$(this,"LLkLookaheadStrategy")}constructor(e){var t;this.maxLookahead=null!==(t=e?.maxLookahead)&&void 0!==t?t:Jv.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);if(di(t)){let r=this.validateEmptyOrAlternatives(e.rules),n=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...n,...i]}return t}validateNoLeftRecursion(e){return fu(e,(e=>By(e,e,Qg)))}validateEmptyOrAlternatives(e){return fu(e,(e=>zy(e,Qg)))}validateAmbiguousAlternationAlternatives(e,t){return fu(e,(e=>jy(e,t,Qg)))}validateSomeNonEmptyLookaheadPath(e,t){return qy(e,t,Qg)}buildLookaheadForAlternation(e){return my(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,yy)}buildLookaheadForOptional(e){return gy(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,fy(e.prodType),vy)}},mv=class{static{$(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=xu(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Jv.dynamicTokensEnabled,this.maxLookahead=xu(e,"maxLookahead")?e.maxLookahead:Jv.maxLookahead,this.lookaheadStrategy=xu(e,"lookaheadStrategy")?e.lookaheadStrategy:new pv({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Ia(e,(e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,(()=>{let{alternation:t,repetition:r,option:n,repetitionMandatory:i,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:o}=vv(e);Ia(t,(t=>{let r=0===t.idx?"":t.idx;this.TRACE_INIT(`${um(t)}${r}`,(()=>{let r=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),n=fv(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(n,r)}))})),Ia(r,(t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,um(t))})),Ia(n,(t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,um(t))})),Ia(i,(t=>{this.computeLookaheadFunc(e,t.idx,1024,"RepetitionMandatory",t.maxLookahead,um(t))})),Ia(a,(t=>{this.computeLookaheadFunc(e,t.idx,1536,"RepetitionMandatoryWithSeparator",t.maxLookahead,um(t))})),Ia(o,(t=>{this.computeLookaheadFunc(e,t.idx,1280,"RepetitionWithSeparator",t.maxLookahead,um(t))}))}))}))}computeLookaheadFunc(e,t,r,n,i,a){this.TRACE_INIT(`${a}${0===t?"":t}`,(()=>{let a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),o=fv(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(o,a)}))}getKeyForAutomaticLookahead(e,t){return fv(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},gv=class extends am{static{$(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},yv=new gv;function vv(e){yv.reset(),e.accept(yv);let t=yv.dslMethods;return yv.reset(),t}function Tv(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function Cv(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function xv(e,t,r){void 0===e.children[r]?e.children[r]=[t]:e.children[r].push(t)}function bv(e,t,r){void 0===e.children[t]?e.children[t]=[r]:e.children[t].push(r)}$(vv,"collectMethods"),$(Tv,"setNodeLocationOnlyOffset"),$(Cv,"setNodeLocationFull"),$(xv,"addTerminalToCst"),$(bv,"addNoneTerminalToCst");var kv;function _v(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function Sv(e,t){let r=pi(e),n=r.length;for(let i=0;i<n;i++){let n=e[r[i]],a=n.length;for(let e=0;e<a;e++){let r=n[e];void 0===r.tokenTypeIdx&&this[r.name](r.children,t)}}}function Av(e,t){let r=$((function(){}),"derivedConstructor");_v(r,e+"BaseSemantics");let n={visit:$((function(e,t){if(Cr(e)&&(e=e[0]),!ks(e))return this[e.name](e.children,t)}),"visit"),validateVisitor:$((function(){let e=Ev(this,t);if(!di(e)){let t=ys(e,(e=>e.msg));throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}),"validateVisitor")};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function Rv(e,t,r){let n=$((function(){}),"derivedConstructor");_v(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return Ia(t,(e=>{i[e]=Sv})),n.prototype=i,n.prototype.constructor=n,n}function Ev(e,t){return wv(e,t)}function wv(e,t){let r=fs(t,(t=>!1===re(e[t]))),n=ys(r,(t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:kv.MISSING_METHOD,methodName:t})));return Bl(n)}$(_v,"defineNameProp"),$(Sv,"defaultVisit"),$(Av,"createBaseSemanticVisitorConstructor"),$(Rv,"createBaseVisitorConstructorWithDefaults"),function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(kv||(kv={})),$(Ev,"validateVisitor"),$(wv,"validateMissingCstMethods");var Lv=class{static{$(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=xu(e,"nodeLocationTracking")?e.nodeLocationTracking:Jv.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Cv,this.setNodeLocationFromNode=Cv,this.cstPostRule=sl,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=sl,this.setNodeLocationFromNode=sl,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Tv,this.setNodeLocationFromNode=Tv,this.cstPostRule=sl,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=sl,this.setNodeLocationFromNode=sl,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=sl,this.setNodeLocationFromNode=sl,this.cstPostRule=sl,this.setInitialNodeLocation=sl}else this.cstInvocationStateUpdate=sl,this.cstFinallyStateUpdate=sl,this.cstPostTerminal=sl,this.cstPostNonTerminal=sl,this.cstPostRule=sl}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];xv(r,t,e),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];bv(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(ks(this.baseCstVisitorConstructor)){let e=Av(this.className,pi(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(ks(this.baseCstVisitorWithDefaultsConstructor)){let e=Rv(this.className,pi(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},$v=class{static{$(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Yv}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Yv:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},Iv=class{static{$(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=Zv){if(Au(this.definedRulesNames,e)){let t={message:Qg.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Xv.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);let n=this.defineRule(e,t,r);return this[e]=n,n}OVERRIDE_RULE(e,t,r=Zv){let n=Py(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);let i=this.defineRule(e,t,r);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let r=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(rv(e))return!1;throw e}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return nm(xs(this.gastProductionsCache))}},Nv=class{static{$(this,"RecognizerEngine")}initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=vg,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},xu(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Cr(e)){if(di(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Cr(e))this.tokensMap=Vs(e,((e,t)=>(e[t.name]=t,e)),{});else if(xu(e,"modes")&&iu(Us(xs(e.modes)),$g)){let t=Us(xs(e.modes)),r=_c(t);this.tokensMap=Vs(r,((e,t)=>(e[t.name]=t,e)),{})}else{if(!ee(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=va(e)}this.tokensMap.EOF=Kg;let r=xu(e,"modes")?Us(xs(e.modes)):xs(e),n=iu(r,(e=>di(e.categoryMatches)));this.tokenMatcher=n?vg:yg,xg(xs(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let n,i=xu(r,"resyncEnabled")?r.resyncEnabled:Zv.resyncEnabled,a=xu(r,"recoveryValueFunc")?r.recoveryValueFunc:Zv.recoveryValueFunc,o=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o,n=!0===this.outputCst?$((function(...r){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,r);let n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}catch(e){return this.invokeRuleCatch(e,i,a)}finally{this.ruleFinallyStateUpdate()}}),"invokeRuleWithTry"):$((function(...r){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,r)}catch(e){return this.invokeRuleCatch(e,i,a)}finally{this.ruleFinallyStateUpdate()}}),"invokeRuleWithTryCst"),Object.assign(n,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){let n=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(rv(e)){let t=e;if(i){let n=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(n)){if(t.resyncedTokens=this.reSyncTo(n),this.outputCst){let e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return r(e)}if(this.outputCst){let e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(n)return this.moveToTerminatedState(),r(e);throw t}throw e}optionInternal(e,t){let r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof e){n=e.DEF;let t=e.GATE;if(void 0!==t){let e=i;i=$((()=>t.call(this)&&e.call(this)),"lookAheadFunc")}}else n=e;if(!0===i.call(this))return n.call(this)}atLeastOneInternal(e,t){let r=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;let e=t.GATE;if(void 0!==e){let t=i;i=$((()=>e.call(this)&&t.call(this)),"lookAheadFunc")}}else n=t;if(!0!==i.call(this))throw this.raiseEarlyExitException(e,ty.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(n);for(;!0===i.call(this)&&!0===e;)e=this.doSingleRepetition(n)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,1024,e,ly)}atLeastOneSepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(!0!==this.getLaFuncFromCache(r).call(this))throw this.raiseEarlyExitException(e,ty.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{n.call(this);let t=$((()=>this.tokenMatcher(this.LA(1),i)),"separatorLookAheadFunc");for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,n,uy],t,1536,e,uy)}}manyInternal(e,t){let r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;let e=t.GATE;if(void 0!==e){let t=i;i=$((()=>e.call(this)&&t.call(this)),"lookaheadFunction")}}else n=t;let a=!0;for(;!0===i.call(this)&&!0===a;)a=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,oy,a)}manySepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(r).call(this)){n.call(this);let t=$((()=>this.tokenMatcher(this.LA(1),i)),"separatorLookAheadFunc");for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,n,sy],t,1280,e,sy)}}repetitionSepSecondInternal(e,t,r,n,i){for(;r();)this.CONSUME(t),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,n,i],r,1536,e,i)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let r=this.getKeyForAutomaticLookahead(256,t),n=Cr(e)?e:e.DEF,i=this.getLaFuncFromCache(r).call(this,n);if(void 0!==i)return n[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ov(t,e))}}subruleInternal(e,t,r){let n;try{let i=void 0!==r?r.ARGS:void 0;return this.subruleIdx=t,n=e.apply(this,i),this.cstPostNonTerminal(n,void 0!==r&&void 0!==r.LABEL?r.LABEL:e.ruleName),n}catch(t){throw this.subruleInternalError(t,r,e.ruleName)}}subruleInternalError(e,t,r){throw rv(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let n;try{let t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),n=t):this.consumeInternalError(e,t,r)}catch(r){n=this.consumeInternalRecovery(e,t,r)}return this.cstPostTerminal(void 0!==r&&void 0!==r.LABEL?r.LABEL:e.name,n),n}consumeInternalError(e,t,r){let n,i=this.LA(0);throw n=void 0!==r&&r.ERR_MSG?r.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new iv(n,t,i))}consumeInternalRecovery(e,t,r){if(!this.recoveryEnabled||"MismatchedTokenException"!==r.name||this.isBackTracking())throw r;{let n=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,n)}catch(e){throw e.name===uv?r:e}}}saveRecogState(){let e=this.errors,t=va(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Kg)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},Ov=class{static{$(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=xu(e,"errorMessageProvider")?e.errorMessageProvider:Jv.errorMessageProvider}SAVE_ERROR(e){if(rv(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:va(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return va(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){let n=this.getCurrRuleFullName(),i=Ay(e,this.getGAstProductions()[n],t,this.maxLookahead)[0],a=[];for(let e=1;e<=this.maxLookahead;e++)a.push(this.LA(e));let o=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:a,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new sv(o,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let r=this.getCurrRuleFullName(),n=Sy(e,this.getGAstProductions()[r],this.maxLookahead),i=[];for(let e=1;e<=this.maxLookahead;e++)i.push(this.LA(e));let a=this.LA(0),o=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:n,actual:i,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new av(o,this.LA(1),a))}},Mv=class{static{$(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,t){let r=this.gastProductionsCache[e];if(ks(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return hy([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=hu(e.ruleStack),r=this.getGAstProductions()[t];return new iy(r,e).startWalking()}},Fv={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Fv);var Pv=!0,Bv=Math.pow(2,8)-1,Dv=Hg({name:"RECORDING_PHASE_TOKEN",pattern:Mg.NA});xg([Dv]);var Uv=Yg(Dv,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Uv);var zv={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},jv=class{static{$(this,"GastRecorder")}initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(t,r){return this.consumeInternalRecord(t,e,r)},this[`SUBRULE${t}`]=function(t,r){return this.subruleInternalRecord(t,e,r)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD}))}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(()=>{let e=this;for(let t=0;t<10;t++){let r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return Yv}topLevelRuleRecord(e,t){try{let r=new Kp({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw e}throw e}}optionInternalRecord(e,t){return Gv.call(this,Xp,e,t)}atLeastOneInternalRecord(e,t){Gv.call(this,Jp,t,e)}atLeastOneSepFirstInternalRecord(e,t){Gv.call(this,Zp,t,e,Pv)}manyInternalRecord(e,t){Gv.call(this,Qp,t,e)}manySepFirstInternalRecord(e,t){Gv.call(this,em,t,e,Pv)}orInternalRecord(e,t){return Wv.call(this,e,t)}subruleInternalRecord(e,t,r){if(Hv(t),!e||!1===xu(e,"ruleName")){let r=new Error(`<SUBRULE${qv(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}let n=_a(this.recordingProdStack),i=e.ruleName,a=new Vp({idx:t,nonTerminalName:i,label:r?.LABEL,referencedRule:void 0});return n.definition.push(a),this.outputCst?zv:Fv}consumeInternalRecord(e,t,r){if(Hv(t),!Rg(e)){let r=new Error(`<CONSUME${qv(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}let n=_a(this.recordingProdStack),i=new rm({idx:t,terminalType:e,label:r?.LABEL});return n.definition.push(i),Uv}};function Gv(e,t,r,n=!1){Hv(r);let i=_a(this.recordingProdStack),a=re(t)?t:t.DEF,o=new e({definition:[],idx:r});return n&&(o.separator=t.SEP),xu(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),i.definition.push(o),this.recordingProdStack.pop(),Fv}function Wv(e,t){Hv(t);let r=_a(this.recordingProdStack),n=!1===Cr(e),i=!1===n?e:e.DEF,a=new tm({definition:[],idx:t,ignoreAmbiguities:n&&!0===e.IGNORE_AMBIGUITIES});xu(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);let o=bc(i,(e=>re(e.GATE)));return a.hasPredicates=o,r.definition.push(a),Ia(i,(e=>{let t=new Yp({definition:[]});a.definition.push(t),xu(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:xu(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()})),Fv}function qv(e){return 0===e?"":`${e}`}function Hv(e){if(e<0||e>Bv){let t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${Bv+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}$(Gv,"recordProd"),$(Wv,"recordOrProd"),$(qv,"getIdxSuffix"),$(Hv,"assertMethodIdxIsValid");var Vv=class{static{$(this,"PerformanceTracer")}initPerformanceTracer(e){if(xu(e,"traceInitPerf")){let t=e.traceInitPerf,r="number"==typeof t;this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Jv.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--\x3e <${e}>`);let{time:n,value:i}=jp(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}return t()}};function Kv(e,t){t.forEach((t=>{let r=t.prototype;Object.getOwnPropertyNames(r).forEach((n=>{if("constructor"===n)return;let i=Object.getOwnPropertyDescriptor(r,n);i&&(i.get||i.set)?Object.defineProperty(e.prototype,n,i):e.prototype[n]=t.prototype[n]}))}))}$(Kv,"applyMixins");var Yv=Yg(Kg,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Yv);var Xv,Jv=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Jg,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Zv=Object.freeze({recoveryValueFunc:$((()=>{}),"recoveryValueFunc"),resyncEnabled:!0});function Qv(e=void 0){return function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Xv||(Xv={})),$(Qv,"EMPTY_ALT");var eT=class e{static{$(this,"Parser")}static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",(()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",(()=>{Gp(this)})),this.TRACE_INIT("Grammar Recording",(()=>{try{this.enableRecording(),Ia(this.definedRulesNames,(e=>{let t,r=this[e].originalGrammarAction;this.TRACE_INIT(`${e} Rule`,(()=>{t=this.topLevelRuleRecord(e,r)})),this.gastProductionsCache[e]=t}))}finally{this.disableRecording()}}));let n=[];if(this.TRACE_INIT("Grammar Resolving",(()=>{n=Yy({rules:xs(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)})),this.TRACE_INIT("Grammar Validations",(()=>{if(di(n)&&!1===this.skipValidations){let e=Xy({rules:xs(this.gastProductionsCache),tokenTypes:xs(this.tokensMap),errMsgProvider:Qg,grammarName:r}),t=Ly({lookaheadStrategy:this.lookaheadStrategy,rules:xs(this.gastProductionsCache),tokenTypes:xs(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(e,t)}})),di(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",(()=>{let e=vm(xs(this.gastProductionsCache));this.resyncFollows=e})),this.TRACE_INIT("ComputeLookaheadFunctions",(()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:xs(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(xs(this.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!di(this.definitionErrors))throw t=ys(this.definitionErrors,(e=>e.message)),new Error(`Parser Definition Errors detected:\n ${t.join("\n-------------------------------\n")}`)}))}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;let r=this;if(r.initErrorHandler(t),r.initLexerAdapter(),r.initLooksAhead(t),r.initRecognizerEngine(e,t),r.initRecoverable(t),r.initTreeBuilder(t),r.initContentAssist(),r.initGastRecorder(t),r.initPerformanceTracer(t),xu(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=xu(t,"skipValidations")?t.skipValidations:Jv.skipValidations}};eT.DEFER_DEFINITION_ERRORS_HANDLING=!1,Kv(eT,[hv,mv,Lv,$v,Nv,Iv,Ov,Mv,jv,Vv]);var tT=class extends eT{static{$(this,"EmbeddedActionsParser")}constructor(e,t=Jv){let r=va(t);r.outputCst=!1,super(e,r)}};function rT(e,t,r){return`${e.name}_${t}_${r}`}$(rT,"buildATNKey");var nT=class{static{$(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},iT=class extends nT{static{$(this,"AtomTransition")}constructor(e,t){super(e),this.tokenType=t}},aT=class extends nT{static{$(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},oT=class extends nT{static{$(this,"RuleTransition")}constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}};function sT(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};lT(t,e);let r=e.length;for(let n=0;n<r;n++){let r=e[n],i=gT(t,r,r);void 0!==i&&AT(t,r,i)}return t}function lT(e,t){let r=t.length;for(let n=0;n<r;n++){let r=t[n],i=ET(e,r,void 0,{type:2}),a=ET(e,r,void 0,{type:7});i.stop=a,e.ruleToStartState.set(r,i),e.ruleToStopState.set(r,a)}}function uT(e,t,r){return r instanceof rm?_T(e,t,r.terminalType,r):r instanceof Vp?ST(e,t,r):r instanceof tm?pT(e,t,r):r instanceof Xp?mT(e,t,r):r instanceof Qp?cT(e,t,r):r instanceof em?hT(e,t,r):r instanceof Jp?dT(e,t,r):r instanceof Zp?fT(e,t,r):gT(e,t,r)}function cT(e,t,r){let n=ET(e,t,r,{type:5});return CT(e,n),vT(e,t,r,xT(e,t,n,r,gT(e,t,r)))}function hT(e,t,r){let n=ET(e,t,r,{type:5});return CT(e,n),vT(e,t,r,xT(e,t,n,r,gT(e,t,r)),_T(e,t,r.separator,r))}function dT(e,t,r){let n=ET(e,t,r,{type:4});return CT(e,n),yT(e,t,r,xT(e,t,n,r,gT(e,t,r)))}function fT(e,t,r){let n=ET(e,t,r,{type:4});return CT(e,n),yT(e,t,r,xT(e,t,n,r,gT(e,t,r)),_T(e,t,r.separator,r))}function pT(e,t,r){let n=ET(e,t,r,{type:1});CT(e,n);let i=ys(r.definition,(r=>uT(e,t,r)));return xT(e,t,n,r,...i)}function mT(e,t,r){let n=ET(e,t,r,{type:1});return CT(e,n),TT(e,t,r,xT(e,t,n,r,gT(e,t,r)))}function gT(e,t,r){let n=fs(ys(r.definition,(r=>uT(e,t,r))),(e=>void 0!==e));return 1===n.length?n[0]:0===n.length?void 0:kT(e,n)}function yT(e,t,r,n,i){let a=n.left,o=n.right,s=ET(e,t,r,{type:11});CT(e,s);let l=ET(e,t,r,{type:12});return a.loopback=s,l.loopback=s,e.decisionMap[rT(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=s,RT(o,s),void 0===i?(RT(s,a),RT(s,l)):(RT(s,l),RT(s,i.left),RT(i.right,a)),{left:a,right:l}}function vT(e,t,r,n,i){let a=n.left,o=n.right,s=ET(e,t,r,{type:10});CT(e,s);let l=ET(e,t,r,{type:12}),u=ET(e,t,r,{type:9});return s.loopback=u,l.loopback=u,RT(s,a),RT(s,l),RT(o,u),void 0!==i?(RT(u,l),RT(u,i.left),RT(i.right,a)):RT(u,s),e.decisionMap[rT(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=s,{left:s,right:l}}function TT(e,t,r,n){let i=n.left;return RT(i,n.right),e.decisionMap[rT(t,"Option",r.idx)]=i,n}function CT(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function xT(e,t,r,n,...i){let a=ET(e,t,n,{type:8,start:r});r.end=a;for(let e of i)void 0!==e?(RT(r,e.left),RT(e.right,a)):RT(r,a);let o={left:r,right:a};return e.decisionMap[rT(t,bT(n),n.idx)]=r,o}function bT(e){if(e instanceof tm)return"Alternation";if(e instanceof Xp)return"Option";if(e instanceof Qp)return"Repetition";if(e instanceof em)return"RepetitionWithSeparator";if(e instanceof Jp)return"RepetitionMandatory";if(e instanceof Zp)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function kT(e,t){let r=t.length;for(let n=0;n<r-1;n++){let r,i=t[n];1===i.left.transitions.length&&(r=i.left.transitions[0]);let a=r instanceof oT,o=r,s=t[n+1].left;1===i.left.type&&1===i.right.type&&void 0!==r&&(a&&o.followState===i.right||r.target===i.right)?(a?o.followState=s:r.target=s,LT(e,i.right)):RT(i.right,s)}let n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function _T(e,t,r,n){let i=ET(e,t,n,{type:1}),a=ET(e,t,n,{type:1});return wT(i,new iT(a,r)),{left:i,right:a}}function ST(e,t,r){let n=r.referencedRule,i=e.ruleToStartState.get(n),a=ET(e,t,r,{type:1}),o=ET(e,t,r,{type:1});return wT(a,new oT(i,n,o)),{left:a,right:o}}function AT(e,t,r){let n=e.ruleToStartState.get(t);RT(n,r.left);let i=e.ruleToStopState.get(t);return RT(r.right,i),{left:n,right:i}}function RT(e,t){wT(e,new aT(t))}function ET(e,t,r,n){let i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function wT(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function LT(e,t){e.states.splice(e.states.indexOf(t),1)}$(sT,"createATN"),$(lT,"createRuleStartAndStopATNStates"),$(uT,"atom"),$(cT,"repetition"),$(hT,"repetitionSep"),$(dT,"repetitionMandatory"),$(fT,"repetitionMandatorySep"),$(pT,"alternation"),$(mT,"option"),$(gT,"block"),$(yT,"plus"),$(vT,"star"),$(TT,"optional"),$(CT,"defineDecisionState"),$(xT,"makeAlts"),$(bT,"getProdType"),$(kT,"makeBlock"),$(_T,"tokenRef"),$(ST,"ruleRef"),$(AT,"buildRuleHandle"),$(RT,"epsilon"),$(ET,"newState"),$(wT,"addTransition"),$(LT,"removeState");var $T={},IT=class{static{$(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let t=NT(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return ys(this.configs,(e=>e.alt))}get key(){let e="";for(let t in this.map)e+=t+":";return e}};function NT(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map((e=>e.stateNumber.toString())).join("_")}`}function OT(e,t){let r={};return n=>{let i=n.toString(),a=r[i];return void 0!==a||(a={atnStartState:e,decision:t,states:{}},r[i]=a),a}}$(NT,"getATNConfigKey"),$(OT,"createDFACache");var MT,FT,PT,BT,DT,UT,zT,jT,GT,WT,qT,HT,VT,KT,YT,XT,JT,ZT,QT,eC,tC,rC,nC,iC,aC,oC,sC,lC,uC,cC,hC,dC,fC,pC,mC,gC,yC,vC,TC,CC,xC,bC,kC,_C,SC,AC,RC,EC,wC,LC,$C,IC,NC,OC,MC,FC,PC,BC,DC,UC,zC,jC,GC,WC,qC,HC,VC,KC,YC,XC,JC,ZC,QC,ex,tx,rx,nx,ix,ax,ox=class{static{$(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="",t=this.predicates.length;for(let r=0;r<t;r++)e+=!0===this.predicates[r]?"1":"0";return e}},sx=new ox,lx=class extends pv{static{$(this,"LLStarLookaheadStrategy")}constructor(e){var t;super(),this.logging=null!==(t=e?.logging)&&void 0!==t?t:e=>console.log(e)}initialize(e){this.atn=sT(e.rules),this.dfas=cx(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:t,rule:r,hasPredicates:n,dynamicTokensEnabled:i}=e,a=this.dfas,o=this.logging,s=rT(r,"Alternation",t),l=this.atn.decisionMap[s].decision,u=ys(py({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),(e=>ys(e,(e=>e[0]))));if(ux(u,!1)&&!i){let e=Vs(u,((e,t,r)=>(Ia(t,(t=>{t&&(e[t.tokenTypeIdx]=r,Ia(t.categoryMatches,(t=>{e[t]=r})))})),e)),{});return n?function(t){var r;let n=this.LA(1),i=e[n.tokenTypeIdx];if(void 0!==t&&void 0!==i){let e=null===(r=t[i])||void 0===r?void 0:r.GATE;if(void 0!==e&&!1===e.call(this))return}return i}:function(){let t=this.LA(1);return e[t.tokenTypeIdx]}}return n?function(e){let t=new ox,r=void 0===e?0:e.length;for(let n=0;n<r;n++){let r=e?.[n].GATE;t.set(n,void 0===r||r.call(this))}let n=hx.call(this,a,l,t,o);return"number"==typeof n?n:void 0}:function(){let e=hx.call(this,a,l,sx,o);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:t,rule:r,prodType:n,dynamicTokensEnabled:i}=e,a=this.dfas,o=this.logging,s=rT(r,n,t),l=this.atn.decisionMap[s].decision,u=ys(py({maxLookahead:1,occurrence:t,prodType:n,rule:r}),(e=>ys(e,(e=>e[0]))));if(ux(u)&&u[0][0]&&!i){let e=u[0],t=Us(e);if(1===t.length&&di(t[0].categoryMatches)){let e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{let e=Vs(t,((e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,Ia(t.categoryMatches,(t=>{e[t]=!0}))),e)),{});return function(){let t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){let e=hx.call(this,a,l,sx,o);return"object"!=typeof e&&0===e}}};function ux(e,t=!0){let r=new Set;for(let n of e){let e=new Set;for(let i of n){if(void 0===i){if(t)break;return!1}let n=[i.tokenTypeIdx].concat(i.categoryMatches);for(let t of n)if(r.has(t)){if(!e.has(t))return!1}else r.add(t),e.add(t)}}return!0}function cx(e){let t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=OT(e.decisionStates[n],n);return r}function hx(e,t,r,n){let i=e[t](r),a=i.start;if(void 0===a){a=_x(i,bx(Sx(i.atnStartState))),i.start=a}return dx.apply(this,[i,a,r,n])}function dx(e,t,r,n){let i=t,a=1,o=[],s=this.LA(a++);for(;;){let t=vx(i,s);if(void 0===t&&(t=fx.apply(this,[e,i,s,a,r,n])),t===$T)return yx(o,i,s);if(!0===t.isAcceptState)return t.prediction;i=t,o.push(s),s=this.LA(a++)}}function fx(e,t,r,n,i,a){let o=Tx(t.configs,r,i);if(0===o.size)return kx(e,t,r,$T),$T;let s=bx(o),l=xx(o,i);if(void 0!==l)s.isAcceptState=!0,s.prediction=l,s.configs.uniqueAlt=l;else if(Lx(o)){let t=Pu(o.alts);s.isAcceptState=!0,s.prediction=t,s.configs.uniqueAlt=t,px.apply(this,[e,n,o.alts,a])}return s=kx(e,t,r,s),s}function px(e,t,r,n){let i=[];for(let e=1;e<=t;e++)i.push(this.LA(e).tokenType);let a=e.atnStartState;n(mx({topLevelRule:a.rule,ambiguityIndices:r,production:a.production,prefixPath:i}))}function mx(e){let t=ys(e.prefixPath,(e=>Fg(e))).join(", "),r=0===e.production.idx?"":e.production.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${gx(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return n+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",n}function gx(e){if(e instanceof Vp)return"SUBRULE";if(e instanceof Xp)return"OPTION";if(e instanceof tm)return"OR";if(e instanceof Jp)return"AT_LEAST_ONE";if(e instanceof Zp)return"AT_LEAST_ONE_SEP";if(e instanceof em)return"MANY_SEP";if(e instanceof Qp)return"MANY";if(e instanceof rm)return"CONSUME";throw Error("non exhaustive match")}function yx(e,t,r){let n=fu(t.configs.elements,(e=>e.state.transitions)),i=Ac(n.filter((e=>e instanceof iT)).map((e=>e.tokenType)),(e=>e.tokenTypeIdx));return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function vx(e,t){return e.edges[t.tokenTypeIdx]}function Tx(e,t,r){let n,i=new IT,a=[];for(let n of e.elements){if(!1===r.is(n.alt))continue;if(7===n.state.type){a.push(n);continue}let e=n.state.transitions.length;for(let r=0;r<e;r++){let e=Cx(n.state.transitions[r],t);void 0!==e&&i.add({state:e,alt:n.alt,stack:n.stack})}}if(0===a.length&&1===i.size&&(n=i),void 0===n){n=new IT;for(let e of i.elements)Ax(e,n)}if(a.length>0&&!Ex(n))for(let e of a)n.add(e);return n}function Cx(e,t){if(e instanceof iT&&Xg(t,e.tokenType))return e.target}function xx(e,t){let r;for(let n of e.elements)if(!0===t.is(n.alt))if(void 0===r)r=n.alt;else if(r!==n.alt)return;return r}function bx(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function kx(e,t,r,n){return n=_x(e,n),t.edges[r.tokenTypeIdx]=n,n}function _x(e,t){if(t===$T)return t;let r=t.configs.key,n=e.states[r];return void 0!==n?n:(t.configs.finalize(),e.states[r]=t,t)}function Sx(e){let t=new IT,r=e.transitions.length;for(let n=0;n<r;n++){Ax({state:e.transitions[n].target,alt:n,stack:[]},t)}return t}function Ax(e,t){let r=e.state;if(7===r.type){if(e.stack.length>0){let r=[...e.stack];Ax({state:r.pop(),alt:e.alt,stack:r},t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let n=r.transitions.length;for(let i=0;i<n;i++){let n=Rx(e,r.transitions[i]);void 0!==n&&Ax(n,t)}}function Rx(e,t){if(t instanceof aT)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof oT){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function Ex(e){for(let t of e.elements)if(7===t.state.type)return!0;return!1}function wx(e){for(let t of e.elements)if(7!==t.state.type)return!1;return!0}function Lx(e){if(wx(e))return!0;let t=$x(e.elements);return Ix(t)&&!Nx(t)}function $x(e){let t=new Map;for(let r of e){let e=NT(r,!1),n=t.get(e);void 0===n&&(n={},t.set(e,n)),n[r.alt]=!0}return t}function Ix(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function Nx(e){for(let t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}$(ux,"isLL1Sequence"),$(cx,"initATNSimulator"),$(hx,"adaptivePredict"),$(dx,"performLookahead"),$(fx,"computeLookaheadTarget"),$(px,"reportLookaheadAmbiguity"),$(mx,"buildAmbiguityError"),$(gx,"getProductionDslName"),$(yx,"buildAdaptivePredictError"),$(vx,"getExistingTargetState"),$(Tx,"computeReachSet"),$(Cx,"getReachableTarget"),$(xx,"getUniqueAlt"),$(bx,"newDFAState"),$(kx,"addDFAEdge"),$(_x,"addDFAState"),$(Sx,"computeStartState"),$(Ax,"closure"),$(Rx,"getEpsilonTarget"),$(Ex,"hasConfigInRuleStopState"),$(wx,"allConfigsInRuleStopStates"),$(Lx,"hasConflictTerminatingPrediction"),$($x,"getConflictingAltSets"),$(Ix,"hasConflictingAltSet"),$(Nx,"hasStateAssociatedWithOneAlt"),function(e){function t(e){return"string"==typeof e}$(t,"is"),e.is=t}(MT||(MT={})),function(e){function t(e){return"string"==typeof e}$(t,"is"),e.is=t}(FT||(FT={})),function(e){function t(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,$(t,"is"),e.is=t}(PT||(PT={})),function(e){function t(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}e.MIN_VALUE=0,e.MAX_VALUE=2147483647,$(t,"is"),e.is=t}(BT||(BT={})),function(e){function t(e,t){return e===Number.MAX_VALUE&&(e=BT.MAX_VALUE),t===Number.MAX_VALUE&&(t=BT.MAX_VALUE),{line:e,character:t}}function r(e){let t=e;return Ox.objectLiteral(t)&&Ox.uinteger(t.line)&&Ox.uinteger(t.character)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(DT||(DT={})),function(e){function t(e,t,r,n){if(Ox.uinteger(e)&&Ox.uinteger(t)&&Ox.uinteger(r)&&Ox.uinteger(n))return{start:DT.create(e,t),end:DT.create(r,n)};if(DT.is(e)&&DT.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${r}, ${n}]`)}function r(e){let t=e;return Ox.objectLiteral(t)&&DT.is(t.start)&&DT.is(t.end)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(UT||(UT={})),function(e){function t(e,t){return{uri:e,range:t}}function r(e){let t=e;return Ox.objectLiteral(t)&&UT.is(t.range)&&(Ox.string(t.uri)||Ox.undefined(t.uri))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(zT||(zT={})),function(e){function t(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}}function r(e){let t=e;return Ox.objectLiteral(t)&&UT.is(t.targetRange)&&Ox.string(t.targetUri)&&UT.is(t.targetSelectionRange)&&(UT.is(t.originSelectionRange)||Ox.undefined(t.originSelectionRange))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(jT||(jT={})),function(e){function t(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}}function r(e){let t=e;return Ox.objectLiteral(t)&&Ox.numberRange(t.red,0,1)&&Ox.numberRange(t.green,0,1)&&Ox.numberRange(t.blue,0,1)&&Ox.numberRange(t.alpha,0,1)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(GT||(GT={})),function(e){function t(e,t){return{range:e,color:t}}function r(e){let t=e;return Ox.objectLiteral(t)&&UT.is(t.range)&&GT.is(t.color)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(WT||(WT={})),function(e){function t(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}}function r(e){let t=e;return Ox.objectLiteral(t)&&Ox.string(t.label)&&(Ox.undefined(t.textEdit)||eC.is(t))&&(Ox.undefined(t.additionalTextEdits)||Ox.typedArray(t.additionalTextEdits,eC.is))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(qT||(qT={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(HT||(HT={})),function(e){function t(e,t,r,n,i,a){let o={startLine:e,endLine:t};return Ox.defined(r)&&(o.startCharacter=r),Ox.defined(n)&&(o.endCharacter=n),Ox.defined(i)&&(o.kind=i),Ox.defined(a)&&(o.collapsedText=a),o}function r(e){let t=e;return Ox.objectLiteral(t)&&Ox.uinteger(t.startLine)&&Ox.uinteger(t.startLine)&&(Ox.undefined(t.startCharacter)||Ox.uinteger(t.startCharacter))&&(Ox.undefined(t.endCharacter)||Ox.uinteger(t.endCharacter))&&(Ox.undefined(t.kind)||Ox.string(t.kind))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(VT||(VT={})),function(e){function t(e,t){return{location:e,message:t}}function r(e){let t=e;return Ox.defined(t)&&zT.is(t.location)&&Ox.string(t.message)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(KT||(KT={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(YT||(YT={})),function(e){e.Unnecessary=1,e.Deprecated=2}(XT||(XT={})),function(e){function t(e){let t=e;return Ox.objectLiteral(t)&&Ox.string(t.href)}$(t,"is"),e.is=t}(JT||(JT={})),function(e){function t(e,t,r,n,i,a){let o={range:e,message:t};return Ox.defined(r)&&(o.severity=r),Ox.defined(n)&&(o.code=n),Ox.defined(i)&&(o.source=i),Ox.defined(a)&&(o.relatedInformation=a),o}function r(e){var t;let r=e;return Ox.defined(r)&&UT.is(r.range)&&Ox.string(r.message)&&(Ox.number(r.severity)||Ox.undefined(r.severity))&&(Ox.integer(r.code)||Ox.string(r.code)||Ox.undefined(r.code))&&(Ox.undefined(r.codeDescription)||Ox.string(null===(t=r.codeDescription)||void 0===t?void 0:t.href))&&(Ox.string(r.source)||Ox.undefined(r.source))&&(Ox.undefined(r.relatedInformation)||Ox.typedArray(r.relatedInformation,KT.is))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(ZT||(ZT={})),function(e){function t(e,t,...r){let n={title:e,command:t};return Ox.defined(r)&&r.length>0&&(n.arguments=r),n}function r(e){let t=e;return Ox.defined(t)&&Ox.string(t.title)&&Ox.string(t.command)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(QT||(QT={})),function(e){function t(e,t){return{range:e,newText:t}}function r(e,t){return{range:{start:e,end:e},newText:t}}function n(e){return{range:e,newText:""}}function i(e){let t=e;return Ox.objectLiteral(t)&&Ox.string(t.newText)&&UT.is(t.range)}$(t,"replace"),e.replace=t,$(r,"insert"),e.insert=r,$(n,"del"),e.del=n,$(i,"is"),e.is=i}(eC||(eC={})),function(e){function t(e,t,r){let n={label:e};return void 0!==t&&(n.needsConfirmation=t),void 0!==r&&(n.description=r),n}function r(e){let t=e;return Ox.objectLiteral(t)&&Ox.string(t.label)&&(Ox.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Ox.string(t.description)||void 0===t.description)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(tC||(tC={})),function(e){function t(e){let t=e;return Ox.string(t)}$(t,"is"),e.is=t}(rC||(rC={})),function(e){function t(e,t,r){return{range:e,newText:t,annotationId:r}}function r(e,t,r){return{range:{start:e,end:e},newText:t,annotationId:r}}function n(e,t){return{range:e,newText:"",annotationId:t}}function i(e){let t=e;return eC.is(t)&&(tC.is(t.annotationId)||rC.is(t.annotationId))}$(t,"replace"),e.replace=t,$(r,"insert"),e.insert=r,$(n,"del"),e.del=n,$(i,"is"),e.is=i}(nC||(nC={})),function(e){function t(e,t){return{textDocument:e,edits:t}}function r(e){let t=e;return Ox.defined(t)&&hC.is(t.textDocument)&&Array.isArray(t.edits)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(iC||(iC={})),function(e){function t(e,t,r){let n={kind:"create",uri:e};return void 0!==t&&(void 0!==t.overwrite||void 0!==t.ignoreIfExists)&&(n.options=t),void 0!==r&&(n.annotationId=r),n}function r(e){let t=e;return t&&"create"===t.kind&&Ox.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Ox.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ox.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||rC.is(t.annotationId))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(aC||(aC={})),function(e){function t(e,t,r,n){let i={kind:"rename",oldUri:e,newUri:t};return void 0!==r&&(void 0!==r.overwrite||void 0!==r.ignoreIfExists)&&(i.options=r),void 0!==n&&(i.annotationId=n),i}function r(e){let t=e;return t&&"rename"===t.kind&&Ox.string(t.oldUri)&&Ox.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Ox.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ox.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||rC.is(t.annotationId))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(oC||(oC={})),function(e){function t(e,t,r){let n={kind:"delete",uri:e};return void 0!==t&&(void 0!==t.recursive||void 0!==t.ignoreIfNotExists)&&(n.options=t),void 0!==r&&(n.annotationId=r),n}function r(e){let t=e;return t&&"delete"===t.kind&&Ox.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Ox.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Ox.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||rC.is(t.annotationId))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(sC||(sC={})),function(e){function t(e){let t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((e=>Ox.string(e.kind)?aC.is(e)||oC.is(e)||sC.is(e):iC.is(e))))}$(t,"is"),e.is=t}(lC||(lC={})),function(e){function t(e){return{uri:e}}function r(e){let t=e;return Ox.defined(t)&&Ox.string(t.uri)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(uC||(uC={})),function(e){function t(e,t){return{uri:e,version:t}}function r(e){let t=e;return Ox.defined(t)&&Ox.string(t.uri)&&Ox.integer(t.version)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(cC||(cC={})),function(e){function t(e,t){return{uri:e,version:t}}function r(e){let t=e;return Ox.defined(t)&&Ox.string(t.uri)&&(null===t.version||Ox.integer(t.version))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(hC||(hC={})),function(e){function t(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}}function r(e){let t=e;return Ox.defined(t)&&Ox.string(t.uri)&&Ox.string(t.languageId)&&Ox.integer(t.version)&&Ox.string(t.text)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(dC||(dC={})),function(e){function t(t){let r=t;return r===e.PlainText||r===e.Markdown}e.PlainText="plaintext",e.Markdown="markdown",$(t,"is"),e.is=t}(fC||(fC={})),function(e){function t(e){let t=e;return Ox.objectLiteral(e)&&fC.is(t.kind)&&Ox.string(t.value)}$(t,"is"),e.is=t}(pC||(pC={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(mC||(mC={})),function(e){e.PlainText=1,e.Snippet=2}(gC||(gC={})),(yC||(yC={})).Deprecated=1,function(e){function t(e,t,r){return{newText:e,insert:t,replace:r}}function r(e){let t=e;return t&&Ox.string(t.newText)&&UT.is(t.insert)&&UT.is(t.replace)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(vC||(vC={})),function(e){e.asIs=1,e.adjustIndentation=2}(TC||(TC={})),function(e){function t(e){let t=e;return t&&(Ox.string(t.detail)||void 0===t.detail)&&(Ox.string(t.description)||void 0===t.description)}$(t,"is"),e.is=t}(CC||(CC={})),function(e){function t(e){return{label:e}}$(t,"create"),e.create=t}(xC||(xC={})),function(e){function t(e,t){return{items:e||[],isIncomplete:!!t}}$(t,"create"),e.create=t}(bC||(bC={})),function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function r(e){let t=e;return Ox.string(t)||Ox.objectLiteral(t)&&Ox.string(t.language)&&Ox.string(t.value)}$(t,"fromPlainText"),e.fromPlainText=t,$(r,"is"),e.is=r}(kC||(kC={})),function(e){function t(e){let t=e;return!!t&&Ox.objectLiteral(t)&&(pC.is(t.contents)||kC.is(t.contents)||Ox.typedArray(t.contents,kC.is))&&(void 0===e.range||UT.is(e.range))}$(t,"is"),e.is=t}(_C||(_C={})),function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}$(t,"create"),e.create=t}(SC||(SC={})),function(e){function t(e,t,...r){let n={label:e};return Ox.defined(t)&&(n.documentation=t),Ox.defined(r)?n.parameters=r:n.parameters=[],n}$(t,"create"),e.create=t}(AC||(AC={})),function(e){e.Text=1,e.Read=2,e.Write=3}(RC||(RC={})),function(e){function t(e,t){let r={range:e};return Ox.number(t)&&(r.kind=t),r}$(t,"create"),e.create=t}(EC||(EC={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(wC||(wC={})),(LC||(LC={})).Deprecated=1,function(e){function t(e,t,r,n,i){let a={name:e,kind:t,location:{uri:n,range:r}};return i&&(a.containerName=i),a}$(t,"create"),e.create=t}($C||($C={})),function(e){function t(e,t,r,n){return void 0!==n?{name:e,kind:t,location:{uri:r,range:n}}:{name:e,kind:t,location:{uri:r}}}$(t,"create"),e.create=t}(IC||(IC={})),function(e){function t(e,t,r,n,i,a){let o={name:e,detail:t,kind:r,range:n,selectionRange:i};return void 0!==a&&(o.children=a),o}function r(e){let t=e;return t&&Ox.string(t.name)&&Ox.number(t.kind)&&UT.is(t.range)&&UT.is(t.selectionRange)&&(void 0===t.detail||Ox.string(t.detail))&&(void 0===t.deprecated||Ox.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(NC||(NC={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(OC||(OC={})),function(e){e.Invoked=1,e.Automatic=2}(MC||(MC={})),function(e){function t(e,t,r){let n={diagnostics:e};return null!=t&&(n.only=t),null!=r&&(n.triggerKind=r),n}function r(e){let t=e;return Ox.defined(t)&&Ox.typedArray(t.diagnostics,ZT.is)&&(void 0===t.only||Ox.typedArray(t.only,Ox.string))&&(void 0===t.triggerKind||t.triggerKind===MC.Invoked||t.triggerKind===MC.Automatic)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(FC||(FC={})),function(e){function t(e,t,r){let n={title:e},i=!0;return"string"==typeof t?(i=!1,n.kind=t):QT.is(t)?n.command=t:n.edit=t,i&&void 0!==r&&(n.kind=r),n}function r(e){let t=e;return t&&Ox.string(t.title)&&(void 0===t.diagnostics||Ox.typedArray(t.diagnostics,ZT.is))&&(void 0===t.kind||Ox.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||QT.is(t.command))&&(void 0===t.isPreferred||Ox.boolean(t.isPreferred))&&(void 0===t.edit||lC.is(t.edit))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(PC||(PC={})),function(e){function t(e,t){let r={range:e};return Ox.defined(t)&&(r.data=t),r}function r(e){let t=e;return Ox.defined(t)&&UT.is(t.range)&&(Ox.undefined(t.command)||QT.is(t.command))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(BC||(BC={})),function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}function r(e){let t=e;return Ox.defined(t)&&Ox.uinteger(t.tabSize)&&Ox.boolean(t.insertSpaces)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(DC||(DC={})),function(e){function t(e,t,r){return{range:e,target:t,data:r}}function r(e){let t=e;return Ox.defined(t)&&UT.is(t.range)&&(Ox.undefined(t.target)||Ox.string(t.target))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(UC||(UC={})),function(e){function t(e,t){return{range:e,parent:t}}function r(t){let r=t;return Ox.objectLiteral(r)&&UT.is(r.range)&&(void 0===r.parent||e.is(r.parent))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(zC||(zC={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(jC||(jC={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(GC||(GC={})),function(e){function t(e){let t=e;return Ox.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}$(t,"is"),e.is=t}(WC||(WC={})),function(e){function t(e,t){return{range:e,text:t}}function r(e){let t=e;return null!=t&&UT.is(t.range)&&Ox.string(t.text)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(qC||(qC={})),function(e){function t(e,t,r){return{range:e,variableName:t,caseSensitiveLookup:r}}function r(e){let t=e;return null!=t&&UT.is(t.range)&&Ox.boolean(t.caseSensitiveLookup)&&(Ox.string(t.variableName)||void 0===t.variableName)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(HC||(HC={})),function(e){function t(e,t){return{range:e,expression:t}}function r(e){let t=e;return null!=t&&UT.is(t.range)&&(Ox.string(t.expression)||void 0===t.expression)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(VC||(VC={})),function(e){function t(e,t){return{frameId:e,stoppedLocation:t}}function r(e){let t=e;return Ox.defined(t)&&UT.is(e.stoppedLocation)}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(KC||(KC={})),function(e){function t(e){return 1===e||2===e}e.Type=1,e.Parameter=2,$(t,"is"),e.is=t}(YC||(YC={})),function(e){function t(e){return{value:e}}function r(e){let t=e;return Ox.objectLiteral(t)&&(void 0===t.tooltip||Ox.string(t.tooltip)||pC.is(t.tooltip))&&(void 0===t.location||zT.is(t.location))&&(void 0===t.command||QT.is(t.command))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(XC||(XC={})),function(e){function t(e,t,r){let n={position:e,label:t};return void 0!==r&&(n.kind=r),n}function r(e){let t=e;return Ox.objectLiteral(t)&&DT.is(t.position)&&(Ox.string(t.label)||Ox.typedArray(t.label,XC.is))&&(void 0===t.kind||YC.is(t.kind))&&void 0===t.textEdits||Ox.typedArray(t.textEdits,eC.is)&&(void 0===t.tooltip||Ox.string(t.tooltip)||pC.is(t.tooltip))&&(void 0===t.paddingLeft||Ox.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Ox.boolean(t.paddingRight))}$(t,"create"),e.create=t,$(r,"is"),e.is=r}(JC||(JC={})),function(e){function t(e){return{kind:"snippet",value:e}}$(t,"createSnippet"),e.createSnippet=t}(ZC||(ZC={})),function(e){function t(e,t,r,n){return{insertText:e,filterText:t,range:r,command:n}}$(t,"create"),e.create=t}(QC||(QC={})),function(e){function t(e){return{items:e}}$(t,"create"),e.create=t}(ex||(ex={})),function(e){e.Invoked=0,e.Automatic=1}(tx||(tx={})),function(e){function t(e,t){return{range:e,text:t}}$(t,"create"),e.create=t}(rx||(rx={})),function(e){function t(e,t){return{triggerKind:e,selectedCompletionInfo:t}}$(t,"create"),e.create=t}(nx||(nx={})),function(e){function t(e){let t=e;return Ox.objectLiteral(t)&&FT.is(t.uri)&&Ox.string(t.name)}$(t,"is"),e.is=t}(ix||(ix={})),function(e){function t(e,t,r,n){return new Mx(e,t,r,n)}function r(e){let t=e;return!!(Ox.defined(t)&&Ox.string(t.uri)&&(Ox.undefined(t.languageId)||Ox.string(t.languageId))&&Ox.uinteger(t.lineCount)&&Ox.func(t.getText)&&Ox.func(t.positionAt)&&Ox.func(t.offsetAt))}function n(e,t){let r=e.getText(),n=i(t,((e,t)=>{let r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),a=r.length;for(let t=n.length-1;t>=0;t--){let i=n[t],o=e.offsetAt(i.range.start),s=e.offsetAt(i.range.end);if(!(s<=a))throw new Error("Overlapping edit");r=r.substring(0,o)+i.newText+r.substring(s,r.length),a=o}return r}function i(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),a=e.slice(r);i(n,t),i(a,t);let o=0,s=0,l=0;for(;o<n.length&&s<a.length;)t(n[o],a[s])<=0?e[l++]=n[o++]:e[l++]=a[s++];for(;o<n.length;)e[l++]=n[o++];for(;s<a.length;)e[l++]=a[s++];return e}$(t,"create"),e.create=t,$(r,"is"),e.is=r,$(n,"applyEdits"),e.applyEdits=n,$(i,"mergeSort")}(ax||(ax={}));var Ox,Mx=class{static{$(this,"FullTextDocument")}constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],t=this._content,r=!0;for(let n=0;n<t.length;n++){r&&(e.push(n),r=!1);let i=t.charAt(n);r="\r"===i||"\n"===i,"\r"===i&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return DT.create(0,e);for(;r<n;){let i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}let i=r-1;return DT.create(i,e-t[i])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)}get lineCount(){return this.getLineOffsets().length}};!function(e){let t=Object.prototype.toString;function r(e){return typeof e<"u"}function n(e){return typeof e>"u"}function i(e){return!0===e||!1===e}function a(e){return"[object String]"===t.call(e)}function o(e){return"[object Number]"===t.call(e)}function s(e,r,n){return"[object Number]"===t.call(e)&&r<=e&&e<=n}function l(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647}function u(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647}function c(e){return"[object Function]"===t.call(e)}function h(e){return null!==e&&"object"==typeof e}function d(e,t){return Array.isArray(e)&&e.every(t)}$(r,"defined"),e.defined=r,$(n,"undefined"),e.undefined=n,$(i,"boolean"),e.boolean=i,$(a,"string"),e.string=a,$(o,"number"),e.number=o,$(s,"numberRange"),e.numberRange=s,$(l,"integer"),e.integer=l,$(u,"uinteger"),e.uinteger=u,$(c,"func"),e.func=c,$(h,"objectLiteral"),e.objectLiteral=h,$(d,"typedArray"),e.typedArray=d}(Ox||(Ox={}));var Fx=class{static{$(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){var e;return null!==(e=this.nodeStack[this.nodeStack.length-1])&&void 0!==e?e:this.rootNode}buildRootNode(e){return this.rootNode=new zx(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new Dx;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let r=new Bx(e.startOffset,e.image.length,rh(e),e.tokenType,!t);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){let t=e.container;if(t){let r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}addHiddenNodes(e){let t=[];for(let r of e){let e=new Bx(r.startOffset,r.image.length,rh(r),r.tokenType,!0);e.root=this.rootNode,t.push(e)}let r=this.current,n=!1;if(r.content.length>0)r.content.push(...t);else{for(;r.container;){let e=r.container.content.indexOf(r);if(e>0){r.container.content.splice(e,0,...t),n=!0;break}r=r.container}n||this.rootNode.content.unshift(...t)}}construct(e){let t=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=t;let r=this.nodeStack.pop();0===r?.content.length&&this.removeNode(r)}},Px=class{static{$(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let r="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(t=this.container)||void 0===t?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},Bx=class extends Px{static{$(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,n,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=n,this._length=t,this._range=r}},Dx=class extends Px{static{$(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new Ux(this)}get children(){return this.content}get offset(){var e,t;return null!==(t=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==t?t:0}get length(){return this.end-this.offset}get end(){var e,t;return null!==(t=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==t?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(void 0===this._rangeCache){let{range:r}=e,{range:n}=t;this._rangeCache={start:r.start,end:n.end.line<r.start.line?r.start:n.end}}return this._rangeCache}return{start:DT.create(0,0),end:DT.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}},Ux=class e extends Array{static{$(this,"CstNodeContainer")}constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,e.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,t,...r){return this.addParents(r),super.splice(e,t,...r)}addParents(e){for(let t of e)t.container=this.parent}},zx=class extends Dx{static{$(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}},jx=Symbol("Datatype");function Gx(e){return e.$type===jx}$(Gx,"isDataTypeNode");var Wx=$((e=>e.endsWith("")?e:e+""),"withRuleSuffix"),qx=class{static{$(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition,r="production"===e.LanguageMetaData.mode;this.wrapper=new Jx(t,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},Hx=class extends qx{static{$(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new Fx,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let r=this.computeRuleType(e),n=this.wrapper.DEFINE_RULE(Wx(e.name),this.startImplementation(r,t).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}computeRuleType(e){if(!e.fragment){if(Cp(e))return jx;return _p(e)??e.name}}parse(e,t={}){this.nodeBuilder.buildRootNode(e);let r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;let n=t.rule?this.allRules.get(t.rule):this.mainRule;if(!n)throw new Error(t.rule?`No rule found with name '${t.rule}'`:"No main rule available.");let i=n.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:i,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{let n,i=!this.isRecording()&&void 0!==e;if(i){let t={$type:e};this.stack.push(t),e===jx&&(t.value="")}try{n=t(r)}catch{n=void 0}return void 0===n&&i&&(n=this.construct()),n}}extractHiddenTokens(e){let t=this.lexerResult.hidden;if(!t.length)return[];let r=e.startOffset;for(let e=0;e<t.length;e++)if(t[e].startOffset>r)return t.splice(0,e);return t.splice(0,t.length)}consume(e,t,r){let n=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(n)){let e=this.extractHiddenTokens(n);this.nodeBuilder.addHiddenNodes(e);let t=this.nodeBuilder.buildLeafNode(n,r),{assignment:i,isCrossRef:a}=this.getAssignment(r),o=this.current;if(i){let e=qd(r)?n.image:this.converter.convert(n.image,t);this.assign(i.operator,i.feature,e,t,a)}else if(Gx(o)){let e=n.image;qd(r)||(e=this.converter.convert(e,t).toString()),o.value+=e}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,t,r,n,i){let a;!this.isRecording()&&!r&&(a=this.nodeBuilder.buildCompositeNode(n));let o=this.wrapper.wrapSubrule(e,t,i);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(o,n,a)}performSubruleAssignment(e,t,r){let{assignment:n,isCrossRef:i}=this.getAssignment(t);if(n)this.assign(n.operator,n.feature,e,r,i);else if(!n){let t=this.current;if(Gx(t))t.value+=e.toString();else if("object"==typeof e&&e){let r=this.assignWithoutOverride(e,t);this.stack.pop(),this.stack.push(r)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(t.feature&&t.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(t).content.push(r.$cstNode);let n={$type:e};this.stack.push(n),this.assign(t.operator,t.feature,r,r.$cstNode,!1)}else r.$type=e}}construct(){if(this.isRecording())return;let e=this.current;return pf(e),this.nodeBuilder.construct(e),this.stack.pop(),Gx(e)?this.converter.convert(e.value,e.$cstNode):(Sf(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){let t=mf(e,Md);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&Dd(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,r,n,i){let a,o=this.current;switch(a=i&&"string"==typeof r?this.linker.buildReference(o,t,n,r):r,e){case"=":o[t]=a;break;case"?=":o[t]=!0;break;case"+=":Array.isArray(o[t])||(o[t]=[]),o[t].push(a)}}assignWithoutOverride(e,t){for(let[r,n]of Object.entries(t)){let t=e[r];void 0===t?e[r]=n:Array.isArray(t)&&Array.isArray(n)&&(n.push(...t),e[r]=n)}let r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}},Vx=class{static{$(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return Jg.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Jg.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Jg.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Jg.buildEarlyExitMessage(e)}},Kx=class extends Vx{static{$(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},Yx=class extends qx{static{$(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let r=this.wrapper.DEFINE_RULE(Wx(e.name),this.startImplementation(t).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,n,i){this.before(n),this.wrapper.wrapSubrule(e,t,i),this.after(n)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}},Xx={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Kx},Jx=class extends tT{static{$(this,"ChevrotainWrapper")}constructor(e,t){let r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},Xx),{lookaheadStrategy:r?new pv({maxLookahead:t.maxLookahead}):new lx({logging:t.skipValidations?()=>{}:void 0})}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}};function Zx(e,t,r){return Qx({parser:t,tokens:r,ruleNames:new Map},e),t}function Qx(e,t){let r=np(t,!1),n=Yc(t.rules).filter(fd).filter((e=>r.has(e)));for(let t of n){let r=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(t,eb(r,t.definition))}}function eb(e,t,r=!1){let n;if(qd(t))n=cb(e,t);else if($d(t))n=tb(e,t);else if(Md(t))n=eb(e,t.terminal);else if(Dd(t))n=ub(e,t);else if(Jd(t))n=rb(e,t);else if(Nd(t))n=ab(e,t);else if(of(t))n=ob(e,t);else if(Gd(t))n=sb(e,t);else{if(!zd(t))throw new Ch(t.$cstNode,`Unexpected element type: ${t.$type}`);{let r=e.consume++;n=$((()=>e.parser.consume(r,Kg,t)),"method")}}return hb(e,r?void 0:lb(t),n,t.cardinality)}function tb(e,t){let r=Sp(t);return()=>e.parser.action(r,t)}function rb(e,t){let r=t.rule.ref;if(fd(r)){let n=e.subrule++,i=r.fragment,a=t.arguments.length>0?nb(r,t.arguments):()=>({});return o=>e.parser.subrule(n,db(e,r),i,t,a(o))}if(kd(r)){let n=e.consume++,i=pb(e,r.name);return()=>e.parser.consume(n,i,t)}if(!r)throw new Ch(t.$cstNode,`Undefined rule: ${t.rule.$refText}`);xh()}function nb(e,t){let r=t.map((e=>ib(e.value)));return t=>{let n={};for(let i=0;i<r.length;i++){let a=e.parameters[i],o=r[i];n[a.name]=o(t)}return n}}function ib(e){if(Vh(e)){let t=ib(e.left),r=ib(e.right);return e=>t(e)||r(e)}if(qh(e)){let t=ib(e.left),r=ib(e.right);return e=>t(e)&&r(e)}if(ad(e)){let t=ib(e.value);return e=>!t(e)}if(hd(e)){let t=e.parameter.ref.name;return e=>void 0!==e&&!0===e[t]}if(Gh(e)){let t=!!e.true;return()=>t}xh()}function ab(e,t){if(1===t.elements.length)return eb(e,t.elements[0]);{let r=[];for(let n of t.elements){let t={ALT:eb(e,n,!0)},i=lb(n);i&&(t.GATE=ib(i)),r.push(t)}let n=e.or++;return t=>e.parser.alternatives(n,r.map((e=>{let r={ALT:$((()=>e.ALT(t)),"ALT")},n=e.GATE;return n&&(r.GATE=()=>n(t)),r})))}}function ob(e,t){if(1===t.elements.length)return eb(e,t.elements[0]);let r=[];for(let n of t.elements){let t={ALT:eb(e,n,!0)},i=lb(n);i&&(t.GATE=ib(i)),r.push(t)}let n=e.or++,i=$(((e,t)=>`uGroup_${e}_${t.getRuleStack().join("-")}`),"idFunc"),a=$((t=>e.parser.alternatives(n,r.map(((r,a)=>{let o={ALT:$((()=>!0),"ALT")},s=e.parser;o.ALT=()=>{if(r.ALT(t),!s.isRecording()){let e=i(n,s);s.unorderedGroups.get(e)||s.unorderedGroups.set(e,[]);let t=s.unorderedGroups.get(e);typeof t?.[a]>"u"&&(t[a]=!0)}};let l=r.GATE;return o.GATE=l?()=>l(t):()=>{let e=s.unorderedGroups.get(i(n,s));return!e?.[a]},o})))),"alternatives"),o=hb(e,lb(t),a,"*");return t=>{o(t),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function sb(e,t){let r=t.elements.map((t=>eb(e,t)));return e=>r.forEach((t=>t(e)))}function lb(e){if(Gd(e))return e.guardCondition}function ub(e,t,r=t.terminal){if(r){if(Jd(r)&&fd(r.rule.ref)){let n=r.rule.ref,i=e.subrule++;return r=>e.parser.subrule(i,db(e,n),!1,t,r)}if(Jd(r)&&kd(r.rule.ref)){let n=e.consume++,i=pb(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}if(qd(r)){let n=e.consume++,i=pb(e,r.value);return()=>e.parser.consume(n,i,t)}throw new Error("Could not build cross reference parser")}{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let r=pp(t.type.ref),n=r?.terminal;if(!n)throw new Error("Could not find name assignment for type: "+Sp(t.type.ref));return ub(e,t,n)}}function cb(e,t){let r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function hb(e,t,r,n){let i=t&&ib(t);if(!n){if(i){let t=e.or++;return n=>e.parser.alternatives(t,[{ALT:$((()=>r(n)),"ALT"),GATE:$((()=>i(n)),"GATE")},{ALT:Qv(),GATE:$((()=>!i(n)),"GATE")}])}return r}if("*"===n){let t=e.many++;return n=>e.parser.many(t,{DEF:$((()=>r(n)),"DEF"),GATE:i?()=>i(n):void 0})}if("+"===n){let t=e.many++;if(i){let n=e.or++;return a=>e.parser.alternatives(n,[{ALT:$((()=>e.parser.atLeastOne(t,{DEF:$((()=>r(a)),"DEF")})),"ALT"),GATE:$((()=>i(a)),"GATE")},{ALT:Qv(),GATE:$((()=>!i(a)),"GATE")}])}return n=>e.parser.atLeastOne(t,{DEF:$((()=>r(n)),"DEF")})}if("?"===n){let t=e.optional++;return n=>e.parser.optional(t,{DEF:$((()=>r(n)),"DEF"),GATE:i?()=>i(n):void 0})}xh()}function db(e,t){let r=fb(e,t),n=e.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function fb(e,t){if(fd(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!fd(n);)(Gd(n)||Nd(n)||of(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function pb(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function mb(e){let t=e.Grammar,r=e.parser.Lexer,n=new Yx(e);return Zx(t,n,r.definition),n.finalize(),n}function gb(e){let t=yb(e);return t.finalize(),t}function yb(e){let t=e.Grammar,r=e.parser.Lexer;return Zx(t,new Hx(e),r.definition)}$(Zx,"createParser"),$(Qx,"buildRules"),$(eb,"buildElement"),$(tb,"buildAction"),$(rb,"buildRuleCall"),$(nb,"buildRuleCallPredicate"),$(ib,"buildPredicate"),$(ab,"buildAlternatives"),$(ob,"buildUnorderedGroup"),$(sb,"buildGroup"),$(lb,"getGuardCondition"),$(ub,"buildCrossReference"),$(cb,"buildKeyword"),$(hb,"wrap"),$(db,"getRule"),$(fb,"getRuleName"),$(pb,"getToken"),$(mb,"createCompletionParser"),$(gb,"createLangiumParser"),$(yb,"prepareLangiumParser");var vb,Tb=class{static{$(this,"DefaultTokenBuilder")}constructor(){this.diagnostics=[]}buildTokens(e,t){let r=Yc(np(e,!1)),n=this.buildTerminalTokens(r),i=this.buildKeywordTokens(r,n,t);return n.forEach((e=>{let t=e.PATTERN;"object"==typeof t&&t&&"test"in t&&Xf(t)?i.unshift(e):i.push(e)})),i}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(kd).filter((e=>!e.fragment)).map((e=>this.buildTerminalToken(e))).toArray()}buildTerminalToken(e){let t=wp(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,n={name:e.name,PATTERN:r};return"function"==typeof r&&(n.LINE_BREAKS=!0),e.hidden&&(n.GROUP=Xf(t)?Mg.SKIPPED:"hidden"),n}requiresCustomPattern(e){return!(!e.flags.includes("u")&&!e.flags.includes("s"))||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){let t=new RegExp(e,e.flags+"y");return(e,r)=>(t.lastIndex=r,t.exec(e))}buildKeywordTokens(e,t,r){return e.filter(fd).flatMap((e=>Cf(e).filter(qd))).distinct((e=>e.value)).toArray().sort(((e,t)=>t.value.length-e.value.length)).map((e=>this.buildKeywordToken(e,t,!!r?.caseInsensitive)))}buildKeywordToken(e,t,r){let n=this.buildKeywordPattern(e,r),i={name:e.value,PATTERN:n,LONGER_ALT:this.findLongerAlt(e,t)};return"function"==typeof n&&(i.LINE_BREAKS=!0),i}buildKeywordPattern(e,t){return t?new RegExp(Zf(e.value)):e.value}findLongerAlt(e,t){return t.reduce(((t,r)=>{let n=r?.PATTERN;return n?.source&&Qf("^"+n.source+"$",e.value)&&t.push(r),t}),[])}},Cb=class{static{$(this,"DefaultValueConverter")}convert(e,t){let r=t.grammarSource;if(Dd(r)&&(r=ap(r)),Jd(r)){let n=r.rule.ref;if(!n)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,t)}return e}runConverter(e,t,r){var n;switch(e.name.toUpperCase()){case"INT":return vb.convertInt(t);case"STRING":return vb.convertString(t);case"ID":return vb.convertID(t)}switch(null===(n=Ep(e))||void 0===n?void 0:n.toLowerCase()){case"number":return vb.convertNumber(t);case"boolean":return vb.convertBoolean(t);case"bigint":return vb.convertBigint(t);case"date":return vb.convertDate(t);default:return t}}};!function(e){function t(e){let t="";for(let n=1;n<e.length-1;n++){let i=e.charAt(n);if("\\"===i){t+=r(e.charAt(++n))}else t+=i}return t}function r(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return e}}function n(e){return"^"===e.charAt(0)?e.substring(1):e}function i(e){return parseInt(e)}function a(e){return BigInt(e)}function o(e){return new Date(e)}function s(e){return Number(e)}function l(e){return"true"===e.toLowerCase()}$(t,"convertString"),e.convertString=t,$(r,"convertEscapeCharacter"),$(n,"convertID"),e.convertID=n,$(i,"convertInt"),e.convertInt=i,$(a,"convertBigint"),e.convertBigint=a,$(o,"convertDate"),e.convertDate=o,$(s,"convertNumber"),e.convertNumber=s,$(l,"convertBoolean"),e.convertBoolean=l}(vb||(vb={}));var xb={};function bb(){return new Promise((e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)}))}M(xb,F(Nc(),1)),$(bb,"delayNextTick");var kb=0,_b=10;function Sb(){return kb=performance.now(),new xb.CancellationTokenSource}function Ab(e){_b=e}$(Sb,"startCancelableOperation"),$(Ab,"setInterruptionPeriod");var Rb=Symbol("OperationCancelled");function Eb(e){return e===Rb}async function wb(e){if(e===xb.CancellationToken.None)return;let t=performance.now();if(t-kb>=_b&&(kb=t,await bb(),kb=performance.now()),e.isCancellationRequested)throw Rb}$(Eb,"isOperationCancelled"),$(wb,"interruptAndCheck");var Lb,$b,Ib=class{static{$(this,"Deferred")}constructor(){this.promise=new Promise(((e,t)=>{this.resolve=t=>(e(t),this),this.reject=e=>(t(e),this)}))}},Nb=class e{static{$(this,"FullTextDocument")}constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(t,r){for(let r of t)if(e.isIncremental(r)){let e=Pb(r.range),t=this.offsetAt(e.start),n=this.offsetAt(e.end);this._content=this._content.substring(0,t)+r.text+this._content.substring(n,this._content.length);let i=Math.max(e.start.line,0),a=Math.max(e.end.line,0),o=this._lineOffsets,s=Mb(r.text,!1,t);if(a-i===s.length)for(let e=0,t=s.length;e<t;e++)o[e+i+1]=s[e];else s.length<1e4?o.splice(i+1,a-i,...s):this._lineOffsets=o=o.slice(0,i+1).concat(s,o.slice(a+1));let l=r.text.length-(n-t);if(0!==l)for(let e=i+1+s.length,t=o.length;e<t;e++)o[e]=o[e]+l}else{if(!e.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=r}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Mb(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return{line:0,character:e};for(;r<n;){let i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}let i=r-1;return{line:i,character:(e=this.ensureBeforeEOL(e,t[i]))-t[i]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line];if(e.character<=0)return r;let n=e.line+1<t.length?t[e.line+1]:this._content.length,i=Math.min(r+e.character,n);return this.ensureBeforeEOL(i,r)}ensureBeforeEOL(e,t){for(;e>t&&Fb(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}};function Ob(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);Ob(n,t),Ob(i,t);let a=0,o=0,s=0;for(;a<n.length&&o<i.length;)t(n[a],i[o])<=0?e[s++]=n[a++]:e[s++]=i[o++];for(;a<n.length;)e[s++]=n[a++];for(;o<i.length;)e[s++]=i[o++];return e}function Mb(e,t,r=0){let n=t?[r]:[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);Fb(i)&&(13===i&&t+1<e.length&&10===e.charCodeAt(t+1)&&t++,n.push(r+t+1))}return n}function Fb(e){return 13===e||10===e}function Pb(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function Bb(e){let t=Pb(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){function t(e,t,r,n){return new Nb(e,t,r,n)}function r(e,t,r){if(e instanceof Nb)return e.update(t,r),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")}function n(e,t){let r=e.getText(),n=Ob(t.map(Bb),((e,t)=>{let r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),i=0,a=[];for(let t of n){let n=e.offsetAt(t.range.start);if(n<i)throw new Error("Overlapping edit");n>i&&a.push(r.substring(i,n)),t.newText.length&&a.push(t.newText),i=e.offsetAt(t.range.end)}return a.push(r.substr(i)),a.join("")}$(t,"create"),e.create=t,$(r,"update"),e.update=r,$(n,"applyEdits"),e.applyEdits=n}(Lb||(Lb={})),$(Ob,"mergeSort"),$(Mb,"computeLineOffsets"),$(Fb,"isEOL"),$(Pb,"getWellformedRange"),$(Bb,"getWellformedEdit"),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a!==s-1&&1!==o)if(a!==s-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),a=s,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=s,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return n}$(t,"e"),$(r,"r");var n={resolve:$((function(){for(var e,n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o;a>=0?o=arguments[a]:(void 0===e&&(e=_.cwd()),o=e),t(o),0!==o.length&&(n=o+"/"+n,i=47===o.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."}),"resolve"),normalize:$((function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e}),"normalize"),isAbsolute:$((function(e){return t(e),e.length>0&&47===e.charCodeAt(0)}),"isAbsolute"),join:$((function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)}),"join"),relative:$((function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length,o=a-i,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var l=r.length-s,u=o<l?o:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(47===r.charCodeAt(s+h))return r.slice(s+h+1);if(0===h)return r.slice(s+h)}else o>u&&(47===e.charCodeAt(i+h)?c=h:0===h&&(c=0));break}var d=e.charCodeAt(i+h);if(d!==r.charCodeAt(s+h))break;47===d&&(c=h)}var f="";for(h=i+c+1;h<=a;++h)h!==a&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(s+c):(s+=c,47===r.charCodeAt(s)&&++s,r.slice(s))}),"relative"),_makeLong:$((function(e){return e}),"_makeLong"),dirname:$((function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(r=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)}),"dirname"),basename:$((function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,a=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!o){i=n+1;break}}else-1===l&&(o=!1,l=n+1),s>=0&&(u===r.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(i,a)}),"basename"),extname:$((function(e){t(e);for(var r=-1,n=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(a=!1,i=s+1),46===l?-1===r?r=s:1!==o&&(o=1):-1!==r&&(o=-1);else if(!a){n=s+1;break}}return-1===r||-1===i||0===o||1===o&&r===i-1&&r===n+1?"":e.slice(r,i)}),"extname"),format:$((function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)}),"format"),parse:$((function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),a=47===i;a?(r.root="/",n=1):n=0;for(var o=-1,s=0,l=-1,u=!0,c=e.length-1,h=0;c>=n;--c)if(47!==(i=e.charCodeAt(c)))-1===l&&(u=!1,l=c+1),46===i?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1);else if(!u){s=c+1;break}return-1===o||-1===l||0===h||1===h&&o===l-1&&o===s+1?-1!==l&&(r.base=r.name=0===s&&a?e.slice(1,l):e.slice(s,l)):(0===s&&a?(r.name=e.slice(1,o),r.base=e.slice(1,l)):(r.name=e.slice(s,o),r.base=e.slice(s,l)),r.ext=e.slice(o,l)),s>0?r.dir=e.slice(0,s-1):a&&(r.dir="/"),r}),"parse"),sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}$(r,"r"),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{let e;r.r(n),r.d(n,{URI:$((()=>c),"URI"),Utils:$((()=>S),"Utils")}),"object"==typeof _?e="win32"===_.platform:"object"==typeof navigator&&(e=navigator.userAgent.indexOf("Windows")>=0);let t=/^\w[\w\d+.-]*$/,i=/^\//,a=/^\/\//;function o(e,r){if(!e.scheme&&r)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!i.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}$(o,"s");let s="",l="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class c{static{$(this,"f")}static isUri(e){return e instanceof c||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,r,n,i,a=!1){"object"==typeof e?(this.scheme=e.scheme||s,this.authority=e.authority||s,this.path=e.path||s,this.query=e.query||s,this.fragment=e.fragment||s):(this.scheme=function(e,t){return e||t?e:"file"}(e,a),this.authority=t||s,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,r||s),this.query=n||s,this.fragment=i||s,o(this,a))}get fsPath(){return g(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:r,path:n,query:i,fragment:a}=e;return void 0===t?t=this.scheme:null===t&&(t=s),void 0===r?r=this.authority:null===r&&(r=s),void 0===n?n=this.path:null===n&&(n=s),void 0===i?i=this.query:null===i&&(i=s),void 0===a?a=this.fragment:null===a&&(a=s),t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&a===this.fragment?this:new d(t,r,n,i,a)}static parse(e,t=!1){let r=u.exec(e);return r?new d(r[2]||s,C(r[4]||s),C(r[5]||s),C(r[7]||s),C(r[9]||s),t):new d(s,s,s,s,s)}static file(t){let r=s;if(e&&(t=t.replace(/\\/g,l)),t[0]===l&&t[1]===l){let e=t.indexOf(l,2);-1===e?(r=t.substring(2),t=l):(r=t.substring(2,e),t=t.substring(e)||l)}return new d("file",r,t,s,s)}static from(e){let t=new d(e.scheme,e.authority,e.path,e.query,e.fragment);return o(t,!0),t}toString(e=!1){return y(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof c)return e;{let t=new d(e);return t._formatted=e.external,t._fsPath=e._sep===h?e.fsPath:null,t}}return e}}let h=e?1:void 0;class d extends c{static{$(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=g(this,!1)),this._fsPath}toString(e=!1){return e?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=h),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}let f={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p(e,t,r){let n,i=-1;for(let a=0;a<e.length;a++){let o=e.charCodeAt(a);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o||r&&91===o||r&&93===o||r&&58===o)-1!==i&&(n+=encodeURIComponent(e.substring(i,a)),i=-1),void 0!==n&&(n+=e.charAt(a));else{void 0===n&&(n=e.substr(0,a));let t=f[o];void 0!==t?(-1!==i&&(n+=encodeURIComponent(e.substring(i,a)),i=-1),n+=t):-1===i&&(i=a)}}return-1!==i&&(n+=encodeURIComponent(e.substring(i))),void 0!==n?n:e}function m(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);35===n||63===n?(void 0===t&&(t=e.substr(0,r)),t+=f[n]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function g(t,r){let n;return n=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?r?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(n=n.replace(/\//g,"\\")),n}function y(e,t){let r=t?m:p,n="",{scheme:i,authority:a,path:o,query:s,fragment:u}=e;if(i&&(n+=i,n+=":"),(a||"file"===i)&&(n+=l,n+=l),a){let e=a.indexOf("@");if(-1!==e){let t=a.substr(0,e);a=a.substr(e+1),e=t.lastIndexOf(":"),-1===e?n+=r(t,!1,!1):(n+=r(t.substr(0,e),!1,!1),n+=":",n+=r(t.substr(e+1),!1,!0)),n+="@"}a=a.toLowerCase(),e=a.lastIndexOf(":"),-1===e?n+=r(a,!1,!0):(n+=r(a.substr(0,e),!1,!0),n+=a.substr(e))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2)){let e=o.charCodeAt(1);e>=65&&e<=90&&(o=`/${String.fromCharCode(e+32)}:${o.substr(3)}`)}else if(o.length>=2&&58===o.charCodeAt(1)){let e=o.charCodeAt(0);e>=65&&e<=90&&(o=`${String.fromCharCode(e+32)}:${o.substr(2)}`)}n+=r(o,!0,!1)}return s&&(n+="?",n+=r(s,!1,!1)),u&&(n+="#",n+=t?u:p(u,!1,!1)),n}function v(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+v(e.substr(3)):e}}$(p,"d"),$(m,"p"),$(g,"m"),$(y,"y"),$(v,"v");let T=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(e){return e.match(T)?e.replace(T,(e=>v(e))):e}$(C,"C");var x=r(470);let b=x.posix||x,k="/";var S;!function(e){e.joinPath=function(e,...t){return e.with({path:b.join(e.path,...t)})},e.resolvePath=function(e,...t){let r=e.path,n=!1;r[0]!==k&&(r=k+r,n=!0);let i=b.resolve(r,...t);return n&&i[0]===k&&!e.authority&&(i=i.substring(1)),e.with({path:i})},e.dirname=function(e){if(0===e.path.length||e.path===k)return e;let t=b.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return b.basename(e.path)},e.extname=function(e){return b.extname(e.path)}}(S||(S={}))})(),$b=n})();var Db,Ub,{URI:zb,Utils:jb}=$b;!function(e){function t(e,t){return e?.toString()===t?.toString()}function r(e,t){let r="string"==typeof e?e:e.path,n="string"==typeof t?t:t.path,i=r.split("/").filter((e=>e.length>0)),a=n.split("/").filter((e=>e.length>0)),o=0;for(;o<i.length&&i[o]===a[o];o++);return"../".repeat(i.length-o)+a.slice(o).join("/")}function n(e){return zb.parse(e.toString()).toString()}e.basename=jb.basename,e.dirname=jb.dirname,e.extname=jb.extname,e.joinPath=jb.joinPath,e.resolvePath=jb.resolvePath,$(t,"equals"),e.equals=t,$(r,"relative"),e.relative=r,$(n,"normalize"),e.normalize=n}(Db||(Db={})),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(Ub||(Ub={}));var Gb=class{static{$(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=xb.CancellationToken.None){let r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,t)}fromTextDocument(e,t,r){return t=t??zb.parse(e.uri),xb.CancellationToken.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromString(e,t,r){return xb.CancellationToken.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t,r){if("string"==typeof t){let n=this.parse(e,t,r);return this.createLangiumDocument(n,e,void 0,t)}if("$model"in t){let r={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,e)}{let n=this.parse(e,t.getText(),r);return this.createLangiumDocument(n,e,t)}}async createAsync(e,t,r){if("string"==typeof t){let n=await this.parseAsync(e,t,r);return this.createLangiumDocument(n,e,void 0,t)}{let n=await this.parseAsync(e,t.getText(),r);return this.createLangiumDocument(n,e,t)}}createLangiumDocument(e,t,r,n){let i;if(r)i={parseResult:e,uri:t,state:Ub.Parsed,references:[],textDocument:r};else{let r=this.createTextDocumentGetter(t,n);i={parseResult:e,uri:t,state:Ub.Parsed,references:[],get textDocument(){return r()}}}return e.value.$document=i,i}async update(e,t){var r,n;let i=null===(r=e.parseResult.value.$cstNode)||void 0===r?void 0:r.root.fullText,a=null===(n=this.textDocuments)||void 0===n?void 0:n.get(e.uri.toString()),o=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{let t=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:t})}return i!==o&&(e.parseResult=await this.parseAsync(e.uri,o,t),e.parseResult.value.$document=e),e.state=Ub.Parsed,e}parse(e,t,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t,r)}parseAsync(e,t,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,r)}createTextDocumentGetter(e,t){let r,n=this.serviceRegistry;return()=>r??(r=Lb.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,t??""))}},Wb=class{static{$(this,"DefaultLangiumDocuments")}constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return Yc(this.documentMap.values())}addDocument(e){let t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){let t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(r),r)}createDocument(e,t,r){if(r)return this.langiumDocumentFactory.fromString(t,e,r).then((e=>(this.addDocument(e),e)));{let r=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(r),r}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=Ub.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=Ub.Changed,this.documentMap.delete(t)),r}},qb=Symbol("ref_resolving"),Hb=class{static{$(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=xb.CancellationToken.None){for(let r of xf(e.parseResult.value))await wb(t),kf(r).forEach((t=>this.doLink(t,e)))}doLink(e,t){var r;let n=e.reference;if(void 0===n._ref){n._ref=qb;try{let t=this.getCandidate(e);if(Dc(t))n._ref=t;else if(n._nodeDescription=t,this.langiumDocuments().hasDocument(t.documentUri)){let r=this.loadAstNode(t);n._ref=r??this.createLinkingError(e,t)}else n._ref=void 0}catch(t){console.error(`An error occurred while resolving reference to '${n.$refText}':`,t);let i=null!==(r=t.message)&&void 0!==r?r:String(t);n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${i}`})}t.references.push(n)}}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,t,r,n){let i=this,a={$refNode:r,$refText:n,get ref(){var r;if(Fc(this._ref))return this._ref;if(Bc(this._nodeDescription)){let r=i.loadAstNode(this._nodeDescription);this._ref=r??i.createLinkingError({reference:a,container:e,property:t},this._nodeDescription)}else if(void 0===this._ref){this._ref=qb;let n=vf(e).$document,o=i.getLinkedNode({reference:a,container:e,property:t});if(o.error&&n&&n.state<Ub.ComputedScopes)return this._ref=void 0;this._ref=null!==(r=o.node)&&void 0!==r?r:o.error,this._nodeDescription=o.descr,n?.references.push(this)}else if(this._ref===qb)throw new Error(`Cyclic reference resolution detected: ${i.astNodeLocator.getAstNodePath(e)}/${t} (symbol '${n}')`);return Fc(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Dc(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){var t;try{let t=this.getCandidate(e);if(Dc(t))return{error:t};let r=this.loadAstNode(t);return r?{node:r,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);let n=null!==(t=r.message)&&void 0!==t?t:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${n}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getDocument(e.documentUri);return t?this.astNodeLocator.getAstNode(t.parseResult.value,e.path):void 0}createLinkingError(e,t){let r=vf(e.container).$document;r&&r.state<Ub.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);let n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${n} named '${e.reference.$refText}'.`,targetDescription:t})}};function Vb(e){return"string"==typeof e.name}$(Vb,"isNamed");var Kb=class{static{$(this,"DefaultNameProvider")}getName(e){if(Vb(e))return e.name}getNameNode(e){return lp(e.$cstNode,"name")}},Yb=class{static{$(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let t=fp(e),r=e.astNode;if(t&&r){let n=r[t.feature];if(Pc(n))return n.ref;if(Array.isArray(n))for(let t of n)if(Pc(t)&&t.$refNode&&t.$refNode.offset<=e.offset&&t.$refNode.end>=e.end)return t.ref}if(r){let t=this.nameProvider.getNameNode(r);if(t&&(t===e||th(e,t)))return r}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(t?.$cstNode){return this.nameProvider.getNameNode(t)??t.$cstNode}}findReferences(e,t){let r=[];if(t.includeDeclaration){let t=this.getReferenceToSelf(e);t&&r.push(t)}let n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(n=n.filter((e=>Db.equals(e.sourceUri,t.documentUri)))),r.push(...n),Yc(r)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let r=yf(e),n=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:n,targetUri:r.uri,targetPath:n,segment:nh(t),local:!0}}}},Xb=class{static{$(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[t,r]of e)this.add(t,r)}get size(){return Xc.sum(Yc(this.map.values()).map((e=>e.length)))}clear(){this.map.clear()}delete(e,t){if(void 0===t)return this.map.delete(e);{let r=this.map.get(e);if(r){let n=r.indexOf(t);if(n>=0)return 1===r.length?this.map.delete(e):r.splice(n,1),!0}return!1}}get(e){var t;return null!==(t=this.map.get(e))&&void 0!==t?t:[]}has(e,t){if(void 0===t)return this.map.has(e);{let r=this.map.get(e);return!!r&&r.indexOf(t)>=0}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach(((t,r)=>t.forEach((t=>e(t,r,this)))))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Yc(this.map.entries()).flatMap((([e,t])=>t.map((t=>[e,t]))))}keys(){return Yc(this.map.keys())}values(){return Yc(this.map.values()).flat()}entriesGroupedByKey(){return Yc(this.map.entries())}},Jb=class{static{$(this,"BiMap")}get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[t,r]of e)this.set(t,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let t=this.map.get(e);return void 0!==t&&(this.map.delete(e),this.inverse.delete(t),!0)}},Zb=class{static{$(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=xb.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=Tf,n=xb.CancellationToken.None){let i=[];this.exportNode(e,i,t);for(let a of r(e))await wb(n),this.exportNode(a,i,t);return i}exportNode(e,t,r){let n=this.nameProvider.getName(e);n&&t.push(this.descriptions.createDescription(e,n,r))}async computeLocalScopes(e,t=xb.CancellationToken.None){let r=e.parseResult.value,n=new Xb;for(let i of Cf(r))await wb(t),this.processNode(i,e,n);return n}processNode(e,t,r){let n=e.$container;if(n){let i=this.nameProvider.getName(e);i&&r.add(n,this.descriptions.createDescription(e,i,t))}}},Qb=class{static{$(this,"StreamScope")}constructor(e,t,r){var n;this.elements=e,this.outerScope=t,this.caseInsensitive=null!==(n=r?.caseInsensitive)&&void 0!==n&&n}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find((t=>t.name.toLowerCase()===e.toLowerCase())):this.elements.find((t=>t.name===e));return t||(this.outerScope?this.outerScope.getElement(e):void 0)}},ek=class{static{$(this,"MapScope")}constructor(e,t,r){var n;this.elements=new Map,this.caseInsensitive=null!==(n=r?.caseInsensitive)&&void 0!==n&&n;for(let t of e){let e=this.caseInsensitive?t.name.toLowerCase():t.name;this.elements.set(e,t)}this.outerScope=t}getElement(e){let t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);return r||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=Yc(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},tk={getElement(){},getAllElements:()=>Vc},rk=class{static{$(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((e=>e.dispose()))}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},nk=class extends rk{static{$(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){let r=t();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},ik=class extends rk{static{$(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(e=>e)}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();let n=this.cacheForContext(e);if(n.has(t))return n.get(t);if(r){let e=r();return n.set(t,e),e}}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){let t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){let t=this.converter(e),r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}},ak=class extends ik{static{$(this,"DocumentCache")}constructor(e,t){super((e=>e.toString())),t?(this.toDispose.push(e.workspace.DocumentBuilder.onDocumentPhase(t,(e=>{this.clear(e.uri.toString())}))),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(((e,t)=>{for(let e of t)this.clear(e)})))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(((e,t)=>{let r=e.concat(t);for(let e of r)this.clear(e)})))}},ok=class extends nk{static{$(this,"WorkspaceCache")}constructor(e,t){super(),t?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(t,(()=>{this.clear()}))),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(((e,t)=>{t.length>0&&this.clear()})))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((()=>{this.clear()})))}},sk=class{static{$(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new ok(e.shared)}getScope(e){let t=[],r=this.reflection.getReferenceType(e),n=yf(e.container).precomputedScopes;if(n){let i=e.container;do{let e=n.get(i);e.length>0&&t.push(Yc(e).filter((e=>this.reflection.isSubtype(e.type,r)))),i=i.$container}while(i)}let i=this.getGlobalScope(r,e);for(let e=t.length-1;e>=0;e--)i=this.createScope(t[e],i);return i}createScope(e,t,r){return new Qb(Yc(e),t,r)}createScopeForNodes(e,t,r){let n=Yc(e).map((e=>{let t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)})).nonNullable();return new Qb(n,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,(()=>new ek(this.indexManager.allElements(e))))}};function lk(e){return"string"==typeof e.$comment}function uk(e){return"object"==typeof e&&!!e&&("$ref"in e||"$error"in e)}$(lk,"isAstNodeWithComment"),$(uk,"isIntermediateReference");var ck,hk=class{static{$(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t){let r=t??{},n=t?.replacer,i=$(((e,t)=>this.replacer(e,t,r)),"defaultReplacer"),a=n?(e,t)=>n(e,t,i):i;try{return this.currentDocument=yf(e),JSON.stringify(e,a,t?.space)}finally{this.currentDocument=void 0}}deserialize(e,t){let r=t??{},n=JSON.parse(e);return this.linkNode(n,n,r),n}replacer(e,t,{refText:r,sourceText:n,textRegions:i,comments:a,uriConverter:o}){var s,l,u,c;if(!this.ignoreProperties.has(e)){if(Pc(t)){let e=t.ref,n=r?t.$refText:void 0;if(e){let r=yf(e),i="";return this.currentDocument&&this.currentDocument!==r&&(i=o?o(r.uri,t):r.uri.toString()),{$ref:`${i}#${this.astNodeLocator.getAstNodePath(e)}`,$refText:n}}return{$error:null!==(l=null===(s=t.error)||void 0===s?void 0:s.message)&&void 0!==l?l:"Could not resolve reference",$refText:n}}if(Fc(t)){let r;if(i&&(r=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&r?.$textRegion&&(r.$textRegion.documentURI=null===(u=this.currentDocument)||void 0===u?void 0:u.uri.toString())),n&&!e&&(r??(r=Object.assign({},t)),r.$sourceText=null===(c=t.$cstNode)||void 0===c?void 0:c.text),a){r??(r=Object.assign({},t));let e=this.commentProvider.getComment(t);e&&(r.$comment=e.replace(/\r/g,""))}return r??t}return t}}addAstNodeRegionWithAssignmentsTo(e){let t=$((e=>({offset:e.offset,end:e.end,length:e.length,range:e.range})),"createDocumentSegment");if(e.$cstNode){let r=(e.$textRegion=t(e.$cstNode)).assignments={};return Object.keys(e).filter((e=>!e.startsWith("$"))).forEach((n=>{let i=sp(e.$cstNode,n).map(t);0!==i.length&&(r[n]=i)})),e}}linkNode(e,t,r,n,i,a){for(let[n,i]of Object.entries(e))if(Array.isArray(i))for(let a=0;a<i.length;a++){let o=i[a];uk(o)?i[a]=this.reviveReference(e,n,t,o,r):Fc(o)&&this.linkNode(o,t,r,e,n,a)}else uk(i)?e[n]=this.reviveReference(e,n,t,i,r):Fc(i)&&this.linkNode(i,t,r,e,n);let o=e;o.$container=n,o.$containerProperty=i,o.$containerIndex=a}reviveReference(e,t,r,n,i){let a=n.$refText,o=n.$error;if(n.$ref){let e=this.getRefNode(r,n.$ref,i.uriConverter);if(Fc(e))return a||(a=this.nameProvider.getName(e)),{$refText:a??"",ref:e};o=e}if(o){let r={$refText:a??""};return r.error={container:e,property:t,message:o,reference:r},r}}getRefNode(e,t,r){try{let n=t.indexOf("#");if(0===n){return this.astNodeLocator.getAstNode(e,t.substring(1))||"Could not resolve path: "+t}if(n<0){let e=r?r(t):zb.parse(t),n=this.langiumDocuments.getDocument(e);return n?n.parseResult.value:"Could not find document for URI: "+t}let i=r?r(t.substring(0,n)):zb.parse(t.substring(0,n)),a=this.langiumDocuments.getDocument(i);return a?n===t.length-1?a.parseResult.value:this.astNodeLocator.getAstNode(a.parseResult.value,t.substring(n+1))||"Could not resolve URI: "+t:"Could not find document for URI: "+t}catch(e){return String(e)}}},dk=class{static{$(this,"DefaultServiceRegistry")}get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){let t=e.LanguageMetaData;for(let r of t.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${t.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(t.languageId,e),1===this.languageIdMap.size?this.singleton=e:this.singleton=void 0}getServices(e){var t,r;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let n=null===(r=null===(t=this.textDocuments)||void 0===t?void 0:t.get(e))||void 0===r?void 0:r.languageId;if(void 0!==n){let e=this.languageIdMap.get(n);if(e)return e}let i=Db.extname(e),a=this.fileExtensionMap.get(i);if(!a)throw n?new Error(`The service registry contains no services for the extension '${i}' for language '${n}'.`):new Error(`The service registry contains no services for the extension '${i}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}};function fk(e){return{code:e}}$(fk,"diagnosticData"),(ck||(ck={})).all=["fast","slow","built-in"];var pk,mk=class{static{$(this,"ValidationRegistry")}constructor(e){this.entries=new Xb,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,t=this,r="fast"){if("built-in"===r)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[n,i]of Object.entries(e)){let e=i;if(Array.isArray(e))for(let i of e){let e={check:this.wrapValidationException(i,t),category:r};this.addEntry(n,e)}else if("function"==typeof e){let i={check:this.wrapValidationException(e,t),category:r};this.addEntry(n,i)}else xh()}}wrapValidationException(e,t){return async(r,n,i)=>{await this.handleException((()=>e.call(t,r,n,i)),"An error occurred during validation",n,r)}}async handleException(e,t,r,n){try{await e()}catch(e){if(Eb(e))throw e;console.error(`${t}:`,e),e instanceof Error&&e.stack&&console.error(e.stack),r("error",`${t}: ${e instanceof Error?e.message:String(e)}`,{node:n})}}addEntry(e,t){if("AstNode"!==e)for(let r of this.reflection.getAllSubTypes(e))this.entries.add(r,t);else this.entries.add("AstNode",t)}getChecks(e,t){let r=Yc(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter((e=>t.includes(e.category)))),r.map((e=>e.check))}registerBeforeDocument(e,t=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",t))}registerAfterDocument(e,t=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",t))}wrapPreparationException(e,t,r){return async(n,i,a,o)=>{await this.handleException((()=>e.call(r,n,i,a,o)),t,i,n)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}},gk=class{static{$(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},r=xb.CancellationToken.None){let n=e.parseResult,i=[];if(await wb(r),(!t.categories||t.categories.includes("built-in"))&&(this.processLexingErrors(n,i,t),t.stopAfterLexingErrors&&i.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===pk.LexingError}))||(this.processParsingErrors(n,i,t),t.stopAfterParsingErrors&&i.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===pk.ParsingError})))||(this.processLinkingErrors(e,i,t),t.stopAfterLinkingErrors&&i.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===pk.LinkingError})))))return i;try{i.push(...await this.validateAst(n.value,t,r))}catch(e){if(Eb(e))throw e;console.error("An error occurred during validation:",e)}return await wb(r),i}processLexingErrors(e,t,r){var n,i,a;let o=[...e.lexerErrors,...null!==(i=null===(n=e.lexerReport)||void 0===n?void 0:n.diagnostics)&&void 0!==i?i:[]];for(let e of o){let r=null!==(a=e.severity)&&void 0!==a?a:"error",n={severity:vk(r),range:{start:{line:e.line-1,character:e.column-1},end:{line:e.line-1,character:e.column+e.length-1}},message:e.message,data:Tk(r),source:this.getSource()};t.push(n)}}processParsingErrors(e,t,r){for(let r of e.parserErrors){let e;if(isNaN(r.token.startOffset)){if("previousToken"in r){let t=r.previousToken;if(isNaN(t.startOffset)){let t={line:0,character:0};e={start:t,end:t}}else{let r={line:t.endLine-1,character:t.endColumn};e={start:r,end:r}}}}else e=rh(r.token);if(e){let n={severity:vk("error"),range:e,message:r.message,data:fk(pk.ParsingError),source:this.getSource()};t.push(n)}}}processLinkingErrors(e,t,r){for(let r of e.references){let e=r.error;if(e){let r={node:e.container,property:e.property,index:e.index,data:{code:pk.LinkingError,containerType:e.container.$type,property:e.property,refText:e.reference.$refText}};t.push(this.toDiagnostic("error",e.message,r))}}}async validateAst(e,t,r=xb.CancellationToken.None){let n=[],i=$(((e,t,r)=>{n.push(this.toDiagnostic(e,t,r))}),"acceptor");return await this.validateAstBefore(e,t,i,r),await this.validateAstNodes(e,t,i,r),await this.validateAstAfter(e,t,i,r),n}async validateAstBefore(e,t,r,n=xb.CancellationToken.None){var i;let a=this.validationRegistry.checksBefore;for(let o of a)await wb(n),await o(e,r,null!==(i=t.categories)&&void 0!==i?i:[],n)}async validateAstNodes(e,t,r,n=xb.CancellationToken.None){await Promise.all(xf(e).map((async e=>{await wb(n);let i=this.validationRegistry.getChecks(e.$type,t.categories);for(let t of i)await t(e,r,n)})))}async validateAstAfter(e,t,r,n=xb.CancellationToken.None){var i;let a=this.validationRegistry.checksAfter;for(let o of a)await wb(n),await o(e,r,null!==(i=t.categories)&&void 0!==i?i:[],n)}toDiagnostic(e,t,r){return{message:t,range:yk(r),severity:vk(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}};function yk(e){if(e.range)return e.range;let t;return"string"==typeof e.property?t=lp(e.node.$cstNode,e.property,e.index):"string"==typeof e.keyword&&(t=hp(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function vk(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function Tk(e){switch(e){case"error":return fk(pk.LexingError);case"warning":return fk(pk.LexingWarning);case"info":return fk(pk.LexingInfo);case"hint":return fk(pk.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}$(yk,"getDiagnosticRange"),$(vk,"toDiagnosticSeverity"),$(Tk,"toDiagnosticData"),function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(pk||(pk={}));var Ck=class{static{$(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,r){let n=r??yf(e);t??(t=this.nameProvider.getName(e));let i=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${i} has no name.`);let a,o=$((()=>{var t;return a??(a=nh(null!==(t=this.nameProvider.getNameNode(e))&&void 0!==t?t:e.$cstNode))}),"nameSegmentGetter");return{node:e,name:t,get nameSegment(){return o()},selectionSegment:nh(e.$cstNode),type:e.$type,documentUri:n.uri,path:i}}},xk=class{static{$(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=xb.CancellationToken.None){let r=[],n=e.parseResult.value;for(let e of xf(n))await wb(t),kf(e).filter((e=>!Dc(e))).forEach((e=>{let t=this.createDescription(e);t&&r.push(t)}));return r}createDescription(e){let t=e.reference.$nodeDescription,r=e.reference.$refNode;if(!t||!r)return;let n=yf(e.container).uri;return{sourceUri:n,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:nh(r),local:Db.equals(t.documentUri,n)}}},bk=class{static{$(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==t?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce(((e,t)=>{if(!e||0===t.length)return e;let r=t.indexOf(this.indexSeparator);if(r>0){let n=t.substring(0,r),i=parseInt(t.substring(r+1)),a=e[n];return a?.[i]}return e[t]}),e)}},kk={};M(kk,F(Ic(),1));var _k,Sk=class{static{$(this,"DefaultConfigurationProvider")}constructor(e){this._ready=new Ib,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new kk.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,r;this.workspaceConfig=null!==(r=null===(t=e.capabilities.workspace)||void 0===t?void 0:t.configuration)&&void 0!==r&&r}async initialized(e){if(this.workspaceConfig){if(e.register){let t=this.serviceRegistry.all;e.register({section:t.map((e=>this.toSectionName(e.LanguageMetaData.languageId)))})}if(e.fetchConfiguration){let t=this.serviceRegistry.all.map((e=>({section:this.toSectionName(e.LanguageMetaData.languageId)}))),r=await e.fetchConfiguration(t);t.forEach(((e,t)=>{this.updateSectionConfiguration(e.section,r[t])}))}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach((t=>{let r=e.settings[t];this.updateSectionConfiguration(t,r),this.onConfigurationSectionUpdateEmitter.fire({section:t,configuration:r})}))}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;let r=this.toSectionName(e);if(this.settings[r])return this.settings[r][t]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}};!function(e){function t(e){return{dispose:$((async()=>await e()),"dispose")}}$(t,"create"),e.create=t}(_k||(_k={}));var Ak=class{static{$(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Xb,this.documentPhaseListeners=new Xb,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Ub.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},r=xb.CancellationToken.None){var n,i;for(let r of e){let e=r.uri.toString();if(r.state===Ub.Validated){if("boolean"==typeof t.validation&&t.validation)r.state=Ub.IndexedReferences,r.diagnostics=void 0,this.buildState.delete(e);else if("object"==typeof t.validation){let a=this.buildState.get(e),o=null===(n=a?.result)||void 0===n?void 0:n.validationChecks;if(o){let n=(null!==(i=t.validation.categories)&&void 0!==i?i:ck.all).filter((e=>!o.includes(e)));n.length>0&&(this.buildState.set(e,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:n})},result:a.result}),r.state=Ub.IndexedReferences)}}}else this.buildState.delete(e)}this.currentState=Ub.Changed,await this.emitUpdate(e.map((e=>e.uri)),[]),await this.buildDocuments(e,t,r)}async update(e,t,r=xb.CancellationToken.None){this.currentState=Ub.Changed;for(let e of t)this.langiumDocuments.deleteDocument(e),this.buildState.delete(e.toString()),this.indexManager.remove(e);for(let t of e){if(!this.langiumDocuments.invalidateDocument(t)){let e=this.langiumDocumentFactory.fromModel({$type:"INVALID"},t);e.state=Ub.Changed,this.langiumDocuments.addDocument(e)}this.buildState.delete(t.toString())}let n=Yc(e).concat(t).map((e=>e.toString())).toSet();this.langiumDocuments.all.filter((e=>!n.has(e.uri.toString())&&this.shouldRelink(e,n))).forEach((e=>{this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e),e.state=Math.min(e.state,Ub.ComputedScopes),e.diagnostics=void 0})),await this.emitUpdate(e,t),await wb(r);let i=this.sortDocuments(this.langiumDocuments.all.filter((e=>{var t;return e.state<Ub.Linked||!(null!==(t=this.buildState.get(e.uri.toString()))&&void 0!==t&&t.completed)})).toArray());await this.buildDocuments(i,this.updateBuildOptions,r)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map((r=>r(e,t))))}sortDocuments(e){let t=0,r=e.length-1;for(;t<r;){for(;t<e.length&&this.hasTextDocument(e[t]);)t++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;t<r&&([e[t],e[r]]=[e[r],e[t]])}return e}hasTextDocument(e){var t;return!(null===(t=this.textDocuments)||void 0===t||!t.get(e.uri))}shouldRelink(e,t){return!!e.references.some((e=>void 0!==e.error))||this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),_k.create((()=>{let t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)}))}async buildDocuments(e,t,r){this.prepareBuild(e,t),await this.runCancelable(e,Ub.Parsed,r,(e=>this.langiumDocumentFactory.update(e,r))),await this.runCancelable(e,Ub.IndexedContent,r,(e=>this.indexManager.updateContent(e,r))),await this.runCancelable(e,Ub.ComputedScopes,r,(async e=>{let t=this.serviceRegistry.getServices(e.uri).references.ScopeComputation;e.precomputedScopes=await t.computeLocalScopes(e,r)})),await this.runCancelable(e,Ub.Linked,r,(e=>this.serviceRegistry.getServices(e.uri).references.Linker.link(e,r))),await this.runCancelable(e,Ub.IndexedReferences,r,(e=>this.indexManager.updateReferences(e,r)));let n=e.filter((e=>this.shouldValidate(e)));await this.runCancelable(n,Ub.Validated,r,(e=>this.validate(e,r)));for(let t of e){let e=this.buildState.get(t.uri.toString());e&&(e.completed=!0)}}prepareBuild(e,t){for(let r of e){let e=r.uri.toString(),n=this.buildState.get(e);(!n||n.completed)&&this.buildState.set(e,{completed:!1,options:t,result:n?.result})}}async runCancelable(e,t,r,n){let i=e.filter((e=>e.state<t));for(let e of i)await wb(r),await n(e),e.state=t,await this.notifyDocumentPhase(e,t,r);let a=e.filter((e=>e.state===t));await this.notifyBuildPhase(a,t,r),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),_k.create((()=>{this.buildPhaseListeners.delete(e,t)}))}onDocumentPhase(e,t){return this.documentPhaseListeners.add(e,t),_k.create((()=>{this.documentPhaseListeners.delete(e,t)}))}waitUntil(e,t,r){let n;if(t&&"path"in t?n=t:r=t,r??(r=xb.CancellationToken.None),n){let t=this.langiumDocuments.getDocument(n);if(t&&t.state>e)return Promise.resolve(n)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(Rb):new Promise(((t,i)=>{let a=this.onBuildPhase(e,(()=>{if(a.dispose(),o.dispose(),n){let e=this.langiumDocuments.getDocument(n);t(e?.uri)}else t(void 0)})),o=r.onCancellationRequested((()=>{a.dispose(),o.dispose(),i(Rb)}))}))}async notifyDocumentPhase(e,t,r){let n=this.documentPhaseListeners.get(t).slice();for(let t of n)try{await t(e,r)}catch(e){if(!Eb(e))throw e}}async notifyBuildPhase(e,t,r){if(0===e.length)return;let n=this.buildPhaseListeners.get(t).slice();for(let t of n)await wb(r),await t(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,t){var r,n;let i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,o="object"==typeof a?a:void 0,s=await i.validateDocument(e,o,t);e.diagnostics?e.diagnostics.push(...s):e.diagnostics=s;let l=this.buildState.get(e.uri.toString());if(l){null!==(r=l.result)&&void 0!==r||(l.result={});let e=null!==(n=o?.categories)&&void 0!==n?n:ck.all;l.result.validationChecks?l.result.validationChecks.push(...e):l.result.validationChecks=[...e]}}getBuildOptions(e){var t,r;return null!==(r=null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.options)&&void 0!==r?r:{}}},Rk=class{static{$(this,"DefaultIndexManager")}constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new ik,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){let r=yf(e).uri,n=[];return this.referenceIndex.forEach((e=>{e.forEach((e=>{Db.equals(e.targetUri,r)&&e.targetPath===t&&n.push(e)}))})),Yc(n)}allElements(e,t){let r=Yc(this.symbolIndex.keys());return t&&(r=r.filter((e=>!t||t.has(e)))),r.map((t=>this.getFileDescriptions(t,e))).flat()}getFileDescriptions(e,t){var r;return t?this.symbolByTypeIndex.get(e,t,(()=>{var r;return(null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]).filter((e=>this.astReflection.isSubtype(e.type,t)))})):null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]}remove(e){let t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=xb.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,t),n=e.uri.toString();this.symbolIndex.set(n,r),this.symbolByTypeIndex.clear(n)}async updateReferences(e,t=xb.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),r)}isAffected(e,t){let r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some((e=>!e.local&&t.has(e.targetUri.toString())))}},Ek=class{static{$(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this._ready=new Ib,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var t;this.folders=null!==(t=e.workspaceFolders)&&void 0!==t?t:void 0}initialized(e){return this.mutex.write((e=>{var t;return this.initializeWorkspace(null!==(t=this.folders)&&void 0!==t?t:[],e)}))}async initializeWorkspace(e,t=xb.CancellationToken.None){let r=await this.performStartup(e);await wb(t),await this.documentBuilder.build(r,this.initialBuildOptions,t)}async performStartup(e){let t=this.serviceRegistry.all.flatMap((e=>e.LanguageMetaData.fileExtensions)),r=[],n=$((e=>{r.push(e),this.langiumDocuments.hasDocument(e.uri)||this.langiumDocuments.addDocument(e)}),"collector");return await this.loadAdditionalDocuments(e,n),await Promise.all(e.map((e=>[e,this.getRootFolder(e)])).map((async e=>this.traverseFolder(...e,t,n)))),this._ready.resolve(),r}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return zb.parse(e.uri)}async traverseFolder(e,t,r,n){let i=await this.fileSystemProvider.readDirectory(t);await Promise.all(i.map((async t=>{if(this.includeEntry(e,t,r))if(t.isDirectory)await this.traverseFolder(e,t.uri,r,n);else if(t.isFile){let e=await this.langiumDocuments.getOrCreateDocument(t.uri);n(e)}})))}includeEntry(e,t,r){let n=Db.basename(t.uri);if(n.startsWith("."))return!1;if(t.isDirectory)return"node_modules"!==n&&"out"!==n;if(t.isFile){let e=Db.extname(t.uri);return r.includes(e)}return!1}},wk=class{static{$(this,"DefaultLexerErrorMessageProvider")}buildUnexpectedCharactersMessage(e,t,r,n,i){return Ng.buildUnexpectedCharactersMessage(e,t,r,n,i)}buildUnableToPopLexerModeMessage(e){return Ng.buildUnableToPopLexerModeMessage(e)}},Lk={mode:"full"},$k=class{static{$(this,"DefaultLexer")}constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;let t=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let r=Ok(t)?Object.values(t):t,n="production"===e.LanguageMetaData.mode;this.chevrotainLexer=new Mg(r,{positionTracking:"full",skipValidations:n,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,t=Lk){var r,n,i;let a=this.chevrotainLexer.tokenize(e);return{tokens:a.tokens,errors:a.errors,hidden:null!==(r=a.groups.hidden)&&void 0!==r?r:[],report:null===(i=(n=this.tokenBuilder).flushLexingReport)||void 0===i?void 0:i.call(n,e)}}toTokenTypeDictionary(e){if(Ok(e))return e;let t=Nk(e)?Object.values(e.modes).flat():e,r={};return t.forEach((e=>r[e.name]=e)),r}};function Ik(e){return Array.isArray(e)&&(0===e.length||"name"in e[0])}function Nk(e){return e&&"modes"in e&&"defaultMode"in e}function Ok(e){return!Ik(e)&&!Nk(e)}function Mk(e,t,r){let n,i;return"string"==typeof e?(i=t,n=r):(i=e.range.start,n=t),i||(i=DT.create(0,0)),Hk({index:0,tokens:Uk({lines:Pk(e),position:i,options:Qk(n)}),position:i})}function Fk(e,t){let r=Qk(t),n=Pk(e);if(0===n.length)return!1;let i=n[0],a=n[n.length-1],o=r.start,s=r.end;return!!o?.exec(i)&&!!s?.exec(a)}function Pk(e){let t="";return t="string"==typeof e?e:e.text,t.split(Gf)}$(Ik,"isTokenTypeArray"),$(Nk,"isIMultiModeLexerDefinition"),$(Ok,"isTokenTypeDictionary"),$(Mk,"parseJSDoc"),$(Fk,"isJSDoc"),$(Pk,"getLines");var Bk=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,Dk=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function Uk(e){var t,r,n;let i=[],a=e.position.line,o=e.position.character;for(let s=0;s<e.lines.length;s++){let l=0===s,u=s===e.lines.length-1,c=e.lines[s],h=0;if(l&&e.options.start){let r=null===(t=e.options.start)||void 0===t?void 0:t.exec(c);r&&(h=r.index+r[0].length)}else{let t=null===(r=e.options.line)||void 0===r?void 0:r.exec(c);t&&(h=t.index+t[0].length)}if(u){let t=null===(n=e.options.end)||void 0===n?void 0:n.exec(c);t&&(c=c.substring(0,t.index))}if(c=c.substring(0,qk(c)),Wk(c,h)>=c.length){if(i.length>0){let e=DT.create(a,o);i.push({type:"break",content:"",range:UT.create(e,e)})}}else{Bk.lastIndex=h;let e=Bk.exec(c);if(e){let t=e[0],r=e[1],n=DT.create(a,o+h),s=DT.create(a,o+h+t.length);i.push({type:"tag",content:r,range:UT.create(n,s)}),h+=t.length,h=Wk(c,h)}if(h<c.length){let e=c.substring(h),t=Array.from(e.matchAll(Dk));i.push(...zk(t,e,a,o+h))}}a++,o=0}return i.length>0&&"break"===i[i.length-1].type?i.slice(0,-1):i}function zk(e,t,r,n){let i=[];if(0===e.length){let e=DT.create(r,n),a=DT.create(r,n+t.length);i.push({type:"text",content:t,range:UT.create(e,a)})}else{let a=0;for(let o of e){let e=o.index,s=t.substring(a,e);s.length>0&&i.push({type:"text",content:t.substring(a,e),range:UT.create(DT.create(r,a+n),DT.create(r,e+n))});let l=s.length+1,u=o[1];if(i.push({type:"inline-tag",content:u,range:UT.create(DT.create(r,a+l+n),DT.create(r,a+l+u.length+n))}),l+=u.length,4===o.length){l+=o[2].length;let e=o[3];i.push({type:"text",content:e,range:UT.create(DT.create(r,a+l+n),DT.create(r,a+l+e.length+n))})}else i.push({type:"text",content:"",range:UT.create(DT.create(r,a+l+n),DT.create(r,a+l+n))});a=e+o[0].length}let o=t.substring(a);o.length>0&&i.push({type:"text",content:o,range:UT.create(DT.create(r,a+n),DT.create(r,a+n+o.length))})}return i}$(Uk,"tokenize"),$(zk,"buildInlineTokens");var jk=/\S/,Gk=/\s*$/;function Wk(e,t){let r=e.substring(t).match(jk);return r?t+r.index:e.length}function qk(e){let t=e.match(Gk);if(t&&"number"==typeof t.index)return t.index}function Hk(e){var t,r,n,i;let a=DT.create(e.position.line,e.position.character);if(0===e.tokens.length)return new t_([],UT.create(a,a));let o=[];for(;e.index<e.tokens.length;){let t=Vk(e,o[o.length-1]);t&&o.push(t)}let s=null!==(r=null===(t=o[0])||void 0===t?void 0:t.range.start)&&void 0!==r?r:a,l=null!==(i=null===(n=o[o.length-1])||void 0===n?void 0:n.range.end)&&void 0!==i?i:a;return new t_(o,UT.create(s,l))}function Vk(e,t){let r=e.tokens[e.index];return"tag"===r.type?Jk(e,!1):"text"===r.type||"inline-tag"===r.type?Yk(e):(Kk(r,t),void e.index++)}function Kk(e,t){if(t){let r=new o_("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function Yk(e){let t=e.tokens[e.index],r=t,n=t,i=[];for(;t&&"break"!==t.type&&"tag"!==t.type;)i.push(Xk(e)),n=t,t=e.tokens[e.index];return new a_(i,UT.create(r.range.start,n.range.end))}function Xk(e){return"inline-tag"===e.tokens[e.index].type?Jk(e,!0):Zk(e)}function Jk(e,t){let r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if("text"===i?.type){if(t){let i=Zk(e);return new r_(n,new a_([i],i.range),t,UT.create(r.range.start,i.range.end))}{let i=Yk(e);return new r_(n,i,t,UT.create(r.range.start,i.range.end))}}{let e=r.range;return new r_(n,new a_([],e),t,e)}}function Zk(e){let t=e.tokens[e.index++];return new o_(t.content,t.range)}function Qk(e){if(!e)return Qk({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:n}=e;return{start:e_(t,!0),end:e_(r,!1),line:e_(n,!0)}}function e_(e,t){if("string"==typeof e||"object"==typeof e){let r="string"==typeof e?Jf(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}return e}$(Wk,"skipWhitespace"),$(qk,"lastCharacter"),$(Hk,"parseJSDocComment"),$(Vk,"parseJSDocElement"),$(Kk,"appendEmptyLine"),$(Yk,"parseJSDocText"),$(Xk,"parseJSDocInline"),$(Jk,"parseJSDocTag"),$(Zk,"parseJSDocLine"),$(Qk,"normalizeOptions"),$(e_,"normalizeOption");var t_=class{static{$(this,"JSDocCommentImpl")}constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find((t=>t.name===e))}getTags(e){return this.getAllTags().filter((t=>t.name===e))}getAllTags(){return this.elements.filter((e=>"name"in e))}toString(){let e="";for(let t of this.elements)if(0===e.length)e=t.toString();else{let r=t.toString();e+=s_(e)+r}return e.trim()}toMarkdown(e){let t="";for(let r of this.elements)if(0===t.length)t=r.toMarkdown(e);else{let n=r.toMarkdown(e);t+=s_(t)+n}return t.trim()}},r_=class{static{$(this,"JSDocTagImpl")}constructor(e,t,r,n){this.name=e,this.content=t,this.inline=r,this.range=n}toString(){let e=`@${this.name}`,t=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}\n${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,r;return null!==(r=null===(t=e?.renderTag)||void 0===t?void 0:t.call(e,this))&&void 0!==r?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){let t=this.content.toMarkdown(e);if(this.inline){let r=n_(this.name,t,e??{});if("string"==typeof r)return r}let r="";"italic"===e?.tag||void 0===e?.tag?r="*":"bold"===e?.tag?r="**":"bold-italic"===e?.tag&&(r="***");let n=`${r}@${this.name}${r}`;return 1===this.content.inlines.length?n=`${n}  ${t}`:this.content.inlines.length>1&&(n=`${n}\n${t}`),this.inline?`{${n}}`:n}};function n_(e,t,r){var n,i;if("linkplain"===e||"linkcode"===e||"link"===e){let a=t.indexOf(" "),o=t;if(a>0){let e=Wk(t,a);o=t.substring(e),t=t.substring(0,a)}return("linkcode"===e||"link"===e&&"code"===r.link)&&(o=`\`${o}\``),null!==(i=null===(n=r.renderLink)||void 0===n?void 0:n.call(r,t,o))&&void 0!==i?i:i_(t,o)}}function i_(e,t){try{return zb.parse(e,!0),`[${t}](${e})`}catch{return e}}$(n_,"renderInlineTag"),$(i_,"renderLinkDefault");var a_=class{static{$(this,"JSDocTextImpl")}constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){let r=this.inlines[t],n=this.inlines[t+1];e+=r.toString(),n&&n.range.start.line>r.range.start.line&&(e+="\n")}return e}toMarkdown(e){let t="";for(let r=0;r<this.inlines.length;r++){let n=this.inlines[r],i=this.inlines[r+1];t+=n.toMarkdown(e),i&&i.range.start.line>n.range.start.line&&(t+="\n")}return t}},o_=class{static{$(this,"JSDocLineImpl")}constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}};function s_(e){return e.endsWith("\n")?"\n":"\n\n"}$(s_,"fillNewlines");var l_,u_=class{static{$(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let t=this.commentProvider.getComment(e);if(t&&Fk(t))return Mk(t).toMarkdown({renderLink:$(((t,r)=>this.documentationLinkRenderer(e,t,r)),"renderLink"),renderTag:$((t=>this.documentationTagRenderer(e,t)),"renderTag")})}documentationLinkRenderer(e,t,r){var n;let i=null!==(n=this.findNameInPrecomputedScopes(e,t))&&void 0!==n?n:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){let e=i.nameSegment.range.start.line+1,t=i.nameSegment.range.start.character+1;return`[${r}](${i.documentUri.with({fragment:`L${e},${t}`}).toString()})`}}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){let r=yf(e).precomputedScopes;if(!r)return;let n=e;do{let e=r.get(n).find((e=>e.name===t));if(e)return e;n=n.$container}while(n)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find((e=>e.name===t))}},c_=class{static{$(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return lk(e)?e.$comment:null===(t=lh(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===t?void 0:t.text}},h_=class{static{$(this,"DefaultAsyncParser")}constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,t){return Promise.resolve(this.syncParser.parse(e))}},d_=class{static{$(this,"AbstractThreadedAsyncParser")}constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady((()=>{if(this.queue.length>0){let t=this.queue.shift();t&&(e.lock(),t.resolve(e))}})),this.workerPool.push(e)}}async parse(e,t){let r,n=await this.acquireParserWorker(t),i=new Ib,a=t.onCancellationRequested((()=>{r=setTimeout((()=>{this.terminateWorker(n)}),this.terminationDelay)}));return n.parse(e).then((e=>{let t=this.hydrator.hydrate(e);i.resolve(t)})).catch((e=>{i.reject(e)})).finally((()=>{a.dispose(),clearTimeout(r)})),i.promise}terminateWorker(e){e.terminate();let t=this.workerPool.indexOf(e);t>=0&&this.workerPool.splice(t,1)}async acquireParserWorker(e){this.initializeWorkers();for(let e of this.workerPool)if(e.ready)return e.lock(),e;let t=new Ib;return e.onCancellationRequested((()=>{let e=this.queue.indexOf(t);e>=0&&this.queue.splice(e,1),t.reject(Rb)})),this.queue.push(t),t.promise}},f_=class{static{$(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,t,r,n){this.onReadyEmitter=new kk.Emitter,this.deferred=new Ib,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=n,t((e=>{let t=e;this.deferred.resolve(t),this.unlock()})),r((e=>{this.deferred.reject(e),this.unlock()}))}terminate(){this.deferred.reject(Rb),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Ib,this.sendMessage(e),this.deferred.promise}},p_=class{static{$(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new xb.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let t=Sb();return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,r=xb.CancellationToken.None){let n=new Ib,i={action:t,deferred:n,cancellationToken:r};return e.push(i),this.performNextOperation(),n.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;e.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(e.map((async({action:e,deferred:t,cancellationToken:r})=>{try{let n=await Promise.resolve().then((()=>e(r)));t.resolve(n)}catch(e){Eb(e)?t.resolve(void 0):t.reject(e)}}))),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}},m_=class{static{$(this,"DefaultHydrator")}constructor(e){this.grammarElementIdMap=new Jb,this.tokenTypeIdMap=new Jb,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map((e=>Object.assign(Object.assign({},e),{message:e.message}))),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){let t=new Map,r=new Map;for(let r of xf(e))t.set(r,{});if(e.$cstNode)for(let t of Qc(e.$cstNode))r.set(t,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){let e=[];r[n]=e;for(let r of i)Fc(r)?e.push(this.dehydrateAstNode(r,t)):Pc(r)?e.push(this.dehydrateReference(r,t)):e.push(r)}else Fc(i)?r[n]=this.dehydrateAstNode(i,t):Pc(i)?r[n]=this.dehydrateReference(i,t):void 0!==i&&(r[n]=i);return r}dehydrateReference(e,t){let r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){let r=t.cstNodes.get(e);return Gc(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),zc(e)?r.content=e.content.map((e=>this.dehydrateCstNode(e,t))):jc(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){let t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){let t,r=new Map,n=new Map;for(let t of xf(e))r.set(t,{});if(e.$cstNode)for(let r of Qc(e.$cstNode)){let e;"fullText"in r?(e=new zx(r.fullText),t=e):"content"in r?e=new Dx:"tokenType"in r&&(e=this.hydrateCstLeafNode(r)),e&&(n.set(r,e),e.root=t)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode));for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){let e=[];r[n]=e;for(let a of i)Fc(a)?e.push(this.setParent(this.hydrateAstNode(a,t),r)):Pc(a)?e.push(this.hydrateReference(a,r,n,t)):e.push(a)}else Fc(i)?r[n]=this.setParent(this.hydrateAstNode(i,t),r):Pc(i)?r[n]=this.hydrateReference(i,r,n,t):void 0!==i&&(r[n]=i);return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,n){return this.linker.buildReference(t,r,n.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,r=0){let n=t.cstNodes.get(e);if("number"==typeof e.grammarSource&&(n.grammarSource=this.getGrammarElement(e.grammarSource)),n.astNode=t.astNodes.get(e.astNode),zc(n))for(let i of e.content){let e=this.hydrateCstNode(i,t,r++);n.content.push(e)}return n}hydrateCstLeafNode(e){let t=this.getTokenType(e.tokenType),r=e.offset,n=e.length,i=e.startLine,a=e.startColumn,o=e.endLine,s=e.endColumn,l=e.hidden;return new Bx(r,n,{start:{line:i,character:a},end:{line:o,character:s}},t,l)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(let t of xf(this.grammar))Ph(t)&&this.grammarElementIdMap.set(t,e++)}};function g_(e){return{documentation:{CommentProvider:$((e=>new c_(e)),"CommentProvider"),DocumentationProvider:$((e=>new u_(e)),"DocumentationProvider")},parser:{AsyncParser:$((e=>new h_(e)),"AsyncParser"),GrammarConfig:$((e=>Dp(e)),"GrammarConfig"),LangiumParser:$((e=>gb(e)),"LangiumParser"),CompletionParser:$((e=>mb(e)),"CompletionParser"),ValueConverter:$((()=>new Cb),"ValueConverter"),TokenBuilder:$((()=>new Tb),"TokenBuilder"),Lexer:$((e=>new $k(e)),"Lexer"),ParserErrorMessageProvider:$((()=>new Kx),"ParserErrorMessageProvider"),LexerErrorMessageProvider:$((()=>new wk),"LexerErrorMessageProvider")},workspace:{AstNodeLocator:$((()=>new bk),"AstNodeLocator"),AstNodeDescriptionProvider:$((e=>new Ck(e)),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:$((e=>new xk(e)),"ReferenceDescriptionProvider")},references:{Linker:$((e=>new Hb(e)),"Linker"),NameProvider:$((()=>new Kb),"NameProvider"),ScopeProvider:$((e=>new sk(e)),"ScopeProvider"),ScopeComputation:$((e=>new Zb(e)),"ScopeComputation"),References:$((e=>new Yb(e)),"References")},serializer:{Hydrator:$((e=>new m_(e)),"Hydrator"),JsonSerializer:$((e=>new hk(e)),"JsonSerializer")},validation:{DocumentValidator:$((e=>new gk(e)),"DocumentValidator"),ValidationRegistry:$((e=>new mk(e)),"ValidationRegistry")},shared:$((()=>e.shared),"shared")}}function y_(e){return{ServiceRegistry:$((e=>new dk(e)),"ServiceRegistry"),workspace:{LangiumDocuments:$((e=>new Wb(e)),"LangiumDocuments"),LangiumDocumentFactory:$((e=>new Gb(e)),"LangiumDocumentFactory"),DocumentBuilder:$((e=>new Ak(e)),"DocumentBuilder"),IndexManager:$((e=>new Rk(e)),"IndexManager"),WorkspaceManager:$((e=>new Ek(e)),"WorkspaceManager"),FileSystemProvider:$((t=>e.fileSystemProvider(t)),"FileSystemProvider"),WorkspaceLock:$((()=>new p_),"WorkspaceLock"),ConfigurationProvider:$((e=>new Sk(e)),"ConfigurationProvider")}}}function v_(e,t,r,n,i,a,o,s,l){return x_([e,t,r,n,i,a,o,s,l].reduce(__,{}))}$(g_,"createDefaultCoreModule"),$(y_,"createDefaultSharedCoreModule"),(l_||(l_={})).merge=(e,t)=>__(__({},e),t),$(v_,"inject");var T_=Symbol("isProxy");function C_(e){if(e&&e[T_])for(let t of Object.values(e))C_(t);return e}function x_(e,t){let r=new Proxy({},{deleteProperty:$((()=>!1),"deleteProperty"),set:$((()=>{throw new Error("Cannot set property on injected service container")}),"set"),get:$(((n,i)=>i===T_||k_(n,i,e,t||r)),"get"),getOwnPropertyDescriptor:$(((n,i)=>(k_(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i))),"getOwnPropertyDescriptor"),has:$(((t,r)=>r in e),"has"),ownKeys:$((()=>[...Object.getOwnPropertyNames(e)]),"ownKeys")});return r}$(C_,"eagerLoad"),$(x_,"_inject");var b_=Symbol();function k_(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===b_)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in r){let i=r[t];e[t]=b_;try{e[t]="function"==typeof i?i(n):x_(i,n)}catch(r){throw e[t]=r instanceof Error?r:void 0,r}return e[t]}}function __(e,t){if(t)for(let[r,n]of Object.entries(t))if(void 0!==n){let t=e[r];e[r]=null!==t&&null!==n&&"object"==typeof t&&"object"==typeof n?__(t,n):n}return e}$(k_,"_resolve"),$(__,"_merge");var S_,A_={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]};!function(e){e.REGULAR="indentation-sensitive",e.IGNORE_INDENTATION="ignore-indentation"}(S_||(S_={}));var R_=class extends Tb{static{$(this,"IndentationAwareTokenBuilder")}constructor(e=A_){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},A_),e),this.indentTokenType=Hg({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=Hg({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(e,t){let r=super.buildTokens(e,t);if(!Ik(r))throw new Error("Invalid tokens built by default builder");let n,i,a,{indentTokenName:o,dedentTokenName:s,whitespaceTokenName:l,ignoreIndentationDelimiters:u}=this.options,c=[];for(let e of r){for(let[t,r]of u)e.name===t?e.PUSH_MODE=S_.IGNORE_INDENTATION:e.name===r&&(e.POP_MODE=!0);e.name===s?n=e:e.name===o?i=e:e.name===l?a=e:c.push(e)}if(!n||!i||!a)throw new Error("Some indentation/whitespace tokens not found!");return u.length>0?{modes:{[S_.REGULAR]:[n,i,...c,a],[S_.IGNORE_INDENTATION]:[...c,a]},defaultMode:S_.REGULAR}:[n,i,a,...c]}flushLexingReport(e){let t=super.flushLexingReport(e);return Object.assign(Object.assign({},t),{remainingDedents:this.flushRemainingDedents(e)})}isStartOfLine(e,t){return 0===t||"\r\n".includes(e[t-1])}matchWhitespace(e,t,r,n){var i;this.whitespaceRegExp.lastIndex=t;let a=this.whitespaceRegExp.exec(e);return{currIndentLevel:null!==(i=a?.[0].length)&&void 0!==i?i:0,prevIndentLevel:this.indentationStack.at(-1),match:a}}createIndentationTokenInstance(e,t,r,n){let i=this.getLineNumber(t,n);return Yg(e,r,n,n+r.length,i,i,1,r.length)}getLineNumber(e,t){return e.substring(0,t).split(/\r\n|\r|\n/).length}indentMatcher(e,t,r,n){if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:i,prevIndentLevel:a,match:o}=this.matchWhitespace(e,t,r,n);return i<=a?null:(this.indentationStack.push(i),o)}dedentMatcher(e,t,r,n){var i,a,o,s;if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:l,prevIndentLevel:u,match:c}=this.matchWhitespace(e,t,r,n);if(l>=u)return null;let h=this.indentationStack.lastIndexOf(l);if(-1===h)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${l} at offset: ${t}. Current indentation stack: ${this.indentationStack}`,offset:t,length:null!==(a=null===(i=c?.[0])||void 0===i?void 0:i.length)&&void 0!==a?a:0,line:this.getLineNumber(e,t),column:1}),null;let d=this.indentationStack.length-h-1,f=null!==(s=null===(o=e.substring(0,t).match(/[\r\n]+$/))||void 0===o?void 0:o[0].length)&&void 0!==s?s:1;for(let n=0;n<d;n++){let n=this.createIndentationTokenInstance(this.dedentTokenType,e,"",t-(f-1));r.push(n),this.indentationStack.pop()}return null}buildTerminalToken(e){let t=super.buildTerminalToken(e),{indentTokenName:r,dedentTokenName:n,whitespaceTokenName:i}=this.options;return t.name===r?this.indentTokenType:t.name===n?this.dedentTokenType:t.name===i?Hg({name:i,pattern:this.whitespaceRegExp,group:Mg.SKIPPED}):t}flushRemainingDedents(e){let t=[];for(;this.indentationStack.length>1;)t.push(this.createIndentationTokenInstance(this.dedentTokenType,e,"",e.length)),this.indentationStack.pop();return this.indentationStack=[0],t}},E_=class extends $k{static{$(this,"IndentationAwareLexer")}constructor(e){if(super(e),!(e.parser.TokenBuilder instanceof R_))throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder");this.indentationTokenBuilder=e.parser.TokenBuilder}tokenize(e,t=Lk){let r=super.tokenize(e),n=r.report;"full"===t?.mode&&r.tokens.push(...n.remainingDedents),n.remainingDedents=[];let{indentTokenType:i,dedentTokenType:a}=this.indentationTokenBuilder,o=i.tokenTypeIdx,s=a.tokenTypeIdx,l=[],u=r.tokens.length-1;for(let e=0;e<u;e++){let t=r.tokens[e],n=r.tokens[e+1];t.tokenTypeIdx!==o||n.tokenTypeIdx!==s?l.push(t):e++}return u>=0&&l.push(r.tokens[u]),r.tokens=l,r}},w_={};N(w_,{AstUtils:()=>ff,BiMap:()=>Jb,Cancellation:()=>xb,ContextCache:()=>ik,CstUtils:()=>Mc,DONE_RESULT:()=>Kc,Deferred:()=>Ib,Disposable:()=>_k,DisposableCache:()=>rk,DocumentCache:()=>ak,EMPTY_STREAM:()=>Vc,ErrorWithLocation:()=>Ch,GrammarUtils:()=>Th,MultiMap:()=>Xb,OperationCancelled:()=>Rb,Reduction:()=>Xc,RegExpUtils:()=>Ef,SimpleCache:()=>nk,StreamImpl:()=>Wc,TreeStreamImpl:()=>Zc,URI:()=>zb,UriUtils:()=>Db,WorkspaceCache:()=>ok,assertUnreachable:()=>xh,delayNextTick:()=>bb,interruptAndCheck:()=>wb,isOperationCancelled:()=>Eb,loadGrammarFromJson:()=>M_,setInterruptionPeriod:()=>Ab,startCancelableOperation:()=>Sb,stream:()=>Yc}),M(w_,kk);var L_=class{static{$(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},$_={fileSystemProvider:$((()=>new L_),"fileSystemProvider")},I_={Grammar:$((()=>{}),"Grammar"),LanguageMetaData:$((()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})),"LanguageMetaData")},N_={AstReflection:$((()=>new hf),"AstReflection")};function O_(){let e=v_(y_($_),N_),t=v_(g_({shared:e}),I_);return e.ServiceRegistry.register(t),t}function M_(e){var t;let r=O_(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,zb.parse(`memory://${null!==(t=n.name)&&void 0!==t?t:"grammar"}.langium`)),n}$(O_,"createMinimalGrammarServices"),$(M_,"loadGrammarFromJson"),M(Oc,w_);var F_=Object.defineProperty,P_=$(((e,t)=>F_(e,"name",{value:t,configurable:!0})),"__name"),B_="Statement",D_="Architecture";function U_(e){return IS.isInstance(e,D_)}$(U_,"isArchitecture"),P_(U_,"isArchitecture");var z_="Axis",j_="Branch";function G_(e){return IS.isInstance(e,j_)}$(G_,"isBranch"),P_(G_,"isBranch");var W_="Checkout",q_="CherryPicking",H_="ClassDefStatement",V_="Commit";function K_(e){return IS.isInstance(e,V_)}$(K_,"isCommit"),P_(K_,"isCommit");var Y_="Curve",X_="Edge",J_="Entry",Z_="GitGraph";function Q_(e){return IS.isInstance(e,Z_)}$(Q_,"isGitGraph"),P_(Q_,"isGitGraph");var eS="Group",tS="Info";function rS(e){return IS.isInstance(e,tS)}$(rS,"isInfo"),P_(rS,"isInfo");var nS="Item",iS="Junction",aS="Merge";function oS(e){return IS.isInstance(e,aS)}$(oS,"isMerge"),P_(oS,"isMerge");var sS="Option",lS="Packet";function uS(e){return IS.isInstance(e,lS)}$(uS,"isPacket"),P_(uS,"isPacket");var cS="PacketBlock";function hS(e){return IS.isInstance(e,cS)}$(hS,"isPacketBlock"),P_(hS,"isPacketBlock");var dS="Pie";function fS(e){return IS.isInstance(e,dS)}$(fS,"isPie"),P_(fS,"isPie");var pS="PieSection";function mS(e){return IS.isInstance(e,pS)}$(mS,"isPieSection"),P_(mS,"isPieSection");var gS="Radar",yS="Service",vS="Treemap";function TS(e){return IS.isInstance(e,vS)}$(TS,"isTreemap"),P_(TS,"isTreemap");var CS,xS,bS,kS,_S,SS,AS,RS="TreemapRow",ES="Direction",wS="Leaf",LS="Section",$S=class extends Uc{static{$(this,"MermaidAstReflection")}static{P_(this,"MermaidAstReflection")}getAllTypes(){return[D_,z_,j_,W_,q_,H_,V_,Y_,ES,X_,J_,Z_,eS,tS,nS,iS,wS,aS,sS,lS,cS,dS,pS,gS,LS,yS,B_,vS,RS]}computeIsSubtype(e,t){switch(e){case j_:case W_:case q_:case V_:case aS:return this.isSubtype(B_,t);case ES:return this.isSubtype(Z_,t);case wS:case LS:return this.isSubtype(nS,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;if("Entry:axis"===t)return z_;throw new Error(`${t} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case D_:return{name:D_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case z_:return{name:z_,properties:[{name:"label"},{name:"name"}]};case j_:return{name:j_,properties:[{name:"name"},{name:"order"}]};case W_:return{name:W_,properties:[{name:"branch"}]};case q_:return{name:q_,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case H_:return{name:H_,properties:[{name:"className"},{name:"styleText"}]};case V_:return{name:V_,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case Y_:return{name:Y_,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case X_:return{name:X_,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case J_:return{name:J_,properties:[{name:"axis"},{name:"value"}]};case Z_:return{name:Z_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case eS:return{name:eS,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case tS:return{name:tS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case nS:return{name:nS,properties:[{name:"classSelector"},{name:"name"}]};case iS:return{name:iS,properties:[{name:"id"},{name:"in"}]};case aS:return{name:aS,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case sS:return{name:sS,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case lS:return{name:lS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case cS:return{name:cS,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case dS:return{name:dS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case pS:return{name:pS,properties:[{name:"label"},{name:"value"}]};case gS:return{name:gS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case yS:return{name:yS,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case vS:return{name:vS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case RS:return{name:RS,properties:[{name:"indent"},{name:"item"}]};case ES:return{name:ES,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case wS:return{name:wS,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case LS:return{name:LS,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},IS=new $S,NS=P_((()=>CS??(CS=M_('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}'))),"InfoGrammar"),OS=P_((()=>xS??(xS=M_('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}'))),"PacketGrammar"),MS=P_((()=>bS??(bS=M_('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}'))),"PieGrammar"),FS=P_((()=>kS??(kS=M_('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}'))),"ArchitectureGrammar"),PS=P_((()=>_S??(_S=M_('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}'))),"GitGraphGrammar"),BS=P_((()=>SS??(SS=M_('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}'))),"RadarGrammar"),DS=P_((()=>AS??(AS=M_('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}'))),"TreemapGrammar"),US={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},zS={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},jS={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},GS={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},WS={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},qS={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},HS={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},VS={AstReflection:P_((()=>new $S),"AstReflection")},KS={Grammar:P_((()=>NS()),"Grammar"),LanguageMetaData:P_((()=>US),"LanguageMetaData"),parser:{}},YS={Grammar:P_((()=>OS()),"Grammar"),LanguageMetaData:P_((()=>zS),"LanguageMetaData"),parser:{}},XS={Grammar:P_((()=>MS()),"Grammar"),LanguageMetaData:P_((()=>jS),"LanguageMetaData"),parser:{}},JS={Grammar:P_((()=>FS()),"Grammar"),LanguageMetaData:P_((()=>GS),"LanguageMetaData"),parser:{}},ZS={Grammar:P_((()=>PS()),"Grammar"),LanguageMetaData:P_((()=>WS),"LanguageMetaData"),parser:{}},QS={Grammar:P_((()=>BS()),"Grammar"),LanguageMetaData:P_((()=>qS),"LanguageMetaData"),parser:{}},eA={Grammar:P_((()=>DS()),"Grammar"),LanguageMetaData:P_((()=>HS),"LanguageMetaData"),parser:{}},tA={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},rA=class extends Cb{static{$(this,"AbstractMermaidValueConverter")}static{P_(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return void 0===n&&(n=this.runCustomConverter(e,t,r)),void 0===n?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){let n=tA[e.name];if(void 0===n)return;let i=n.exec(t);if(null!==i){if(void 0!==i[1])return i[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==i[2])return i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}},nA=class extends rA{static{$(this,"CommonValueConverter")}static{P_(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},iA=class extends Tb{static{$(this,"AbstractMermaidTokenBuilder")}static{P_(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){let n=super.buildKeywordTokens(e,t,r);return n.forEach((e=>{this.keywords.has(e.name)&&void 0!==e.PATTERN&&(e.PATTERN=new RegExp(e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))})),n}};(class extends iA{static{$(this,"CommonTokenBuilder")}static{P_(this,"CommonTokenBuilder")}});var aA={},oA={info:P_((async()=>{let{createInfoServices:e}=await import("./info-NVLQJR56-WY6RGRGJ.mjs._esm.js"),t=e().Info.parser.LangiumParser;aA.info=t}),"info"),packet:P_((async()=>{let{createPacketServices:e}=await import("./packet-BFZMPI3H-BQ2TQ635.mjs._esm.js"),t=e().Packet.parser.LangiumParser;aA.packet=t}),"packet"),pie:P_((async()=>{let{createPieServices:e}=await import("./pie-7BOR55EZ-J4DISVIY.mjs._esm.js"),t=e().Pie.parser.LangiumParser;aA.pie=t}),"pie"),architecture:P_((async()=>{let{createArchitectureServices:e}=await import("./architecture-U656AL7Q-MUC43IVM.mjs._esm.js"),t=e().Architecture.parser.LangiumParser;aA.architecture=t}),"architecture"),gitGraph:P_((async()=>{let{createGitGraphServices:e}=await import("./gitGraph-F6HP7TQM-JOQHTAS5.mjs._esm.js"),t=e().GitGraph.parser.LangiumParser;aA.gitGraph=t}),"gitGraph"),radar:P_((async()=>{let{createRadarServices:e}=await import("./radar-NHE76QYJ-6MRNKVGF.mjs._esm.js"),t=e().Radar.parser.LangiumParser;aA.radar=t}),"radar"),treemap:P_((async()=>{let{createTreemapServices:e}=await import("./treemap-KMMF4GRG-DK74C3S3.mjs._esm.js"),t=e().Treemap.parser.LangiumParser;aA.treemap=t}),"treemap")};async function sA(e,t){let r=oA[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);aA[e]||await r();let n=aA[e].parse(t);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new lA(n);return n.value}$(sA,"parse"),P_(sA,"parse");var lA=class extends Error{static{$(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map((e=>e.message)).join("\n"),r=e.parserErrors.map((e=>e.message)).join("\n");super(`Parsing failed: ${t} ${r}`),this.result=e}static{P_(this,"MermaidParseError")}},uA=class extends iA{static{$(this,"PieTokenBuilder")}static{P_(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},cA=class extends rA{static{$(this,"PieValueConverter")}static{P_(this,"PieValueConverter")}runCustomConverter(e,t,r){if("PIE_SECTION_LABEL"===e.name)return t.replace(/"/g,"").trim()}},hA={parser:{TokenBuilder:P_((()=>new uA),"TokenBuilder"),ValueConverter:P_((()=>new cA),"ValueConverter")}};function dA(e=$_){let t=v_(y_(e),VS),r=v_(g_({shared:t}),XS,hA);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}$(dA,"createPieServices"),P_(dA,"createPieServices");var fA=class extends iA{static{$(this,"ArchitectureTokenBuilder")}static{P_(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},pA=class extends rA{static{$(this,"ArchitectureValueConverter")}static{P_(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){return"ARCH_ICON"===e.name?t.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===e.name?t.replace(/["()]/g,""):"ARCH_TITLE"===e.name?t.replace(/[[\]]/g,"").trim():void 0}},mA={parser:{TokenBuilder:P_((()=>new fA),"TokenBuilder"),ValueConverter:P_((()=>new pA),"ValueConverter")}};function gA(e=$_){let t=v_(y_(e),VS),r=v_(g_({shared:t}),JS,mA);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}$(gA,"createArchitectureServices"),P_(gA,"createArchitectureServices");var yA=class extends iA{static{$(this,"GitGraphTokenBuilder")}static{P_(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},vA={parser:{TokenBuilder:P_((()=>new yA),"TokenBuilder"),ValueConverter:P_((()=>new nA),"ValueConverter")}};function TA(e=$_){let t=v_(y_(e),VS),r=v_(g_({shared:t}),ZS,vA);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}$(TA,"createGitGraphServices"),P_(TA,"createGitGraphServices");var CA=class extends iA{static{$(this,"RadarTokenBuilder")}static{P_(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},xA={parser:{TokenBuilder:P_((()=>new CA),"TokenBuilder"),ValueConverter:P_((()=>new nA),"ValueConverter")}};function bA(e=$_){let t=v_(y_(e),VS),r=v_(g_({shared:t}),QS,xA);return t.ServiceRegistry.register(r),{shared:t,Radar:r}}$(bA,"createRadarServices"),P_(bA,"createRadarServices");var kA=class extends iA{static{$(this,"TreemapTokenBuilder")}static{P_(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},_A=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,SA=class extends rA{static{$(this,"TreemapValueConverter")}static{P_(this,"TreemapValueConverter")}runCustomConverter(e,t,r){if("NUMBER2"===e.name)return parseFloat(t.replace(/,/g,""));if("SEPARATOR"===e.name)return t.substring(1,t.length-1);if("STRING2"===e.name)return t.substring(1,t.length-1);if("INDENTATION"===e.name)return t.length;if("ClassDef"===e.name){if("string"!=typeof t)return t;let e=_A.exec(t);if(e)return{$type:"ClassDefStatement",className:e[1],styleText:e[2]||void 0}}}};function AA(e){let t=e.validation.TreemapValidator,r=e.validation.ValidationRegistry;if(r){let e={Treemap:t.checkSingleRoot.bind(t)};r.register(e,t)}}$(AA,"registerValidationChecks"),P_(AA,"registerValidationChecks");var RA=class{static{$(this,"TreemapValidator")}static{P_(this,"TreemapValidator")}checkSingleRoot(e,t){let r;for(let n of e.TreemapRows)n.item&&(void 0===r&&void 0===n.indent?r=0:(void 0===n.indent||void 0!==r&&r>=parseInt(n.indent,10))&&t("error","Multiple root nodes are not allowed in a treemap.",{node:n,property:"item"}))}},EA={parser:{TokenBuilder:P_((()=>new kA),"TokenBuilder"),ValueConverter:P_((()=>new SA),"ValueConverter")},validation:{TreemapValidator:P_((()=>new RA),"TreemapValidator")}};function wA(e=$_){let t=v_(y_(e),VS),r=v_(g_({shared:t}),eA,EA);return t.ServiceRegistry.register(r),AA(r),{shared:t,Treemap:r}}$(wA,"createTreemapServices"),P_(wA,"createTreemapServices");var LA=I(((e,t)=>{!function(r,n){"object"==typeof e&&typeof t<"u"?t.exports=n():"function"==typeof define&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=n()}(e,(function(){var e=6e4,t=36e5,r="millisecond",n="second",i="minute",a="hour",o="day",s="week",l="month",u="quarter",c="year",h="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:$((function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}),"ordinal")},g=$((function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e}),"m"),y={s:g,z:$((function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(i,2,"0")}),"z"),m:$((function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,l),a=r-i<0,o=t.clone().add(n+(a?-1:1),l);return+(-(n+(r-i)/(a?i-o:o-i))||0)}),"t"),a:$((function(e){return e<0?Math.ceil(e)||0:Math.floor(e)}),"a"),p:$((function(e){return{M:l,y:c,w:s,d:o,D:h,h:a,m:i,s:n,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")}),"p"),u:$((function(e){return void 0===e}),"u")},v="en",T={};T[v]=m;var C="$isDayjsObject",x=$((function(e){return e instanceof S||!(!e||!e[C])}),"S"),b=$((function e(t,r,n){var i;if(!t)return v;if("string"==typeof t){var a=t.toLowerCase();T[a]&&(i=a),r&&(T[a]=r,i=a);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var s=t.name;T[s]=t,i=s}return!n&&i&&(v=i),i||!n&&v}),"t"),k=$((function(e,t){if(x(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new S(r)}),"O"),_=y;_.l=b,_.i=x,_.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function m(e){this.$L=b(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[C]=!0}$(m,"M");var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var i=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return _},g.isValid=function(){return this.$d.toString()!==d},g.isSame=function(e,t){var r=k(e);return this.startOf(t)<=r&&r<=this.endOf(t)},g.isAfter=function(e,t){return k(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<k(e)},g.$g=function(e,t,r){return _.u(e)?this[t]:this.set(r,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var r=this,u=!!_.u(t)||t,d=_.p(e),f=$((function(e,t){var n=_.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return u?n:n.endOf(o)}),"l"),p=$((function(e,t){return _.w(r.toDate()[e].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),r)}),"$"),m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case c:return u?f(1,0):f(31,11);case l:return u?f(1,g):f(0,g+1);case s:var T=this.$locale().weekStart||0,C=(m<T?m+7:m)-T;return f(u?y-C:y+(6-C),g);case o:case h:return p(v+"Hours",0);case a:return p(v+"Minutes",1);case i:return p(v+"Seconds",2);case n:return p(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var s,u=_.p(e),d="set"+(this.$u?"UTC":""),f=(s={},s[o]=d+"Date",s[h]=d+"Date",s[l]=d+"Month",s[c]=d+"FullYear",s[a]=d+"Hours",s[i]=d+"Minutes",s[n]=d+"Seconds",s[r]=d+"Milliseconds",s)[u],p=u===o?this.$D+(t-this.$W):t;if(u===l||u===c){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[_.p(e)]()},g.add=function(r,u){var h,d=this;r=Number(r);var f=_.p(u),p=$((function(e){var t=k(d);return _.w(t.date(t.date()+Math.round(e*r)),d)}),"y");if(f===l)return this.set(l,this.$M+r);if(f===c)return this.set(c,this.$y+r);if(f===o)return p(1);if(f===s)return p(7);var m=(h={},h[i]=e,h[a]=t,h[n]=1e3,h)[f]||1,g=this.$d.getTime()+r*m;return _.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),a=this.$H,o=this.$m,s=this.$M,l=r.weekdays,u=r.months,c=r.meridiem,h=$((function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].slice(0,a)}),"h"),f=$((function(e){return _.s(a%12||12,e,"0")}),"d"),m=c||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return _.s(t.$y,4,"0");case"M":return s+1;case"MM":return _.s(s+1,2,"0");case"MMM":return h(r.monthsShort,s,u,3);case"MMMM":return h(u,s);case"D":return t.$D;case"DD":return _.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(r.weekdaysMin,t.$W,l,2);case"ddd":return h(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return _.s(a,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return m(a,o,!0);case"A":return m(a,o,!1);case"m":return String(o);case"mm":return _.s(o,2,"0");case"s":return String(t.$s);case"ss":return _.s(t.$s,2,"0");case"SSS":return _.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,h,d){var f,p=this,m=_.p(h),g=k(r),y=(g.utcOffset()-this.utcOffset())*e,v=this-g,T=$((function(){return _.m(p,g)}),"D");switch(m){case c:f=T()/12;break;case l:f=T();break;case u:f=T()/3;break;case s:f=(v-y)/6048e5;break;case o:f=(v-y)/864e5;break;case a:f=v/t;break;case i:f=v/e;break;case n:f=v/1e3;break;default:f=v}return d?f:_.a(f)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return T[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=b(e,t,!0);return n&&(r.$L=n),r},g.clone=function(){return _.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),A=S.prototype;return k.prototype=A,[["$ms",r],["$s",n],["$m",i],["$H",a],["$W",o],["$M",l],["$y",c],["$D",h]].forEach((function(e){A[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,S,k),e.$i=!0),k},k.locale=b,k.isDayjs=x,k.unix=function(e){return k(1e3*e)},k.en=T[v],k.Ls=T,k.p={},k}))})),$A=F(LA(),1),IA={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},NA={trace:$(((...e)=>{}),"trace"),debug:$(((...e)=>{}),"debug"),info:$(((...e)=>{}),"info"),warn:$(((...e)=>{}),"warn"),error:$(((...e)=>{}),"error"),fatal:$(((...e)=>{}),"fatal")},OA=$((function(e="fatal"){let t=IA.fatal;"string"==typeof e?e.toLowerCase()in IA&&(t=IA[e]):"number"==typeof e&&(t=e),NA.trace=()=>{},NA.debug=()=>{},NA.info=()=>{},NA.warn=()=>{},NA.error=()=>{},NA.fatal=()=>{},t<=IA.fatal&&(NA.fatal=console.error?console.error.bind(console,MA("FATAL"),"color: orange"):console.log.bind(console,"[35m",MA("FATAL"))),t<=IA.error&&(NA.error=console.error?console.error.bind(console,MA("ERROR"),"color: orange"):console.log.bind(console,"[31m",MA("ERROR"))),t<=IA.warn&&(NA.warn=console.warn?console.warn.bind(console,MA("WARN"),"color: orange"):console.log.bind(console,"[33m",MA("WARN"))),t<=IA.info&&(NA.info=console.info?console.info.bind(console,MA("INFO"),"color: lightblue"):console.log.bind(console,"[34m",MA("INFO"))),t<=IA.debug&&(NA.debug=console.debug?console.debug.bind(console,MA("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",MA("DEBUG"))),t<=IA.trace&&(NA.trace=console.debug?console.debug.bind(console,MA("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",MA("TRACE")))}),"setLogLevel"),MA=$((e=>`%c${(0,$A.default)().format("ss.SSS")} : ${e} : `),"format"),FA=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,PA=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,BA=/\s*%%.*\n/gm,DA=class extends Error{static{$(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}},UA={};$((function(e,t){e=e.replace(FA,"").replace(PA,"").replace(BA,"\n");for(let[r,{detector:n}]of Object.entries(UA))if(n(e,t))return r;throw new DA(`No diagram type detected matching given configuration for text: ${e}`)}),"detectType"),$(((...e)=>{for(let{id:t,detector:r,loader:n}of e)zA(t,r,n)}),"registerLazyLoadedDiagrams");var zA=$(((e,t,r)=>{UA[e]&&NA.warn(`Detector with key ${e} already exists. Overwriting.`),UA[e]={detector:t,loader:r},NA.debug(`Detector with key ${e} added${r?" with loader":""}`)}),"addDetector");$((e=>UA[e].loader),"getDiagramLoader");var jA=$(((e,t,{depth:r=2,clobber:n=!1}={})=>{let i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach((t=>jA(e,t,i))),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach((t=>{e.includes(t)||e.push(t)})),e):void 0===e||r<=0?null!=e&&"object"==typeof e&&"object"==typeof t?Object.assign(e,t):t:(void 0!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).forEach((i=>{"object"!=typeof t[i]||void 0!==e[i]&&"object"!=typeof e[i]?(n||"object"!=typeof e[i]&&"object"!=typeof t[i])&&(e[i]=t[i]):(void 0===e[i]&&(e[i]=Array.isArray(t[i])?[]:{}),e[i]=jA(e[i],t[i],{depth:r-1,clobber:n}))})),e)}),"assignWithDepth"),GA=jA,WA={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:$((e=>e>=255?255:e<0?0:e),"r"),g:$((e=>e>=255?255:e<0?0:e),"g"),b:$((e=>e>=255?255:e<0?0:e),"b"),h:$((e=>e%360),"h"),s:$((e=>e>=100?100:e<0?0:e),"s"),l:$((e=>e>=100?100:e<0?0:e),"l"),a:$((e=>e>=1?1:e<0?0:e),"a")},toLinear:$((e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92}),"toLinear"),hue2rgb:$(((e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+6*(t-e)*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e)),"hue2rgb"),hsl2rgb:$((({h:e,s:t,l:r},n)=>{if(!t)return 2.55*r;e/=360,t/=100;let i=(r/=100)<.5?r*(1+t):r+t-r*t,a=2*r-i;switch(n){case"r":return 255*WA.hue2rgb(a,i,e+.3333333333333333);case"g":return 255*WA.hue2rgb(a,i,e);case"b":return 255*WA.hue2rgb(a,i,e-.3333333333333333)}}),"hsl2rgb"),rgb2hsl:$((({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let i=Math.max(e,t,r),a=Math.min(e,t,r),o=(i+a)/2;if("l"===n)return 100*o;if(i===a)return 0;let s=i-a;if("s"===n)return 100*(o>.5?s/(2-i-a):s/(i+a));switch(i){case e:return 60*((t-r)/s+(t<r?6:0));case t:return 60*((r-e)/s+2);case r:return 60*((e-t)/s+4);default:return-1}}),"rgb2hsl")},qA=WA,HA={clamp:$(((e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e))),"clamp"),round:$((e=>Math.round(1e10*e)/1e10),"round")},VA=HA,KA={dec2hex:$((e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}),"dec2hex")},YA={channel:qA,lang:VA,unit:KA},XA={};for(let e=0;e<=255;e++)XA[e]=YA.unit.dec2hex(e);var JA=0,ZA=1,QA=2,eR=class{static{$(this,"Type")}constructor(){this.type=JA}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=JA}is(e){return this.type===e}},tR=eR,rR=class{static{$(this,"Channels")}constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new tR}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=JA,this}_ensureHSL(){let e=this.data,{h:t,s:r,l:n}=e;void 0===t&&(e.h=YA.channel.rgb2hsl(e,"h")),void 0===r&&(e.s=YA.channel.rgb2hsl(e,"s")),void 0===n&&(e.l=YA.channel.rgb2hsl(e,"l"))}_ensureRGB(){let e=this.data,{r:t,g:r,b:n}=e;void 0===t&&(e.r=YA.channel.hsl2rgb(e,"r")),void 0===r&&(e.g=YA.channel.hsl2rgb(e,"g")),void 0===n&&(e.b=YA.channel.hsl2rgb(e,"b"))}get r(){let e=this.data,t=e.r;return this.type.is(QA)||void 0===t?(this._ensureHSL(),YA.channel.hsl2rgb(e,"r")):t}get g(){let e=this.data,t=e.g;return this.type.is(QA)||void 0===t?(this._ensureHSL(),YA.channel.hsl2rgb(e,"g")):t}get b(){let e=this.data,t=e.b;return this.type.is(QA)||void 0===t?(this._ensureHSL(),YA.channel.hsl2rgb(e,"b")):t}get h(){let e=this.data,t=e.h;return this.type.is(ZA)||void 0===t?(this._ensureRGB(),YA.channel.rgb2hsl(e,"h")):t}get s(){let e=this.data,t=e.s;return this.type.is(ZA)||void 0===t?(this._ensureRGB(),YA.channel.rgb2hsl(e,"s")):t}get l(){let e=this.data,t=e.l;return this.type.is(ZA)||void 0===t?(this._ensureRGB(),YA.channel.rgb2hsl(e,"l")):t}get a(){return this.data.a}set r(e){this.type.set(ZA),this.changed=!0,this.data.r=e}set g(e){this.type.set(ZA),this.changed=!0,this.data.g=e}set b(e){this.type.set(ZA),this.changed=!0,this.data.b=e}set h(e){this.type.set(QA),this.changed=!0,this.data.h=e}set s(e){this.type.set(QA),this.changed=!0,this.data.s=e}set l(e){this.type.set(QA),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},nR=new rR({r:0,g:0,b:0,a:0},"transparent"),iR={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:$((e=>{if(35!==e.charCodeAt(0))return;let t=e.match(iR.re);if(!t)return;let r=t[1],n=parseInt(r,16),i=r.length,a=i%4==0,o=i>4,s=o?1:17,l=o?8:4,u=a?0:-1,c=o?255:15;return nR.set({r:(n>>l*(u+3)&c)*s,g:(n>>l*(u+2)&c)*s,b:(n>>l*(u+1)&c)*s,a:a?(n&c)*s/255:1},e)}),"parse"),stringify:$((e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`#${XA[Math.round(t)]}${XA[Math.round(r)]}${XA[Math.round(n)]}${XA[Math.round(255*i)]}`:`#${XA[Math.round(t)]}${XA[Math.round(r)]}${XA[Math.round(n)]}`}),"stringify")},aR=iR,oR={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:$((e=>{let t=e.match(oR.hueRe);if(t){let[,e,r]=t;switch(r){case"grad":return YA.channel.clamp.h(.9*parseFloat(e));case"rad":return YA.channel.clamp.h(180*parseFloat(e)/Math.PI);case"turn":return YA.channel.clamp.h(360*parseFloat(e))}}return YA.channel.clamp.h(parseFloat(e))}),"_hue2deg"),parse:$((e=>{let t=e.charCodeAt(0);if(104!==t&&72!==t)return;let r=e.match(oR.re);if(!r)return;let[,n,i,a,o,s]=r;return nR.set({h:oR._hue2deg(n),s:YA.channel.clamp.s(parseFloat(i)),l:YA.channel.clamp.l(parseFloat(a)),a:o?YA.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)}),"parse"),stringify:$((e=>{let{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${YA.lang.round(t)}, ${YA.lang.round(r)}%, ${YA.lang.round(n)}%, ${i})`:`hsl(${YA.lang.round(t)}, ${YA.lang.round(r)}%, ${YA.lang.round(n)}%)`}),"stringify")},sR=oR,lR={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:$((e=>{e=e.toLowerCase();let t=lR.colors[e];if(t)return aR.parse(t)}),"parse"),stringify:$((e=>{let t=aR.stringify(e);for(let e in lR.colors)if(lR.colors[e]===t)return e}),"stringify")},uR=lR,cR={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:$((e=>{let t=e.charCodeAt(0);if(114!==t&&82!==t)return;let r=e.match(cR.re);if(!r)return;let[,n,i,a,o,s,l,u,c]=r;return nR.set({r:YA.channel.clamp.r(i?2.55*parseFloat(n):parseFloat(n)),g:YA.channel.clamp.g(o?2.55*parseFloat(a):parseFloat(a)),b:YA.channel.clamp.b(l?2.55*parseFloat(s):parseFloat(s)),a:u?YA.channel.clamp.a(c?parseFloat(u)/100:parseFloat(u)):1},e)}),"parse"),stringify:$((e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${YA.lang.round(t)}, ${YA.lang.round(r)}, ${YA.lang.round(n)}, ${YA.lang.round(i)})`:`rgb(${YA.lang.round(t)}, ${YA.lang.round(r)}, ${YA.lang.round(n)})`}),"stringify")},hR=cR,dR={format:{keyword:uR,hex:aR,rgb:hR,rgba:hR,hsl:sR,hsla:sR},parse:$((e=>{if("string"!=typeof e)return e;let t=aR.parse(e)||hR.parse(e)||sR.parse(e)||uR.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)}),"parse"),stringify:$((e=>!e.changed&&e.color?e.color:e.type.is(QA)||void 0===e.data.r?sR.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?hR.stringify(e):aR.stringify(e)),"stringify")},fR=dR,pR=$(((e,t)=>{let r=fR.parse(e);for(let e in t)r[e]=YA.channel.clamp[e](t[e]);return fR.stringify(r)}),"change"),mR=pR,gR=$(((e,t,r=0,n=1)=>{if("number"!=typeof e)return mR(e,{a:t});let i=nR.set({r:YA.channel.clamp.r(e),g:YA.channel.clamp.g(t),b:YA.channel.clamp.b(r),a:YA.channel.clamp.a(n)});return fR.stringify(i)}),"rgba"),yR=gR;$(((e,t)=>YA.lang.round(fR.parse(e)[t])),"channel");var vR,TR=$((e=>{let{r:t,g:r,b:n}=fR.parse(e),i=.2126*YA.channel.toLinear(t)+.7152*YA.channel.toLinear(r)+.0722*YA.channel.toLinear(n);return YA.lang.round(i)}),"luminance"),CR=TR,xR=$((e=>CR(e)>=.5),"isLight"),bR=xR,kR=$((e=>!bR(e)),"isDark"),_R=kR,SR=$(((e,t,r)=>{let n=fR.parse(e),i=n[t],a=YA.channel.clamp[t](i+r);return i!==a&&(n[t]=a),fR.stringify(n)}),"adjustChannel"),AR=SR,RR=$(((e,t)=>AR(e,"l",t)),"lighten"),ER=RR,wR=$(((e,t)=>AR(e,"l",-t)),"darken"),LR=wR,$R=$(((e,t)=>{let r=fR.parse(e),n={};for(let e in t)t[e]&&(n[e]=r[e]+t[e]);return mR(e,n)}),"adjust"),IR=$R,NR=$(((e,t,r=50)=>{let{r:n,g:i,b:a,a:o}=fR.parse(e),{r:s,g:l,b:u,a:c}=fR.parse(t),h=r/100,d=2*h-1,f=o-c,p=((d*f==-1?d:(d+f)/(1+d*f))+1)/2,m=1-p;return yR(n*p+s*m,i*p+l*m,a*p+u*m,o*h+c*(1-h))}),"mix"),OR=NR,MR=$(((e,t=100)=>{let r=fR.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,OR(r,e,t)}),"invert"),FR=MR,PR="#ffffff",BR="#f2f2f2",DR=$(((e,t)=>IR(e,t?{s:-40,l:10}:{s:-40,l:-10})),"mkBorder"),UR=class{static{$(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||IR(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||IR(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||DR(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||DR(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||DR(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||DR(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||FR(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||FR(this.tertiaryColor),this.lineColor=this.lineColor||FR(this.background),this.arrowheadColor=this.arrowheadColor||FR(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?LR(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||LR(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||FR(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||ER(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||LR(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||LR(this.mainBkg,10)):(this.rowOdd=this.rowOdd||ER(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||ER(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||IR(this.primaryColor,{h:30}),this.cScale4=this.cScale4||IR(this.primaryColor,{h:60}),this.cScale5=this.cScale5||IR(this.primaryColor,{h:90}),this.cScale6=this.cScale6||IR(this.primaryColor,{h:120}),this.cScale7=this.cScale7||IR(this.primaryColor,{h:150}),this.cScale8=this.cScale8||IR(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||IR(this.primaryColor,{h:270}),this.cScale10=this.cScale10||IR(this.primaryColor,{h:300}),this.cScale11=this.cScale11||IR(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=LR(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=LR(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||FR(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||ER(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||LR(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||IR(this.mainBkg,{h:180,s:-15,l:e*(5+3*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||IR(this.mainBkg,{h:180,s:-15,l:e*(8+3*t)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||IR(this.primaryColor,{h:64}),this.fillType3=this.fillType3||IR(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||IR(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||IR(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||IR(this.primaryColor,{h:128}),this.fillType7=this.fillType7||IR(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||IR(this.primaryColor,{l:-10}),this.pie5=this.pie5||IR(this.secondaryColor,{l:-10}),this.pie6=this.pie6||IR(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||IR(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||IR(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||IR(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||IR(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||IR(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||IR(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||IR(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||IR(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||IR(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||IR(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||IR(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||IR(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||_R(this.quadrant1Fill)?ER(this.quadrant1Fill):LR(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?LR(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||IR(this.primaryColor,{h:-30}),this.git4=this.git4||IR(this.primaryColor,{h:-60}),this.git5=this.git5||IR(this.primaryColor,{h:-90}),this.git6=this.git6||IR(this.primaryColor,{h:60}),this.git7=this.git7||IR(this.primaryColor,{h:120}),this.darkMode?(this.git0=ER(this.git0,25),this.git1=ER(this.git1,25),this.git2=ER(this.git2,25),this.git3=ER(this.git3,25),this.git4=ER(this.git4,25),this.git5=ER(this.git5,25),this.git6=ER(this.git6,25),this.git7=ER(this.git7,25)):(this.git0=LR(this.git0,25),this.git1=LR(this.git1,25),this.git2=LR(this.git2,25),this.git3=LR(this.git3,25),this.git4=LR(this.git4,25),this.git5=LR(this.git5,25),this.git6=LR(this.git6,25),this.git7=LR(this.git7,25)),this.gitInv0=this.gitInv0||FR(this.git0),this.gitInv1=this.gitInv1||FR(this.git1),this.gitInv2=this.gitInv2||FR(this.git2),this.gitInv3=this.gitInv3||FR(this.git3),this.gitInv4=this.gitInv4||FR(this.git4),this.gitInv5=this.gitInv5||FR(this.git5),this.gitInv6=this.gitInv6||FR(this.git6),this.gitInv7=this.gitInv7||FR(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PR,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||BR}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},zR=$((e=>{let t=new UR;return t.calculate(e),t}),"getThemeVariables"),jR=class{static{$(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=ER(this.primaryColor,16),this.tertiaryColor=IR(this.primaryColor,{h:-160}),this.primaryBorderColor=FR(this.background),this.secondaryBorderColor=DR(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=DR(this.tertiaryColor,this.darkMode),this.primaryTextColor=FR(this.primaryColor),this.secondaryTextColor=FR(this.secondaryColor),this.tertiaryTextColor=FR(this.tertiaryColor),this.lineColor=FR(this.background),this.textColor=FR(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=ER(FR("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=yR(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=LR("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=LR(this.sectionBkgColor,10),this.taskBorderColor=yR(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=yR(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||ER(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||LR(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=ER(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=ER(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=ER(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=IR(this.primaryColor,{h:64}),this.fillType3=IR(this.secondaryColor,{h:64}),this.fillType4=IR(this.primaryColor,{h:-64}),this.fillType5=IR(this.secondaryColor,{h:-64}),this.fillType6=IR(this.primaryColor,{h:128}),this.fillType7=IR(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||IR(this.primaryColor,{h:30}),this.cScale4=this.cScale4||IR(this.primaryColor,{h:60}),this.cScale5=this.cScale5||IR(this.primaryColor,{h:90}),this.cScale6=this.cScale6||IR(this.primaryColor,{h:120}),this.cScale7=this.cScale7||IR(this.primaryColor,{h:150}),this.cScale8=this.cScale8||IR(this.primaryColor,{h:210}),this.cScale9=this.cScale9||IR(this.primaryColor,{h:270}),this.cScale10=this.cScale10||IR(this.primaryColor,{h:300}),this.cScale11=this.cScale11||IR(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||FR(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||ER(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||IR(this.mainBkg,{h:30,s:-30,l:-(4*e-10)}),this["surfacePeer"+e]=this["surfacePeer"+e]||IR(this.mainBkg,{h:30,s:-30,l:-(4*e-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||IR(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||IR(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||IR(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||IR(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||IR(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||IR(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||_R(this.quadrant1Fill)?ER(this.quadrant1Fill):LR(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?LR(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ER(this.secondaryColor,20),this.git1=ER(this.pie2||this.secondaryColor,20),this.git2=ER(this.pie3||this.tertiaryColor,20),this.git3=ER(this.pie4||IR(this.primaryColor,{h:-30}),20),this.git4=ER(this.pie5||IR(this.primaryColor,{h:-60}),20),this.git5=ER(this.pie6||IR(this.primaryColor,{h:-90}),10),this.git6=ER(this.pie7||IR(this.primaryColor,{h:60}),10),this.git7=ER(this.pie8||IR(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||FR(this.git0),this.gitInv1=this.gitInv1||FR(this.git1),this.gitInv2=this.gitInv2||FR(this.git2),this.gitInv3=this.gitInv3||FR(this.git3),this.gitInv4=this.gitInv4||FR(this.git4),this.gitInv5=this.gitInv5||FR(this.git5),this.gitInv6=this.gitInv6||FR(this.git6),this.gitInv7=this.gitInv7||FR(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||FR(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||FR(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ER(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ER(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},GR=$((e=>{let t=new jR;return t.calculate(e),t}),"getThemeVariables"),WR=class{static{$(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=IR(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=IR(this.primaryColor,{h:-160}),this.primaryBorderColor=DR(this.primaryColor,this.darkMode),this.secondaryBorderColor=DR(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=DR(this.tertiaryColor,this.darkMode),this.primaryTextColor=FR(this.primaryColor),this.secondaryTextColor=FR(this.secondaryColor),this.tertiaryTextColor=FR(this.tertiaryColor),this.lineColor=FR(this.background),this.textColor=FR(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=yR(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||IR(this.primaryColor,{h:30}),this.cScale4=this.cScale4||IR(this.primaryColor,{h:60}),this.cScale5=this.cScale5||IR(this.primaryColor,{h:90}),this.cScale6=this.cScale6||IR(this.primaryColor,{h:120}),this.cScale7=this.cScale7||IR(this.primaryColor,{h:150}),this.cScale8=this.cScale8||IR(this.primaryColor,{h:210}),this.cScale9=this.cScale9||IR(this.primaryColor,{h:270}),this.cScale10=this.cScale10||IR(this.primaryColor,{h:300}),this.cScale11=this.cScale11||IR(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||LR(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||LR(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=LR(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||LR(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||IR(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||IR(this.mainBkg,{h:30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||IR(this.mainBkg,{h:30,l:-(7+5*e)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||FR(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||FR(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=ER(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||ER(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||ER(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=IR(this.primaryColor,{h:64}),this.fillType3=IR(this.secondaryColor,{h:64}),this.fillType4=IR(this.primaryColor,{h:-64}),this.fillType5=IR(this.secondaryColor,{h:-64}),this.fillType6=IR(this.primaryColor,{h:128}),this.fillType7=IR(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||IR(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||IR(this.primaryColor,{l:-10}),this.pie5=this.pie5||IR(this.secondaryColor,{l:-30}),this.pie6=this.pie6||IR(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||IR(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||IR(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||IR(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||IR(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||IR(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||IR(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||IR(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||IR(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||IR(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||IR(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||IR(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||IR(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||_R(this.quadrant1Fill)?ER(this.quadrant1Fill):LR(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||IR(this.primaryColor,{h:-30}),this.git4=this.git4||IR(this.primaryColor,{h:-60}),this.git5=this.git5||IR(this.primaryColor,{h:-90}),this.git6=this.git6||IR(this.primaryColor,{h:60}),this.git7=this.git7||IR(this.primaryColor,{h:120}),this.darkMode?(this.git0=ER(this.git0,25),this.git1=ER(this.git1,25),this.git2=ER(this.git2,25),this.git3=ER(this.git3,25),this.git4=ER(this.git4,25),this.git5=ER(this.git5,25),this.git6=ER(this.git6,25),this.git7=ER(this.git7,25)):(this.git0=LR(this.git0,25),this.git1=LR(this.git1,25),this.git2=LR(this.git2,25),this.git3=LR(this.git3,25),this.git4=LR(this.git4,25),this.git5=LR(this.git5,25),this.git6=LR(this.git6,25),this.git7=LR(this.git7,25)),this.gitInv0=this.gitInv0||LR(FR(this.git0),25),this.gitInv1=this.gitInv1||FR(this.git1),this.gitInv2=this.gitInv2||FR(this.git2),this.gitInv3=this.gitInv3||FR(this.git3),this.gitInv4=this.gitInv4||FR(this.git4),this.gitInv5=this.gitInv5||FR(this.git5),this.gitInv6=this.gitInv6||FR(this.git6),this.gitInv7=this.gitInv7||FR(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||FR(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||FR(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PR,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||BR}calculate(e){if(Object.keys(this).forEach((e=>{"calculated"===this[e]&&(this[e]=void 0)})),"object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},qR=$((e=>{let t=new WR;return t.calculate(e),t}),"getThemeVariables"),HR=class{static{$(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=ER("#cde498",10),this.primaryBorderColor=DR(this.primaryColor,this.darkMode),this.secondaryBorderColor=DR(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=DR(this.tertiaryColor,this.darkMode),this.primaryTextColor=FR(this.primaryColor),this.secondaryTextColor=FR(this.secondaryColor),this.tertiaryTextColor=FR(this.primaryColor),this.lineColor=FR(this.background),this.textColor=FR(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=LR(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||IR(this.primaryColor,{h:30}),this.cScale4=this.cScale4||IR(this.primaryColor,{h:60}),this.cScale5=this.cScale5||IR(this.primaryColor,{h:90}),this.cScale6=this.cScale6||IR(this.primaryColor,{h:120}),this.cScale7=this.cScale7||IR(this.primaryColor,{h:150}),this.cScale8=this.cScale8||IR(this.primaryColor,{h:210}),this.cScale9=this.cScale9||IR(this.primaryColor,{h:270}),this.cScale10=this.cScale10||IR(this.primaryColor,{h:300}),this.cScale11=this.cScale11||IR(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||LR(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||LR(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=LR(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||LR(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||IR(this["cScale"+e],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||IR(this.mainBkg,{h:30,s:-30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||IR(this.mainBkg,{h:30,s:-30,l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||ER(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||ER(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=IR(this.primaryColor,{h:64}),this.fillType3=IR(this.secondaryColor,{h:64}),this.fillType4=IR(this.primaryColor,{h:-64}),this.fillType5=IR(this.secondaryColor,{h:-64}),this.fillType6=IR(this.primaryColor,{h:128}),this.fillType7=IR(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||IR(this.primaryColor,{l:-30}),this.pie5=this.pie5||IR(this.secondaryColor,{l:-30}),this.pie6=this.pie6||IR(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||IR(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||IR(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||IR(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||IR(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||IR(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||IR(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||IR(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||IR(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||IR(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||IR(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||IR(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||IR(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||_R(this.quadrant1Fill)?ER(this.quadrant1Fill):LR(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||IR(this.primaryColor,{h:-30}),this.git4=this.git4||IR(this.primaryColor,{h:-60}),this.git5=this.git5||IR(this.primaryColor,{h:-90}),this.git6=this.git6||IR(this.primaryColor,{h:60}),this.git7=this.git7||IR(this.primaryColor,{h:120}),this.darkMode?(this.git0=ER(this.git0,25),this.git1=ER(this.git1,25),this.git2=ER(this.git2,25),this.git3=ER(this.git3,25),this.git4=ER(this.git4,25),this.git5=ER(this.git5,25),this.git6=ER(this.git6,25),this.git7=ER(this.git7,25)):(this.git0=LR(this.git0,25),this.git1=LR(this.git1,25),this.git2=LR(this.git2,25),this.git3=LR(this.git3,25),this.git4=LR(this.git4,25),this.git5=LR(this.git5,25),this.git6=LR(this.git6,25),this.git7=LR(this.git7,25)),this.gitInv0=this.gitInv0||FR(this.git0),this.gitInv1=this.gitInv1||FR(this.git1),this.gitInv2=this.gitInv2||FR(this.git2),this.gitInv3=this.gitInv3||FR(this.git3),this.gitInv4=this.gitInv4||FR(this.git4),this.gitInv5=this.gitInv5||FR(this.git5),this.gitInv6=this.gitInv6||FR(this.git6),this.gitInv7=this.gitInv7||FR(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||FR(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||FR(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PR,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||BR}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},VR=$((e=>{let t=new HR;return t.calculate(e),t}),"getThemeVariables"),KR=class{static{$(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=ER(this.contrast,55),this.background="#ffffff",this.tertiaryColor=IR(this.primaryColor,{h:-160}),this.primaryBorderColor=DR(this.primaryColor,this.darkMode),this.secondaryBorderColor=DR(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=DR(this.tertiaryColor,this.darkMode),this.primaryTextColor=FR(this.primaryColor),this.secondaryTextColor=FR(this.secondaryColor),this.tertiaryTextColor=FR(this.tertiaryColor),this.lineColor=FR(this.background),this.textColor=FR(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||ER(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=ER(this.contrast,55),this.border2=this.contrast,this.actorBorder=ER(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||FR(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||ER(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||LR(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||IR(this.mainBkg,{l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||IR(this.mainBkg,{l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=ER(this.contrast,30),this.sectionBkgColor2=ER(this.contrast,30),this.taskBorderColor=LR(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=ER(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=LR(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=IR(this.primaryColor,{h:64}),this.fillType3=IR(this.secondaryColor,{h:64}),this.fillType4=IR(this.primaryColor,{h:-64}),this.fillType5=IR(this.secondaryColor,{h:-64}),this.fillType6=IR(this.primaryColor,{h:128}),this.fillType7=IR(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||IR(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||IR(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||IR(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||IR(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||IR(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||IR(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||_R(this.quadrant1Fill)?ER(this.quadrant1Fill):LR(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=LR(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||IR(this.primaryColor,{h:-30}),this.git4=this.pie5||IR(this.primaryColor,{h:-60}),this.git5=this.pie6||IR(this.primaryColor,{h:-90}),this.git6=this.pie7||IR(this.primaryColor,{h:60}),this.git7=this.pie8||IR(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||FR(this.git0),this.gitInv1=this.gitInv1||FR(this.git1),this.gitInv2=this.gitInv2||FR(this.git2),this.gitInv3=this.gitInv3||FR(this.git3),this.gitInv4=this.gitInv4||FR(this.git4),this.gitInv5=this.gitInv5||FR(this.git5),this.gitInv6=this.gitInv6||FR(this.git6),this.gitInv7=this.gitInv7||FR(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||PR,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||BR}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},YR=$((e=>{let t=new KR;return t.calculate(e),t}),"getThemeVariables"),XR={base:{getThemeVariables:zR},dark:{getThemeVariables:GR},default:{getThemeVariables:qR},forest:{getThemeVariables:VR},neutral:{getThemeVariables:YR}},JR={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},ZR={...JR,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:XR.default.getThemeVariables(),sequence:{...JR.sequence,messageFont:$((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont"),noteFont:$((function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}}),"noteFont"),actorFont:$((function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}),"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...JR.gantt,tickInterval:void 0,useWidth:void 0},c4:{...JR.c4,useWidth:void 0,personFont:$((function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}}),"personFont"),flowchart:{...JR.flowchart,inheritDir:!1},external_personFont:$((function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}}),"external_personFont"),systemFont:$((function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}}),"systemFont"),external_systemFont:$((function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}}),"external_systemFont"),system_dbFont:$((function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}}),"system_dbFont"),external_system_dbFont:$((function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}}),"external_system_dbFont"),system_queueFont:$((function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}}),"system_queueFont"),external_system_queueFont:$((function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}}),"external_system_queueFont"),containerFont:$((function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}}),"containerFont"),external_containerFont:$((function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}}),"external_containerFont"),container_dbFont:$((function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}}),"container_dbFont"),external_container_dbFont:$((function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}}),"external_container_dbFont"),container_queueFont:$((function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}}),"container_queueFont"),external_container_queueFont:$((function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}}),"external_container_queueFont"),componentFont:$((function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}}),"componentFont"),external_componentFont:$((function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}}),"external_componentFont"),component_dbFont:$((function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}}),"component_dbFont"),external_component_dbFont:$((function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}}),"external_component_dbFont"),component_queueFont:$((function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}}),"component_queueFont"),external_component_queueFont:$((function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}}),"external_component_queueFont"),boundaryFont:$((function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}}),"boundaryFont"),messageFont:$((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont")},pie:{...JR.pie,useWidth:984},xyChart:{...JR.xyChart,useWidth:void 0},requirement:{...JR.requirement,useWidth:void 0},packet:{...JR.packet},radar:{...JR.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},QR=$(((e,t="")=>Object.keys(e).reduce(((r,n)=>Array.isArray(e[n])?r:"object"==typeof e[n]&&null!==e[n]?[...r,t+n,...QR(e[n],"")]:[...r,t+n]),[])),"keyify"),eE=new Set(QR(ZR,"")),tE=ZR,rE=$((e=>{if(NA.debug("sanitizeDirective called with",e),"object"==typeof e&&null!=e){if(Array.isArray(e))return void e.forEach((e=>rE(e)));for(let t of Object.keys(e)){if(NA.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!eE.has(t)||null==e[t]){NA.debug("sanitize deleting key: ",t),delete e[t];continue}if("object"==typeof e[t]){NA.debug("sanitizing object",t),rE(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let n of r)t.includes(n)&&(NA.debug("sanitizing css option",t),e[t]=nE(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}NA.debug("After sanitization",e)}}),"sanitizeDirective"),nE=$((e=>{let t=0,r=0;for(let n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";"{"===n?t++:"}"===n&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e}),"sanitizeCss"),iE=Object.freeze(tE),aE=GA({},iE),oE=[],sE=GA({},iE),lE=$(((e,t)=>{let r=GA({},e),n={};for(let e of t)cE(e),n=GA(n,e);if(r=GA(r,n),n.theme&&n.theme in XR){let e=GA({},vR),t=GA(e.themeVariables||{},n.themeVariables);r.theme&&r.theme in XR&&(r.themeVariables=XR[r.theme].getThemeVariables(t))}return pE(sE=r),sE}),"updateCurrentConfig");$((e=>(aE=GA({},iE),aE=GA(aE,e),e.theme&&XR[e.theme]&&(aE.themeVariables=XR[e.theme].getThemeVariables(e.themeVariables)),lE(aE,oE),aE)),"setSiteConfig"),$((e=>{vR=GA({},e)}),"saveConfigFromInitialize"),$((e=>(aE=GA(aE,e),lE(aE,oE),aE)),"updateSiteConfig"),$((()=>GA({},aE)),"getSiteConfig"),$((e=>(pE(e),GA(sE,e),uE())),"setConfig");var uE=$((()=>GA({},sE)),"getConfig"),cE=$((e=>{e&&(["secure",...aE.secure??[]].forEach((t=>{Object.hasOwn(e,t)&&(NA.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])})),Object.keys(e).forEach((t=>{t.startsWith("__")&&delete e[t]})),Object.keys(e).forEach((t=>{"string"==typeof e[t]&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],"object"==typeof e[t]&&cE(e[t])})))}),"sanitize");$((e=>{rE(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),oE.push(e),lE(aE,oE)}),"addDirective"),$(((e=aE)=>{lE(e,oE=[])}),"reset");var hE={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},dE={},fE=$((e=>{dE[e]||(NA.warn(hE[e]),dE[e]=!0)}),"issueWarning"),pE=$((e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&fE("LAZY_LOAD_DEPRECATED")}),"checkConfig"),{entries:mE,setPrototypeOf:gE,isFrozen:yE,getPrototypeOf:vE,getOwnPropertyDescriptor:TE}=Object,{freeze:CE,seal:xE,create:bE}=Object,{apply:kE,construct:_E}=typeof Reflect<"u"&&Reflect;CE||(CE=$((function(e){return e}),"freeze")),xE||(xE=$((function(e){return e}),"seal")),kE||(kE=$((function(e,t,r){return e.apply(t,r)}),"apply")),_E||(_E=$((function(e,t){return new e(...t)}),"construct"));var SE=DE(Array.prototype.forEach),AE=DE(Array.prototype.lastIndexOf),RE=DE(Array.prototype.pop),EE=DE(Array.prototype.push),wE=DE(Array.prototype.splice),LE=DE(String.prototype.toLowerCase),$E=DE(String.prototype.toString),IE=DE(String.prototype.match),NE=DE(String.prototype.replace),OE=DE(String.prototype.indexOf),ME=DE(String.prototype.trim),FE=DE(Object.prototype.hasOwnProperty),PE=DE(RegExp.prototype.test),BE=UE(TypeError);function DE(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return kE(e,t,n)}}function UE(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _E(e,r)}}function zE(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LE;gE&&gE(e,null);let n=t.length;for(;n--;){let i=t[n];if("string"==typeof i){let e=r(i);e!==i&&(yE(t)||(t[n]=e),i=e)}e[i]=!0}return e}function jE(e){for(let t=0;t<e.length;t++)FE(e,t)||(e[t]=null);return e}function GE(e){let t=bE(null);for(let[r,n]of mE(e))FE(e,r)&&(Array.isArray(n)?t[r]=jE(n):n&&"object"==typeof n&&n.constructor===Object?t[r]=GE(n):t[r]=n);return t}function WE(e,t){for(;null!==e;){let r=TE(e,t);if(r){if(r.get)return DE(r.get);if("function"==typeof r.value)return DE(r.value)}e=vE(e)}function r(){return null}return $(r,"fallbackValue"),r}$(DE,"unapply"),$(UE,"unconstruct"),$(zE,"addToSet"),$(jE,"cleanArray"),$(GE,"clone"),$(WE,"lookupGetter");var qE=CE(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),HE=CE(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),VE=CE(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KE=CE(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),YE=CE(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XE=CE(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JE=CE(["#text"]),ZE=CE(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),QE=CE(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ew=CE(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tw=CE(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),rw=xE(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nw=xE(/<%[\w\W]*|[\w\W]*%>/gm),iw=xE(/\$\{[\w\W]*/gm),aw=xE(/^data-[\-\w.\u00B7-\uFFFF]+$/),ow=xE(/^aria-[\-\w]+$/),sw=xE(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lw=xE(/^(?:\w+script|data):/i),uw=xE(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cw=xE(/^html$/i),hw=xE(/^[a-z][.\w]*(-[.\w]+)+$/i),dw=Object.freeze({__proto__:null,ARIA_ATTR:ow,ATTR_WHITESPACE:uw,CUSTOM_ELEMENT:hw,DATA_ATTR:aw,DOCTYPE_NAME:cw,ERB_EXPR:nw,IS_ALLOWED_URI:sw,IS_SCRIPT_OR_DATA:lw,MUSTACHE_EXPR:rw,TMPLIT_EXPR:iw}),fw=1,pw=3,mw=7,gw=8,yw=9,vw=$((function(){return typeof window>"u"?null:window}),"getGlobal"),Tw=$((function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));let i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}}),"_createTrustedTypesPolicy"),Cw=$((function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}}),"_createHooksMap");function xw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vw(),t=$((e=>xw(e)),"DOMPurify");if(t.version="3.2.5",t.removed=[],!e||!e.document||e.document.nodeType!==yw||!e.Element)return t.isSupported=!1,t;let{document:r}=e,n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=e,p=l.prototype,m=WE(p,"cloneNode"),g=WE(p,"remove"),y=WE(p,"nextSibling"),v=WE(p,"childNodes"),T=WE(p,"parentNode");if("function"==typeof o){let e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let C,x="",{implementation:b,createNodeIterator:k,createDocumentFragment:_,getElementsByTagName:S}=r,{importNode:A}=n,R=Cw();t.isSupported="function"==typeof mE&&"function"==typeof T&&b&&void 0!==b.createHTMLDocument;let{MUSTACHE_EXPR:E,ERB_EXPR:w,TMPLIT_EXPR:L,DATA_ATTR:I,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:F}=dw,{IS_ALLOWED_URI:P}=dw,B=null,D=zE({},[...qE,...HE,...VE,...YE,...JE]),U=null,z=zE({},[...ZE,...QE,...ew,...tw]),j=Object.seal(bE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,W=null,q=!0,H=!0,V=!1,K=!0,Y=!1,X=!0,J=!1,Z=!1,Q=!1,ee=!1,te=!1,re=!1,ne=!0,ie=!1,ae=!0,oe=!1,se={},le=null,ue=zE({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,he=zE({},["audio","video","img","source","image","track"]),de=null,fe=zE({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml",ye=ge,ve=!1,Te=null,Ce=zE({},[pe,me,ge],$E),xe=zE({},["mi","mo","mn","ms","mtext"]),be=zE({},["annotation-xml"]),ke=zE({},["title","style","font","a","script"]),_e=null,Se=["application/xhtml+xml","text/html"],Ae=null,Re=null,Ee=r.createElement("form"),we=$((function(e){return e instanceof RegExp||e instanceof Function}),"isRegexOrFunction"),Le=$((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Re||Re!==e){if((!e||"object"!=typeof e)&&(e={}),e=GE(e),_e=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ae="application/xhtml+xml"===_e?$E:LE,B=FE(e,"ALLOWED_TAGS")?zE({},e.ALLOWED_TAGS,Ae):D,U=FE(e,"ALLOWED_ATTR")?zE({},e.ALLOWED_ATTR,Ae):z,Te=FE(e,"ALLOWED_NAMESPACES")?zE({},e.ALLOWED_NAMESPACES,$E):Ce,de=FE(e,"ADD_URI_SAFE_ATTR")?zE(GE(fe),e.ADD_URI_SAFE_ATTR,Ae):fe,ce=FE(e,"ADD_DATA_URI_TAGS")?zE(GE(he),e.ADD_DATA_URI_TAGS,Ae):he,le=FE(e,"FORBID_CONTENTS")?zE({},e.FORBID_CONTENTS,Ae):ue,G=FE(e,"FORBID_TAGS")?zE({},e.FORBID_TAGS,Ae):{},W=FE(e,"FORBID_ATTR")?zE({},e.FORBID_ATTR,Ae):{},se=!!FE(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,H=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||sw,ye=e.NAMESPACE||ge,xe=e.MATHML_TEXT_INTEGRATION_POINTS||xe,be=e.HTML_INTEGRATION_POINTS||be,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(H=!1),te&&(ee=!0),se&&(B=zE({},JE),U=[],!0===se.html&&(zE(B,qE),zE(U,ZE)),!0===se.svg&&(zE(B,HE),zE(U,QE),zE(U,tw)),!0===se.svgFilters&&(zE(B,VE),zE(U,QE),zE(U,tw)),!0===se.mathMl&&(zE(B,YE),zE(U,ew),zE(U,tw))),e.ADD_TAGS&&(B===D&&(B=GE(B)),zE(B,e.ADD_TAGS,Ae)),e.ADD_ATTR&&(U===z&&(U=GE(U)),zE(U,e.ADD_ATTR,Ae)),e.ADD_URI_SAFE_ATTR&&zE(de,e.ADD_URI_SAFE_ATTR,Ae),e.FORBID_CONTENTS&&(le===ue&&(le=GE(le)),zE(le,e.FORBID_CONTENTS,Ae)),ae&&(B["#text"]=!0),J&&zE(B,["html","head","body"]),B.table&&(zE(B,["tbody"]),delete G.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw BE('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw BE('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=e.TRUSTED_TYPES_POLICY,x=C.createHTML("")}else void 0===C&&(C=Tw(f,i)),null!==C&&"string"==typeof x&&(x=C.createHTML(""));CE&&CE(e),Re=e}}),"_parseConfig"),$e=zE({},[...HE,...VE,...KE]),Ie=zE({},[...YE,...XE]),Ne=$((function(e){let t=T(e);(!t||!t.tagName)&&(t={namespaceURI:ye,tagName:"template"});let r=LE(e.tagName),n=LE(t.tagName);return!!Te[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===r:t.namespaceURI===pe?"svg"===r&&("annotation-xml"===n||xe[n]):!!$e[r]:e.namespaceURI===pe?t.namespaceURI===ge?"math"===r:t.namespaceURI===me?"math"===r&&be[n]:!!Ie[r]:e.namespaceURI===ge?!(t.namespaceURI===me&&!be[n]||t.namespaceURI===pe&&!xe[n])&&(!Ie[r]&&(ke[r]||!$e[r])):!("application/xhtml+xml"!==_e||!Te[e.namespaceURI]))}),"_checkValidNamespace"),Oe=$((function(e){EE(t.removed,{element:e});try{T(e).removeChild(e)}catch{g(e)}}),"_forceRemove"),Me=$((function(e,r){try{EE(t.removed,{attribute:r.getAttributeNode(e),from:r})}catch{EE(t.removed,{attribute:null,from:r})}if(r.removeAttribute(e),"is"===e)if(ee||te)try{Oe(r)}catch{}else try{r.setAttribute(e,"")}catch{}}),"_removeAttribute"),Fe=$((function(e){let t=null,n=null;if(Q)e="<remove></remove>"+e;else{let t=IE(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===_e&&ye===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let i=C?C.createHTML(e):e;if(ye===ge)try{t=(new d).parseFromString(i,_e)}catch{}if(!t||!t.documentElement){t=b.createDocument(ye,"template",null);try{t.documentElement.innerHTML=ve?x:i}catch{}}let a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),ye===ge?S.call(t,J?"html":"body")[0]:J?t.documentElement:a}),"_initDocument"),Pe=$((function(e){return k.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)}),"_createNodeIterator"),Be=$((function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof c)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)}),"_isClobbered"),De=$((function(e){return"function"==typeof s&&e instanceof s}),"_isNode");function Ue(e,r,n){SE(e,(e=>{e.call(t,r,n,Re)}))}$(Ue,"_executeHooks");let ze=$((function(e){let r=null;if(Ue(R.beforeSanitizeElements,e,null),Be(e))return Oe(e),!0;let n=Ae(e.nodeName);if(Ue(R.uponSanitizeElement,e,{tagName:n,allowedTags:B}),e.hasChildNodes()&&!De(e.firstElementChild)&&PE(/<[/\w!]/g,e.innerHTML)&&PE(/<[/\w!]/g,e.textContent)||e.nodeType===mw||X&&e.nodeType===gw&&PE(/<[/\w]/g,e.data))return Oe(e),!0;if(!B[n]||G[n]){if(!G[n]&&Ge(n)&&(j.tagNameCheck instanceof RegExp&&PE(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n)))return!1;if(ae&&!le[n]){let t=T(e)||e.parentNode,r=v(e)||e.childNodes;if(r&&t){for(let n=r.length-1;n>=0;--n){let i=m(r[n],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,y(e))}}}return Oe(e),!0}return e instanceof l&&!Ne(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&PE(/<\/no(script|embed|frames)/i,e.innerHTML)?(Oe(e),!0):(Y&&e.nodeType===pw&&(r=e.textContent,SE([E,w,L],(e=>{r=NE(r,e," ")})),e.textContent!==r&&(EE(t.removed,{element:e.cloneNode()}),e.textContent=r)),Ue(R.afterSanitizeElements,e,null),!1)}),"_sanitizeElements"),je=$((function(e,t,n){if(ne&&("id"===t||"name"===t)&&(n in r||n in Ee))return!1;if((!H||W[t]||!PE(I,t))&&(!q||!PE(N,t)))if(!U[t]||W[t]){if(!(Ge(e)&&(j.tagNameCheck instanceof RegExp&&PE(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&PE(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&PE(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(!de[t]&&!PE(P,NE(n,M,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==OE(n,"data:")||!ce[e])&&(!V||PE(O,NE(n,M,"")))&&n)return!1;return!0}),"_isValidAttribute"),Ge=$((function(e){return"annotation-xml"!==e&&IE(e,F)}),"_isBasicCustomElement"),We=$((function(e){Ue(R.beforeSanitizeAttributes,e,null);let{attributes:r}=e;if(!r||Be(e))return;let n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0},i=r.length;for(;i--;){let a=r[i],{name:o,namespaceURI:s,value:l}=a,u=Ae(o),c="value"===o?l:ME(l);if(n.attrName=u,n.attrValue=c,n.keepAttr=!0,n.forceKeepAttr=void 0,Ue(R.uponSanitizeAttribute,e,n),c=n.attrValue,ie&&("id"===u||"name"===u)&&(Me(o,e),c="user-content-"+c),X&&PE(/((--!?|])>)|<\/(style|title)/i,c)){Me(o,e);continue}if(n.forceKeepAttr||(Me(o,e),!n.keepAttr))continue;if(!K&&PE(/\/>/i,c)){Me(o,e);continue}Y&&SE([E,w,L],(e=>{c=NE(c,e," ")}));let h=Ae(e.nodeName);if(je(h,u,c)){if(C&&"object"==typeof f&&"function"==typeof f.getAttributeType&&!s)switch(f.getAttributeType(h,u)){case"TrustedHTML":c=C.createHTML(c);break;case"TrustedScriptURL":c=C.createScriptURL(c)}try{s?e.setAttributeNS(s,o,c):e.setAttribute(o,c),Be(e)?Oe(e):RE(t.removed)}catch{}}}Ue(R.afterSanitizeAttributes,e,null)}),"_sanitizeAttributes"),qe=$((function e(t){let r=null,n=Pe(t);for(Ue(R.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)Ue(R.uponSanitizeShadowNode,r,null),ze(r),We(r),r.content instanceof a&&e(r.content);Ue(R.afterSanitizeShadowDOM,t,null)}),"_sanitizeShadowDOM");return t.sanitize=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,o=null,l=null,u=null;if(ve=!e,ve&&(e="\x3c!--\x3e"),"string"!=typeof e&&!De(e)){if("function"!=typeof e.toString)throw BE("toString is not a function");if("string"!=typeof(e=e.toString()))throw BE("dirty is not a string, aborting")}if(!t.isSupported)return e;if(Z||Le(r),t.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){let t=Ae(e.nodeName);if(!B[t]||G[t])throw BE("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)i=Fe("\x3c!----\x3e"),o=i.ownerDocument.importNode(e,!0),o.nodeType===fw&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!ee&&!Y&&!J&&-1===e.indexOf("<"))return C&&re?C.createHTML(e):e;if(i=Fe(e),!i)return ee?null:re?x:""}i&&Q&&Oe(i.firstChild);let c=Pe(oe?e:i);for(;l=c.nextNode();)ze(l),We(l),l.content instanceof a&&qe(l.content);if(oe)return e;if(ee){if(te)for(u=_.call(i.ownerDocument);i.firstChild;)u.appendChild(i.firstChild);else u=i;return(U.shadowroot||U.shadowrootmode)&&(u=A.call(n,u,!0)),u}let h=J?i.outerHTML:i.innerHTML;return J&&B["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&PE(cw,i.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+h),Y&&SE([E,w,L],(e=>{h=NE(h,e," ")})),C&&re?C.createHTML(h):h},t.setConfig=function(){Le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Z=!0},t.clearConfig=function(){Re=null,Z=!1},t.isValidAttribute=function(e,t,r){Re||Le({});let n=Ae(e),i=Ae(t);return je(n,i,r)},t.addHook=function(e,t){"function"==typeof t&&EE(R[e],t)},t.removeHook=function(e,t){if(void 0!==t){let r=AE(R[e],t);return-1===r?void 0:wE(R[e],r,1)[0]}return RE(R[e])},t.removeHooks=function(e){R[e]=[]},t.removeAllHooks=function(){R=Cw()},t}$(xw,"createDOMPurify");var bw=xw(),kw=/<br\s*\/?>/gi;$((e=>e?Lw(e).replace(/\\n/g,"#br#").split("#br#"):[""]),"getRows");var _w=(()=>{let e=!1;return()=>{e||(Sw(),e=!0)}})();function Sw(){let e="data-temp-href-target";bw.addHook("beforeSanitizeAttributes",(t=>{"A"===t.tagName&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")})),bw.addHook("afterSanitizeAttributes",(t=>{"A"===t.tagName&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),"_blank"===t.getAttribute("target")&&t.setAttribute("rel","noopener"))}))}$(Sw,"setupDompurifyHooks");var Aw=$((e=>(_w(),bw.sanitize(e))),"removeScript"),Rw=$(((e,t)=>{if(!1!==t.flowchart?.htmlLabels){let r=t.securityLevel;"antiscript"===r||"strict"===r?e=Aw(e):"loose"!==r&&(e=(e=(e=Lw(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),e=ww(e))}return e}),"sanitizeMore"),Ew=$(((e,t)=>e&&(e=t.dompurifyConfig?bw.sanitize(Rw(e,t),t.dompurifyConfig).toString():bw.sanitize(Rw(e,t),{FORBID_TAGS:["style"]}).toString())),"sanitizeText");$(((e,t)=>"string"==typeof e?Ew(e,t):e.flat().map((e=>Ew(e,t)))),"sanitizeTextOrArray"),$((e=>kw.test(e)),"hasBreaks"),$((e=>e.split(kw)),"splitBreaks");var ww=$((e=>e.replace(/#br#/g,"<br/>")),"placeholderToBreak"),Lw=$((e=>e.replace(kw,"#br#")),"breakToPlaceholder");$((e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t}),"getUrl"),$((e=>!(!1===e||["false","null","0"].includes(String(e).trim().toLowerCase()))),"evaluate"),$((function(...e){let t=e.filter((e=>!isNaN(e)));return Math.max(...t)}),"getMax"),$((function(...e){let t=e.filter((e=>!isNaN(e)));return Math.min(...t)}),"getMin"),$((function(e){let t=e.split(/(,)/),r=[];for(let e=0;e<t.length;e++){let n=t[e];if(","===n&&e>0&&e+1<t.length){let i=t[e-1],a=t[e+1];Iw(i,a)&&(n=i+","+a,e++,r.pop())}r.push(Nw(n))}return r.join("")}),"parseGenericTypes");var $w=$(((e,t)=>Math.max(0,e.split(t).length-1)),"countOccurrence"),Iw=$(((e,t)=>{let r=$w(e,"~"),n=$w(t,"~");return 1===r&&1===n}),"shouldCombineSets"),Nw=$((e=>{let t=$w(e,"~"),r=!1;if(t<=1)return e;t%2!=0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let n=[...e],i=n.indexOf("~"),a=n.lastIndexOf("~");for(;-1!==i&&-1!==a&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")}),"processSet"),Ow=$((()=>void 0!==window.MathMLElement),"isMathMLSupported"),Mw=/\$\$(.*)\$\$/g,Fw=$((e=>(e.match(Mw)?.length??0)>0),"hasKatex");$((async(e,t)=>{let r=document.createElement("div");r.innerHTML=await Bw(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);let n={width:r.clientWidth,height:r.clientHeight};return r.remove(),n}),"calculateMathMLDimensions");var Pw=$((async(e,t)=>{if(!Fw(e))return e;if(!(Ow()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Mw,"MathML is unsupported in this environment.");{let{default:r}=await import("./katex-RV2QPRKB.mjs._esm.js"),n=t.forceLegacyMathML||!Ow()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(kw).map((e=>Fw(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`)).join("").replace(Mw,((e,t)=>r.renderToString(t,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,"")))}}),"renderKatexUnsanitized"),Bw=$((async(e,t)=>Ew(await Pw(e,t),t)),"renderKatexSanitized"),Dw=$((function(e,t){for(let r of t)e.attr(r[0],r[1])}),"d3Attrs"),Uw=$((function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n}),"calculateSvgSizeAttrs"),zw=$((function(e,t,r,n){let i=Uw(t,r,n);Dw(e,i)}),"configureSvgSize"),jw=$((function(e,t,r,n){let i=t.node().getBBox(),a=i.width,o=i.height;NA.info(`SVG bounds: ${a}x${o}`,i);let s=0,l=0;NA.info(`Graph bounds: ${s}x${l}`,e),s=a+2*r,l=o+2*r,NA.info(`Calculated bounds: ${s}x${l}`),zw(t,l,s,n);let u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",u)}),"setupGraphViewbox"),Gw={};$(((e,t,r)=>{let n="";return e in Gw&&Gw[e]?n=Gw[e](r):NA.warn(`No theme found for ${e}`),` & {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n    fill: ${r.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${r.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${r.errorTextColor};\n    stroke: ${r.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${r.lineColor};\n    stroke: ${r.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${r.lineColor};\n  }\n\n  & svg {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${n}\n\n  ${t}\n`}),"getStyles");var Ww=$(((e,t)=>{void 0!==t&&(Gw[e]=t)}),"addStylesForDiagram"),qw={};N(qw,{clear:()=>Xw,getAccDescription:()=>eL,getAccTitle:()=>Zw,getDiagramTitle:()=>rL,setAccDescription:()=>Qw,setAccTitle:()=>Jw,setDiagramTitle:()=>tL});var Hw="",Vw="",Kw="",Yw=$((e=>Ew(e,uE())),"sanitizeText"),Xw=$((()=>{Hw="",Kw="",Vw=""}),"clear"),Jw=$((e=>{Hw=Yw(e).replace(/^\s+/g,"")}),"setAccTitle"),Zw=$((()=>Hw),"getAccTitle"),Qw=$((e=>{Kw=Yw(e).replace(/\n\s+/g,"\n")}),"setAccDescription"),eL=$((()=>Kw),"getAccDescription"),tL=$((e=>{Vw=Yw(e)}),"setDiagramTitle"),rL=$((()=>Vw),"getDiagramTitle"),nL=NA,iL=OA,aL=uE,oL=$((e=>Ew(e,aL())),"sanitizeText"),sL=jw,lL=$((()=>qw),"getCommonDb"),uL={};$(((e,t,r)=>{uL[e]&&nL.warn(`Diagram with id ${e} already registered. Overwriting.`),uL[e]=t,r&&zA(e,r),Ww(e,t.styles),t.injectUtils?.(nL,iL,aL,oL,sL,lL(),(()=>{}))}),"registerDiagram"),$((e=>{if(e in uL)return uL[e];throw new cL(e)}),"getDiagram");var cL=class extends Error{static{$(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}};function hL(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dL(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fL(e){let t,r,n;function i(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{let t=i+a>>>1;r(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}function a(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{let t=i+a>>>1;r(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}function o(e,t,r=0,a=e.length){let o=i(e,t,r,a-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o}return 2!==e.length?(t=hL,r=$(((t,r)=>hL(e(t),r)),"compare2"),n=$(((t,r)=>e(t)-r),"delta")):(t=e===hL||e===dL?e:pL,r=e,n=e),$(i,"left"),$(a,"right"),$(o,"center"),{left:i,center:o,right:a}}function pL(){return 0}function mL(e){return null===e?NaN:+e}$((function(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}),"max"),$((function(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}),"min"),$(hL,"ascending"),$(dL,"descending"),$(fL,"bisector"),$(pL,"zero"),$(mL,"number");var gL=fL(hL),yL=gL.right;gL.left,fL(mL).center;var vL=yL,TL=class extends Map{static{$(this,"InternMap")}constructor(e,t=kL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,r]of e)this.set(t,r)}get(e){return super.get(CL(this,e))}has(e){return super.has(CL(this,e))}set(e,t){return super.set(xL(this,e),t)}delete(e){return super.delete(bL(this,e))}};function CL({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function xL({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bL({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kL(e){return null!==e&&"object"==typeof e?e.valueOf():e}$(CL,"intern_get"),$(xL,"intern_set"),$(bL,"intern_delete"),$(kL,"keyof");var _L=Math.sqrt(50),SL=Math.sqrt(10),AL=Math.sqrt(2);function RL(e,t,r){let n,i,a,o=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),u=l>=_L?10:l>=SL?5:l>=AL?2:1;return s<0?(a=Math.pow(10,-s)/u,n=Math.round(e*a),i=Math.round(t*a),n/a<e&&++n,i/a>t&&--i,a=-a):(a=Math.pow(10,s)*u,n=Math.round(e/a),i=Math.round(t/a),n*a<e&&++n,i*a>t&&--i),i<n&&.5<=r&&r<2?RL(e,t,2*r):[n,i,a]}function EL(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];let n=t<e,[i,a,o]=n?RL(t,e,r):RL(e,t,r);if(!(a>=i))return[];let s=a-i+1,l=new Array(s);if(n)if(o<0)for(let e=0;e<s;++e)l[e]=(a-e)/-o;else for(let e=0;e<s;++e)l[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)l[e]=(i+e)/-o;else for(let e=0;e<s;++e)l[e]=(i+e)*o;return l}function wL(e,t,r){return RL(e=+e,t=+t,r=+r)[2]}function LL(e,t,r){r=+r;let n=(t=+t)<(e=+e),i=n?wL(t,e,r):wL(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function $L(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}function IL(e){return e}$(RL,"tickSpec"),$(EL,"ticks"),$(wL,"tickIncrement"),$(LL,"tickStep"),$($L,"range"),$(IL,"default");var NL=1e-6;function OL(e){return"translate("+e+",0)"}function ML(e){return"translate(0,"+e+")"}function FL(e){return t=>+e(t)}function PL(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function BL(){return!this.__axis}function DL(e,t){var r=[],n=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1===e||4===e?-1:1,c=4===e||2===e?"x":"y",h=1===e||3===e?OL:ML;function d(d){var f=n??(t.ticks?t.ticks.apply(t,r):t.domain()),p=i??(t.tickFormat?t.tickFormat.apply(t,r):IL),m=Math.max(a,0)+s,g=t.range(),y=+g[0]+l,v=+g[g.length-1]+l,T=(t.bandwidth?PL:FL)(t.copy(),l),C=d.selection?d.selection():d,x=C.selectAll(".domain").data([null]),b=C.selectAll(".tick").data(f,t).order(),k=b.exit(),_=b.enter().append("g").attr("class","tick"),S=b.select("line"),A=b.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(_),S=S.merge(_.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),A=A.merge(_.append("text").attr("fill","currentColor").attr(c,u*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),d!==C&&(x=x.transition(d),b=b.transition(d),S=S.transition(d),A=A.transition(d),k=k.transition(d).attr("opacity",NL).attr("transform",(function(e){return isFinite(e=T(e))?h(e+l):this.getAttribute("transform")})),_.attr("opacity",NL).attr("transform",(function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:T(e))+l)}))),k.remove(),x.attr("d",4===e||2===e?o?"M"+u*o+","+y+"H"+l+"V"+v+"H"+u*o:"M"+l+","+y+"V"+v:o?"M"+y+","+u*o+"V"+l+"H"+v+"V"+u*o:"M"+y+","+l+"H"+v),b.attr("opacity",1).attr("transform",(function(e){return h(T(e)+l)})),S.attr(c+"2",u*a),A.attr(c,u*m).text(p),C.filter(BL).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),C.each((function(){this.__axis=T}))}return $(d,"axis"),d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(e){return arguments.length?(r=null==e?[]:Array.from(e),d):r.slice()},d.tickValues=function(e){return arguments.length?(n=null==e?null:Array.from(e),d):n&&n.slice()},d.tickFormat=function(e){return arguments.length?(i=e,d):i},d.tickSize=function(e){return arguments.length?(a=o=+e,d):a},d.tickSizeInner=function(e){return arguments.length?(a=+e,d):a},d.tickSizeOuter=function(e){return arguments.length?(o=+e,d):o},d.tickPadding=function(e){return arguments.length?(s=+e,d):s},d.offset=function(e){return arguments.length?(l=+e,d):l},d}function UL(){}function zL(e){return null==e?UL:function(){return this.querySelector(e)}}function jL(e){"function"!=typeof e&&(e=zL(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o,s=t[i],l=s.length,u=n[i]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new FI(n,this._parents)}function GL(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function WL(){return[]}function qL(e){return null==e?WL:function(){return this.querySelectorAll(e)}}function HL(e){return function(){return GL(e.apply(this,arguments))}}function VL(e){e="function"==typeof e?HL(e):qL(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o,s=t[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(n.push(e.call(o,o.__data__,u,s)),i.push(o));return new FI(n,i)}function KL(e){return function(){return this.matches(e)}}function YL(e){return function(t){return t.matches(e)}}$(OL,"translateX"),$(ML,"translateY"),$(FL,"number"),$(PL,"center"),$(BL,"entering"),$(DL,"axis"),$((function(e){return DL(1,e)}),"axisTop"),$((function(e){return DL(3,e)}),"axisBottom"),$(UL,"none"),$(zL,"default"),$(jL,"default"),$(GL,"array"),$(WL,"empty"),$(qL,"default"),$(HL,"arrayAll"),$(VL,"default"),$(KL,"default"),$(YL,"childMatcher");var XL=Array.prototype.find;function JL(e){return function(){return XL.call(this.children,e)}}function ZL(){return this.firstElementChild}function QL(e){return this.select(null==e?ZL:JL("function"==typeof e?e:YL(e)))}$(JL,"childFind"),$(ZL,"childFirst"),$(QL,"default");var e$=Array.prototype.filter;function t$(){return Array.from(this.children)}function r$(e){return function(){return e$.call(this.children,e)}}function n$(e){return this.selectAll(null==e?t$:r$("function"==typeof e?e:YL(e)))}function i$(e){"function"!=typeof e&&(e=KL(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o=t[i],s=o.length,l=n[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new FI(n,this._parents)}function a$(e){return new Array(e.length)}function o$(){return new FI(this._enter||this._groups.map(a$),this._parents)}function s$(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function l$(e){return function(){return e}}function u$(e,t,r,n,i,a){for(var o,s=0,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],n[s]=o):r[s]=new s$(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function c$(e,t,r,n,i,a,o){var s,l,u,c=new Map,h=t.length,d=a.length,f=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(f[s]=u=o.call(l,l.__data__,s,t)+"",c.has(u)?i[s]=l:c.set(u,l));for(s=0;s<d;++s)u=o.call(e,a[s],s,a)+"",(l=c.get(u))?(n[s]=l,l.__data__=a[s],c.delete(u)):r[s]=new s$(e,a[s]);for(s=0;s<h;++s)(l=t[s])&&c.get(f[s])===l&&(i[s]=l)}function h$(e){return e.__data__}function d$(e,t){if(!arguments.length)return Array.from(this,h$);var r=t?c$:u$,n=this._parents,i=this._groups;"function"!=typeof e&&(e=l$(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=n[u],h=i[u],d=h.length,f=f$(e.call(c,c&&c.__data__,u,n)),p=f.length,m=s[u]=new Array(p),g=o[u]=new Array(p);r(c,h,m,g,l[u]=new Array(d),f,t);for(var y,v,T=0,C=0;T<p;++T)if(y=m[T]){for(T>=C&&(C=T+1);!(v=g[C])&&++C<p;);y._next=v||null}}return(o=new FI(o,n))._enter=s,o._exit=l,o}function f$(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function p$(){return new FI(this._exit||this._groups.map(a$),this._parents)}function m$(e,t,r){var n=this.enter(),i=this,a=this.exit();return"function"==typeof e?(n=e(n))&&(n=n.selection()):n=n.append(e+""),null!=t&&((i=t(i))&&(i=i.selection())),null==r?a.remove():r(a),n&&i?n.merge(i).order():i}function g$(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u,c=r[l],h=n[l],d=c.length,f=s[l]=new Array(d),p=0;p<d;++p)(u=c[p]||h[p])&&(f[p]=u);for(;l<i;++l)s[l]=r[l];return new FI(s,this._parents)}function y$(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],a=i.length-1,o=i[a];--a>=0;)(n=i[a])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this}function v$(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=T$),$(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o,s=r[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(t)}return new FI(i,this._parents).order()}function T$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function C$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function x$(){return Array.from(this)}function b$(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function k$(){let e=0;for(let t of this)++e;return e}function _$(){return!this.node()}function S$(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,a=t[r],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}$(t$,"children"),$(r$,"childrenFilter"),$(n$,"default"),$(i$,"default"),$(a$,"default"),$(o$,"default"),$(s$,"EnterNode"),s$.prototype={constructor:s$,appendChild:$((function(e){return this._parent.insertBefore(e,this._next)}),"appendChild"),insertBefore:$((function(e,t){return this._parent.insertBefore(e,t)}),"insertBefore"),querySelector:$((function(e){return this._parent.querySelector(e)}),"querySelector"),querySelectorAll:$((function(e){return this._parent.querySelectorAll(e)}),"querySelectorAll")},$(l$,"default"),$(u$,"bindIndex"),$(c$,"bindKey"),$(h$,"datum"),$(d$,"default"),$(f$,"arraylike"),$(p$,"default"),$(m$,"default"),$(g$,"default"),$(y$,"default"),$(v$,"default"),$(T$,"ascending"),$(C$,"default"),$(x$,"default"),$(b$,"default"),$(k$,"default"),$(_$,"default"),$(S$,"default");var A$="http://www.w3.org/1999/xhtml",R$={svg:"http://www.w3.org/2000/svg",xhtml:A$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function E$(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),R$.hasOwnProperty(t)?{space:R$[t],local:e}:e}function w$(e){return function(){this.removeAttribute(e)}}function L$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $$(e,t){return function(){this.setAttribute(e,t)}}function I$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function N$(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function O$(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function M$(e,t){var r=E$(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?L$:w$:"function"==typeof t?r.local?O$:N$:r.local?I$:$$)(r,t))}function F$(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function P$(e){return function(){this.style.removeProperty(e)}}function B$(e,t,r){return function(){this.style.setProperty(e,t,r)}}function D$(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function U$(e,t,r){return arguments.length>1?this.each((null==t?P$:"function"==typeof t?D$:B$)(e,t,r??"")):z$(this.node(),e)}function z$(e,t){return e.style.getPropertyValue(t)||F$(e).getComputedStyle(e,null).getPropertyValue(t)}function j$(e){return function(){delete this[e]}}function G$(e,t){return function(){this[e]=t}}function W$(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function q$(e,t){return arguments.length>1?this.each((null==t?j$:"function"==typeof t?W$:G$)(e,t)):this.node()[e]}function H$(e){return e.trim().split(/^|\s+/)}function V$(e){return e.classList||new K$(e)}function K$(e){this._node=e,this._names=H$(e.getAttribute("class")||"")}function Y$(e,t){for(var r=V$(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function X$(e,t){for(var r=V$(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function J$(e){return function(){Y$(this,e)}}function Z$(e){return function(){X$(this,e)}}function Q$(e,t){return function(){(t.apply(this,arguments)?Y$:X$)(this,e)}}function eI(e,t){var r=H$(e+"");if(arguments.length<2){for(var n=V$(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof t?Q$:t?J$:Z$)(r,t))}function tI(){this.textContent=""}function rI(e){return function(){this.textContent=e}}function nI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function iI(e){return arguments.length?this.each(null==e?tI:("function"==typeof e?nI:rI)(e)):this.node().textContent}function aI(){this.innerHTML=""}function oI(e){return function(){this.innerHTML=e}}function sI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function lI(e){return arguments.length?this.each(null==e?aI:("function"==typeof e?sI:oI)(e)):this.node().innerHTML}function uI(){this.nextSibling&&this.parentNode.appendChild(this)}function cI(){return this.each(uI)}function hI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dI(){return this.each(hI)}function fI(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===A$&&t.documentElement.namespaceURI===A$?t.createElement(e):t.createElementNS(r,e)}}function pI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mI(e){var t=E$(e);return(t.local?pI:fI)(t)}function gI(e){var t="function"==typeof e?e:mI(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function yI(){return null}function vI(e,t){var r="function"==typeof e?e:mI(e),n=null==t?yI:"function"==typeof t?t:zL(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)}))}function TI(){var e=this.parentNode;e&&e.removeChild(this)}function CI(){return this.each(TI)}function xI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kI(e){return this.select(e?bI:xI)}function _I(e){return arguments.length?this.property("__data__",e):this.node().__data__}function SI(e){return function(t){e.call(this,t,this.__data__)}}function AI(e){return e.trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}}))}function RI(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,a=t.length;n<a;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function EI(e,t,r){return function(){var n,i=this.__on,a=SI(t);if(i)for(var o=0,s=i.length;o<s;++o)if((n=i[o]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),void(n.value=t);this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(n):this.__on=[n]}}function wI(e,t,r){var n,i,a=AI(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?EI:RI,n=0;n<o;++n)this.each(s(a[n],t,r));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(n=0,l=s[u];n<o;++n)if((i=a[n]).type===l.type&&i.name===l.name)return l.value}function LI(e,t,r){var n=F$(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $I(e,t){return function(){return LI(this,e,t)}}function II(e,t){return function(){return LI(this,e,t.apply(this,arguments))}}function NI(e,t){return this.each(("function"==typeof t?II:$I)(e,t))}function*OI(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n,i=e[t],a=0,o=i.length;a<o;++a)(n=i[a])&&(yield n)}$(E$,"default"),$(w$,"attrRemove"),$(L$,"attrRemoveNS"),$($$,"attrConstant"),$(I$,"attrConstantNS"),$(N$,"attrFunction"),$(O$,"attrFunctionNS"),$(M$,"default"),$(F$,"default"),$(P$,"styleRemove"),$(B$,"styleConstant"),$(D$,"styleFunction"),$(U$,"default"),$(z$,"styleValue"),$(j$,"propertyRemove"),$(G$,"propertyConstant"),$(W$,"propertyFunction"),$(q$,"default"),$(H$,"classArray"),$(V$,"classList"),$(K$,"ClassList"),K$.prototype={add:$((function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))}),"add"),remove:$((function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))}),"remove"),contains:$((function(e){return this._names.indexOf(e)>=0}),"contains")},$(Y$,"classedAdd"),$(X$,"classedRemove"),$(J$,"classedTrue"),$(Z$,"classedFalse"),$(Q$,"classedFunction"),$(eI,"default"),$(tI,"textRemove"),$(rI,"textConstant"),$(nI,"textFunction"),$(iI,"default"),$(aI,"htmlRemove"),$(oI,"htmlConstant"),$(sI,"htmlFunction"),$(lI,"default"),$(uI,"raise"),$(cI,"default"),$(hI,"lower"),$(dI,"default"),$(fI,"creatorInherit"),$(pI,"creatorFixed"),$(mI,"default"),$(gI,"default"),$(yI,"constantNull"),$(vI,"default"),$(TI,"remove"),$(CI,"default"),$(xI,"selection_cloneShallow"),$(bI,"selection_cloneDeep"),$(kI,"default"),$(_I,"default"),$(SI,"contextListener"),$(AI,"parseTypenames"),$(RI,"onRemove"),$(EI,"onAdd"),$(wI,"default"),$(LI,"dispatchEvent"),$($I,"dispatchConstant"),$(II,"dispatchFunction"),$(NI,"default"),$(OI,"default");var MI=[null];function FI(e,t){this._groups=e,this._parents=t}function PI(){return new FI([[document.documentElement]],MI)}function BI(){return this}$(FI,"Selection"),$(PI,"selection"),$(BI,"selection_selection"),FI.prototype=PI.prototype={constructor:FI,select:jL,selectAll:VL,selectChild:QL,selectChildren:n$,filter:i$,data:d$,enter:o$,exit:p$,join:m$,merge:g$,selection:BI,order:y$,sort:v$,call:C$,nodes:x$,node:b$,size:k$,empty:_$,each:S$,attr:M$,style:U$,property:q$,classed:eI,text:iI,html:lI,raise:cI,lower:dI,append:gI,insert:vI,remove:CI,clone:kI,datum:_I,on:wI,dispatch:NI,[Symbol.iterator]:OI};var DI=PI;function UI(e){return"string"==typeof e?new FI([[document.querySelector(e)]],[document.documentElement]):new FI([[e]],MI)}function zI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function GI(){}$(UI,"default"),$(zI,"default"),$(jI,"extend"),$(GI,"Color");var WI=.7,qI=1/WI,HI="\\s*([+-]?\\d+)\\s*",VI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",KI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YI=/^#([0-9a-f]{3,8})$/,XI=new RegExp(`^rgb\\(${HI},${HI},${HI}\\)$`),JI=new RegExp(`^rgb\\(${KI},${KI},${KI}\\)$`),ZI=new RegExp(`^rgba\\(${HI},${HI},${HI},${VI}\\)$`),QI=new RegExp(`^rgba\\(${KI},${KI},${KI},${VI}\\)$`),eN=new RegExp(`^hsl\\(${VI},${KI},${KI}\\)$`),tN=new RegExp(`^hsla\\(${VI},${KI},${KI},${VI}\\)$`),rN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nN(){return this.rgb().formatHex()}function iN(){return this.rgb().formatHex8()}function aN(){return CN(this).formatHsl()}function oN(){return this.rgb().formatRgb()}function sN(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=YI.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?lN(t):3===r?new dN(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?uN(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?uN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=XI.exec(e))?new dN(t[1],t[2],t[3],1):(t=JI.exec(e))?new dN(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ZI.exec(e))?uN(t[1],t[2],t[3],t[4]):(t=QI.exec(e))?uN(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eN.exec(e))?TN(t[1],t[2]/100,t[3]/100,1):(t=tN.exec(e))?TN(t[1],t[2]/100,t[3]/100,t[4]):rN.hasOwnProperty(e)?lN(rN[e]):"transparent"===e?new dN(NaN,NaN,NaN,0):null}function lN(e){return new dN(e>>16&255,e>>8&255,255&e,1)}function uN(e,t,r,n){return n<=0&&(e=t=r=NaN),new dN(e,t,r,n)}function cN(e){return e instanceof GI||(e=sN(e)),e?new dN((e=e.rgb()).r,e.g,e.b,e.opacity):new dN}function hN(e,t,r,n){return 1===arguments.length?cN(e):new dN(e,t,r,n??1)}function dN(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function fN(){return`#${vN(this.r)}${vN(this.g)}${vN(this.b)}`}function pN(){return`#${vN(this.r)}${vN(this.g)}${vN(this.b)}${vN(255*(isNaN(this.opacity)?1:this.opacity))}`}function mN(){let e=gN(this.opacity);return`${1===e?"rgb(":"rgba("}${yN(this.r)}, ${yN(this.g)}, ${yN(this.b)}${1===e?")":`, ${e})`}`}function gN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yN(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vN(e){return((e=yN(e))<16?"0":"")+e.toString(16)}function TN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bN(e,t,r,n)}function CN(e){if(e instanceof bN)return new bN(e.h,e.s,e.l,e.opacity);if(e instanceof GI||(e=sN(e)),!e)return new bN;if(e instanceof bN)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new bN(o,s,l,e.opacity)}function xN(e,t,r,n){return 1===arguments.length?CN(e):new bN(e,t,r,n??1)}function bN(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function kN(e){return(e=(e||0)%360)<0?e+360:e}function _N(e){return Math.max(0,Math.min(1,e||0))}function SN(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}zI(GI,sN,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nN,formatHex:nN,formatHex8:iN,formatHsl:aN,formatRgb:oN,toString:oN}),$(nN,"color_formatHex"),$(iN,"color_formatHex8"),$(aN,"color_formatHsl"),$(oN,"color_formatRgb"),$(sN,"color"),$(lN,"rgbn"),$(uN,"rgba"),$(cN,"rgbConvert"),$(hN,"rgb"),$(dN,"Rgb"),zI(dN,hN,jI(GI,{brighter(e){return e=null==e?qI:Math.pow(qI,e),new dN(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?WI:Math.pow(WI,e),new dN(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dN(yN(this.r),yN(this.g),yN(this.b),gN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fN,formatHex:fN,formatHex8:pN,formatRgb:mN,toString:mN})),$(fN,"rgb_formatHex"),$(pN,"rgb_formatHex8"),$(mN,"rgb_formatRgb"),$(gN,"clampa"),$(yN,"clampi"),$(vN,"hex"),$(TN,"hsla"),$(CN,"hslConvert"),$(xN,"hsl"),$(bN,"Hsl"),zI(bN,xN,jI(GI,{brighter(e){return e=null==e?qI:Math.pow(qI,e),new bN(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?WI:Math.pow(WI,e),new bN(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new dN(SN(e>=240?e-240:e+120,i,n),SN(e,i,n),SN(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new bN(kN(this.h),_N(this.s),_N(this.l),gN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=gN(this.opacity);return`${1===e?"hsl(":"hsla("}${kN(this.h)}, ${100*_N(this.s)}%, ${100*_N(this.l)}%${1===e?")":`, ${e})`}`}})),$(kN,"clamph"),$(_N,"clampt"),$(SN,"hsl2rgb");var AN=Math.PI/180,RN=180/Math.PI,EN=.96422,wN=.82521,LN=4/29,$N=6/29,IN=3*$N*$N,NN=$N*$N*$N;function ON(e){if(e instanceof FN)return new FN(e.l,e.a,e.b,e.opacity);if(e instanceof GN)return WN(e);e instanceof dN||(e=cN(e));var t,r,n=UN(e.r),i=UN(e.g),a=UN(e.b),o=PN((.2225045*n+.7168786*i+.0606169*a)/1);return n===i&&i===a?t=r=o:(t=PN((.4360747*n+.3850649*i+.1430804*a)/EN),r=PN((.0139322*n+.0971045*i+.7141733*a)/wN)),new FN(116*o-16,500*(t-o),200*(o-r),e.opacity)}function MN(e,t,r,n){return 1===arguments.length?ON(e):new FN(e,t,r,n??1)}function FN(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function PN(e){return e>NN?Math.pow(e,1/3):e/IN+LN}function BN(e){return e>$N?e*e*e:IN*(e-LN)}function DN(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function UN(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zN(e){if(e instanceof GN)return new GN(e.h,e.c,e.l,e.opacity);if(e instanceof FN||(e=ON(e)),0===e.a&&0===e.b)return new GN(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*RN;return new GN(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function jN(e,t,r,n){return 1===arguments.length?zN(e):new GN(e,t,r,n??1)}function GN(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function WN(e){if(isNaN(e.h))return new FN(e.l,0,0,e.opacity);var t=e.h*AN;return new FN(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}$(ON,"labConvert"),$(MN,"lab"),$(FN,"Lab"),zI(FN,MN,jI(GI,{brighter(e){return new FN(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new FN(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new dN(DN(3.1338561*(t=EN*BN(t))-1.6168667*(e=1*BN(e))-.4906146*(r=wN*BN(r))),DN(-.9787684*t+1.9161415*e+.033454*r),DN(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),$(PN,"xyz2lab"),$(BN,"lab2xyz"),$(DN,"lrgb2rgb"),$(UN,"rgb2lrgb"),$(zN,"hclConvert"),$(jN,"hcl"),$(GN,"Hcl"),$(WN,"hcl2lab"),zI(GN,jN,jI(GI,{brighter(e){return new GN(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new GN(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return WN(this).rgb()}}));var qN=$((e=>()=>e),"default");function HN(e,t){return function(r){return e+r*t}}function VN(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function KN(e){return 1==(e=+e)?YN:function(t,r){return r-t?VN(t,r,e):qN(isNaN(t)?r:t)}}function YN(e,t){var r=t-e;return r?HN(e,r):qN(isNaN(e)?t:e)}function XN(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}$(HN,"linear"),$(VN,"exponential"),$((function(e,t){var r=t-e;return r?HN(e,r>180||r<-180?r-360*Math.round(r/360):r):qN(isNaN(e)?t:e)}),"hue"),$(KN,"gamma"),$(YN,"nogamma"),$((function(e){return function(t,r){var n=e((t=jN(t)).h,(r=jN(r)).h),i=YN(t.c,r.c),a=YN(t.l,r.l),o=YN(t.opacity,r.opacity);return function(e){return t.h=n(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}),"hcl"),$(XN,"basis"),$((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return XN((r-n/t)*t,o,i,a,s)}}),"default"),$((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return XN((r-n/t)*t,i,a,o,s)}}),"default");var JN=$((function e(t){var r=KN(t);function n(e,t){var n=r((e=hN(e)).r,(t=hN(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=YN(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return $(n,"rgb"),n.gamma=e,n}),"rgbGamma")(1);function ZN(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function QN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eO(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=uO(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}function tO(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function rO(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nO(e,t){var r,n={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?n[r]=uO(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}$((function(e){return function(t){var r,n,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=hN(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}),"rgbSpline"),$(ZN,"default"),$(QN,"isNumberArray"),$(eO,"genericArray"),$(tO,"default"),$(rO,"default"),$(nO,"default");var iO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aO=new RegExp(iO.source,"g");function oO(e){return function(){return e}}function sO(e){return function(t){return e(t)+""}}function lO(e,t){var r,n,i,a=iO.lastIndex=aO.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=iO.exec(e))&&(n=aO.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:rO(r,n)})),a=aO.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?sO(l[0].x):oO(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function uO(e,t){var r,n=typeof t;return null==t||"boolean"===n?qN(t):("number"===n?rO:"string"===n?(r=sN(t))?(t=r,JN):lO:t instanceof sN?JN:t instanceof Date?tO:QN(t)?ZN:Array.isArray(t)?eO:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?nO:rO)(e,t)}function cO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}$(oO,"zero"),$(sO,"one"),$(lO,"default"),$(uO,"default"),$(cO,"default");var hO,dO=180/Math.PI,fO={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pO(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*dO,skewX:Math.atan(l)*dO,scaleX:o,scaleY:s}}function mO(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?fO:pO(t.a,t.b,t.c,t.d,t.e,t.f)}function gO(e){return null==e?fO:(hO||(hO=document.createElementNS("http://www.w3.org/2000/svg","g")),hO.setAttribute("transform",e),(e=hO.transform.baseVal.consolidate())?pO((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fO)}function yO(e,t,r,n){function i(e){return e.length?e.pop()+" ":""}function a(e,n,i,a,o,s){if(e!==i||n!==a){var l=o.push("translate(",null,t,null,r);s.push({i:l-4,x:rO(e,i)},{i:l-2,x:rO(n,a)})}else(i||a)&&o.push("translate("+i+t+a+r)}function o(e,t,r,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:r.push(i(r)+"rotate(",null,n)-2,x:rO(e,t)})):t&&r.push(i(r)+"rotate("+t+n)}function s(e,t,r,a){e!==t?a.push({i:r.push(i(r)+"skewX(",null,n)-2,x:rO(e,t)}):t&&r.push(i(r)+"skewX("+t+n)}function l(e,t,r,n,a,o){if(e!==r||t!==n){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:rO(e,r)},{i:s-2,x:rO(t,n)})}else(1!==r||1!==n)&&a.push(i(a)+"scale("+r+","+n+")")}return $(i,"pop"),$(a,"translate"),$(o,"rotate"),$(s,"skewX"),$(l,"scale"),function(t,r){var n=[],i=[];return t=e(t),r=e(r),a(t.translateX,t.translateY,r.translateX,r.translateY,n,i),o(t.rotate,r.rotate,n,i),s(t.skewX,r.skewX,n,i),l(t.scaleX,t.scaleY,r.scaleX,r.scaleY,n,i),t=r=null,function(e){for(var t,r=-1,a=i.length;++r<a;)n[(t=i[r]).i]=t.x(e);return n.join("")}}}$(pO,"default"),$(mO,"parseCss"),$(gO,"parseSvg"),$(yO,"interpolateTransform");var vO=yO(mO,"px, ","px)","deg)"),TO=yO(gO,", ",")",")");function CO(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xO(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bO(e){return(e=xO(Math.abs(e)))?e[1]:NaN}function kO(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function _O(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}$(CO,"default"),$(xO,"formatDecimalParts"),$(bO,"default"),$(kO,"default"),$(_O,"default");var SO,AO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function RO(e){if(!(t=AO.exec(e)))throw new Error("invalid format: "+e);var t;return new EO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function EO(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function wO(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}function LO(e,t){var r=xO(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(SO=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+xO(e,Math.max(0,t+a-1))[0]}function $O(e,t){var r=xO(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}$(RO,"formatSpecifier"),RO.prototype=EO.prototype,$(EO,"FormatSpecifier"),EO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type},$(wO,"default"),$(LO,"default"),$($O,"default");var IO={"%":$(((e,t)=>(100*e).toFixed(t)),"%"),b:$((e=>Math.round(e).toString(2)),"b"),c:$((e=>e+""),"c"),d:CO,e:$(((e,t)=>e.toExponential(t)),"e"),f:$(((e,t)=>e.toFixed(t)),"f"),g:$(((e,t)=>e.toPrecision(t)),"g"),o:$((e=>Math.round(e).toString(8)),"o"),p:$(((e,t)=>$O(100*e,t)),"p"),r:$O,s:LO,X:$((e=>Math.round(e).toString(16).toUpperCase()),"X"),x:$((e=>Math.round(e).toString(16)),"x")};function NO(e){return e}$(NO,"default");var OO,MO,FO,PO=Array.prototype.map,BO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DO(e){var t=void 0===e.grouping||void 0===e.thousands?NO:kO(PO.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",n=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?NO:_O(PO.call(e.numerals,String)),o=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function u(e){var u=(e=RO(e)).fill,c=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):IO[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===u&&"="===c)&&(f=!0,u="0",c="=");var T="$"===d?r:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",C="$"===d?n:/[%p]/.test(v)?o:"",x=IO[v],b=/[defgprs%]/.test(v);function k(e){var r,n,o,d=T,k=C;if("c"===v)k=x(e)+k,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:x(Math.abs(e),g),y&&(e=wO(e)),_&&0==+e&&"+"!==h&&(_=!1),d=(_?"("===h?h:s:"-"===h||"("===h?"":h)+d,k=("s"===v?BO[8+SO/3]:"")+k+(_&&"("===h?")":""),b)for(r=-1,n=e.length;++r<n;)if(48>(o=e.charCodeAt(r))||o>57){k=(46===o?i+e.slice(r+1):e.slice(r))+k,e=e.slice(0,r);break}}m&&!f&&(e=t(e,1/0));var S=d.length+e.length+k.length,A=S<p?new Array(p-S+1).join(u):"";switch(m&&f&&(e=t(A+e,A.length?p-k.length:1/0),A=""),c){case"<":e=d+e+k+A;break;case"=":e=d+A+e+k;break;case"^":e=A.slice(0,S=A.length>>1)+d+e+k+A.slice(S);break;default:e=A+d+e+k}return a(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),$(k,"format"),k.toString=function(){return e+""},k}function c(e,t){var r=u(((e=RO(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(bO(t)/3))),i=Math.pow(10,-n),a=BO[8+n/3];return function(e){return r(i*e)+a}}return $(u,"newFormat"),$(c,"formatPrefix"),{format:u,formatPrefix:c}}function UO(e){return OO=DO(e),MO=OO.format,FO=OO.formatPrefix,OO}function zO(e){return Math.max(0,-bO(Math.abs(e)))}function jO(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bO(t)/3)))-bO(Math.abs(e)))}function GO(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bO(t)-bO(e))+1}function WO(e){var t=0,r=e.children,n=r&&r.length;if(n)for(;--n>=0;)t+=r[n].value;else t=1;e.value=t}function qO(){return this.eachAfter(WO)}function HO(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this}function VO(e,t){for(var r,n,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),r=i.children)for(n=r.length-1;n>=0;--n)a.push(r[n]);return this}function KO(e,t){for(var r,n,i,a=this,o=[a],s=[],l=-1;a=o.pop();)if(s.push(a),r=a.children)for(n=0,i=r.length;n<i;++n)o.push(r[n]);for(;a=s.pop();)e.call(t,a,++l,this);return this}function YO(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n}function XO(e){return this.eachAfter((function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r}))}function JO(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))}function ZO(e){for(var t=this,r=QO(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n}function QO(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;for(e=r.pop(),t=n.pop();e===t;)i=e,e=r.pop(),t=n.pop();return i}function eM(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function tM(){return Array.from(this)}function rM(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e}function nM(){var e=this,t=[];return e.each((function(r){r!==e&&t.push({source:r.parent,target:r})})),t}function*iM(){var e,t,r,n,i=this,a=[i];do{for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(r=0,n=t.length;r<n;++r)a.push(t[r])}while(a.length)}function aM(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=lM)):void 0===t&&(t=sM);for(var r,n,i,a,o,s=new hM(e),l=[s];r=l.pop();)if((i=t(r.data))&&(o=(i=Array.from(i)).length))for(r.children=i,a=o-1;a>=0;--a)l.push(n=i[a]=new hM(i[a])),n.parent=r,n.depth=r.depth+1;return s.eachBefore(cM)}function oM(){return aM(this).eachBefore(uM)}function sM(e){return e.children}function lM(e){return Array.isArray(e)?e[1]:null}function uM(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function cM(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function hM(e){this.data=e,this.depth=this.height=0,this.parent=null}function dM(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function fM(e,t,r,n,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(n-t)/e.value;++s<l;)(a=o[s]).y0=r,a.y1=i,a.x0=t,a.x1=t+=a.value*u}function pM(e,t,r,n,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(i-r)/e.value;++s<l;)(a=o[s]).x0=t,a.x1=n,a.y0=r,a.y1=r+=a.value*u}$(DO,"default"),UO({thousands:",",grouping:[3],currency:["$",""]}),$(UO,"defaultLocale"),$(zO,"default"),$(jO,"default"),$(GO,"default"),$(WO,"count"),$(qO,"default"),$(HO,"default"),$(VO,"default"),$(KO,"default"),$(YO,"default"),$(XO,"default"),$(JO,"default"),$(ZO,"default"),$(QO,"leastCommonAncestor"),$(eM,"default"),$(tM,"default"),$(rM,"default"),$(nM,"default"),$(iM,"default"),$(aM,"hierarchy"),$(oM,"node_copy"),$(sM,"objectChildren"),$(lM,"mapChildren"),$(uM,"copyData"),$(cM,"computeHeight"),$(hM,"Node"),hM.prototype=aM.prototype={constructor:hM,count:qO,each:HO,eachAfter:KO,eachBefore:VO,find:YO,sum:XO,sort:JO,path:ZO,ancestors:eM,descendants:tM,leaves:rM,links:nM,copy:oM,[Symbol.iterator]:iM},$(dM,"default"),$(fM,"default"),$(pM,"default");var mM=(1+Math.sqrt(5))/2;function gM(e,t,r,n,i,a){for(var o,s,l,u,c,h,d,f,p,m,g,y=[],v=t.children,T=0,C=0,x=v.length,b=t.value;T<x;){l=i-r,u=a-n;do{c=v[C++].value}while(!c&&C<x);for(h=d=c,g=c*c*(m=Math.max(u/l,l/u)/(b*e)),p=Math.max(d/g,g/h);C<x;++C){if(c+=s=v[C].value,s<h&&(h=s),s>d&&(d=s),g=c*c*m,(f=Math.max(d/g,g/h))>p){c-=s;break}p=f}y.push(o={value:c,dice:l<u,children:v.slice(T,C)}),o.dice?fM(o,r,n,i,b?n+=u*c/b:a):pM(o,r,n,b?r+=l*c/b:i,a),b-=c,T=C}return y}$(gM,"squarifyRatio");var yM=$((function e(t){function r(e,r,n,i,a){gM(t,e,r,n,i,a)}return $(r,"squarify"),r.ratio=function(t){return e((t=+t)>1?t:1)},r}),"custom")(mM);function vM(e){if("function"!=typeof e)throw new Error;return e}function TM(){return 0}function CM(e){return function(){return e}}function xM(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}$(vM,"required"),$(TM,"constantZero"),$(CM,"default"),$((function(){var e=yM,t=!1,r=1,n=1,i=[0],a=TM,o=TM,s=TM,l=TM,u=TM;function c(e){return e.x0=e.y0=0,e.x1=r,e.y1=n,e.eachBefore(h),i=[0],t&&e.eachBefore(dM),e}function h(t){var r=i[t.depth],n=t.x0+r,c=t.y0+r,h=t.x1-r,d=t.y1-r;h<n&&(n=h=(n+h)/2),d<c&&(c=d=(c+d)/2),t.x0=n,t.y0=c,t.x1=h,t.y1=d,t.children&&(r=i[t.depth+1]=a(t)/2,n+=u(t)-r,c+=o(t)-r,(h-=s(t)-r)<n&&(n=h=(n+h)/2),(d-=l(t)-r)<c&&(c=d=(c+d)/2),e(t,n,c,h,d))}return $(c,"treemap"),$(h,"positionNode"),c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(r=+e[0],n=+e[1],c):[r,n]},c.tile=function(t){return arguments.length?(e=vM(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:CM(+e),c):a},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(o="function"==typeof e?e:CM(+e),c):o},c.paddingRight=function(e){return arguments.length?(s="function"==typeof e?e:CM(+e),c):s},c.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:CM(+e),c):l},c.paddingLeft=function(e){return arguments.length?(u="function"==typeof e?e:CM(+e),c):u},c}),"default"),$(xM,"initRange");var bM=Symbol("implicit");function kM(){var e=new TL,t=[],r=[],n=bM;function i(i){let a=e.get(i);if(void 0===a){if(n!==bM)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return $(i,"scale"),i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new TL;for(let n of r)e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return kM(t,r).unknown(n)},xM.apply(i,arguments),i}function _M(e){return function(){return e}}function SM(e){return+e}$(kM,"ordinal"),$(_M,"constants"),$(SM,"number");var AM=[0,1];function RM(e){return e}function EM(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_M(isNaN(t)?NaN:.5)}function wM(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}function LM(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=EM(i,n),a=r(o,a)):(n=EM(n,i),a=r(a,o)),function(e){return a(n(e))}}function $M(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=EM(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=vL(e,t,1,n)-1;return a[r](i[r](t))}}function IM(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function NM(){var e,t,r,n,i,a,o=AM,s=AM,l=uO,u=RM;function c(){var e=Math.min(o.length,s.length);return u!==RM&&(u=wM(o[0],o[e-1])),n=e>2?$M:LM,i=a=null,h}function h(t){return null==t||isNaN(t=+t)?r:(i||(i=n(o.map(e),s,l)))(e(u(t)))}return $(c,"rescale"),$(h,"scale"),h.invert=function(r){return u(t((a||(a=n(s,o.map(e),rO)))(r)))},h.domain=function(e){return arguments.length?(o=Array.from(e,SM),c()):o.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=cO,c()},h.clamp=function(e){return arguments.length?(u=!!e||RM,c()):u!==RM},h.interpolate=function(e){return arguments.length?(l=e,c()):l},h.unknown=function(e){return arguments.length?(r=e,h):r},function(r,n){return e=r,t=n,c()}}function OM(){return NM()(RM,RM)}function MM(e,t,r,n){var i,a=LL(e,t,r);switch((n=RO(n??",f")).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null==n.precision&&!isNaN(i=jO(a,o))&&(n.precision=i),FO(n,o);case"":case"e":case"g":case"p":case"r":null==n.precision&&!isNaN(i=GO(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-("e"===n.type));break;case"f":case"%":null==n.precision&&!isNaN(i=zO(a))&&(n.precision=i-2*("%"===n.type))}return MO(n)}function FM(e){var t=e.domain;return e.ticks=function(e){var r=t();return EL(r[0],r[r.length-1],e??10)},e.tickFormat=function(e,r){var n=t();return MM(n[0],n[n.length-1],e??10,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(i=l,l=u,u=i,i=o,o=s,s=i);c-- >0;){if((i=wL(l,u,r))===n)return a[o]=l,a[s]=u,t(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}n=i}return e},e}$(RM,"identity"),$(EM,"normalize"),$(wM,"clamper"),$(LM,"bimap"),$($M,"polymap"),$(IM,"copy"),$(NM,"transformer"),$(OM,"continuous"),$(MM,"tickFormat"),$(FM,"linearish"),$((function e(){var t=OM();return t.copy=function(){return IM(t,e())},xM.apply(t,arguments),FM(t)}),"linear");var PM=new Date,BM=new Date;function DM(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return $(i,"interval"),i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{let t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{let o,s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n&&a>0))return s;do{s.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<n);return s},i.filter=r=>DM((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(i.count=(t,n)=>(PM.setTime(+t),BM.setTime(+n),e(PM),e(BM),Math.floor(r(PM,BM))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}$(DM,"timeInterval");var UM=DM((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));UM.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?DM((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):UM:null),UM.range;var zM=DM((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+1e3*t)}),((e,t)=>(t-e)/1e3),(e=>e.getUTCSeconds()));zM.range;var jM=DM((e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),((e,t)=>{e.setTime(+e+6e4*t)}),((e,t)=>(t-e)/6e4),(e=>e.getMinutes()));jM.range;var GM=DM((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+6e4*t)}),((e,t)=>(t-e)/6e4),(e=>e.getUTCMinutes()));GM.range;var WM=DM((e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),((e,t)=>{e.setTime(+e+36e5*t)}),((e,t)=>(t-e)/36e5),(e=>e.getHours()));WM.range;var qM=DM((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+36e5*t)}),((e,t)=>(t-e)/36e5),(e=>e.getUTCHours()));qM.range;var HM=DM((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5),(e=>e.getDate()-1));HM.range;var VM=DM((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/864e5),(e=>e.getUTCDate()-1));VM.range;var KM=DM((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/864e5),(e=>Math.floor(e/864e5)));function YM(e){return DM((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5))}KM.range,$(YM,"timeWeekday");var XM=YM(0),JM=YM(1),ZM=YM(2),QM=YM(3),eF=YM(4),tF=YM(5),rF=YM(6);function nF(e){return DM((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/6048e5))}XM.range,JM.range,ZM.range,QM.range,eF.range,tF.range,rF.range,$(nF,"utcWeekday");var iF=nF(0),aF=nF(1),oF=nF(2),sF=nF(3),lF=nF(4),uF=nF(5),cF=nF(6);iF.range,aF.range,oF.range,sF.range,lF.range,uF.range,cF.range;var hF=DM((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));hF.range;var dF=DM((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));dF.range;var fF=DM((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));fF.every=e=>isFinite(e=Math.floor(e))&&e>0?DM((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null,fF.range;var pF=DM((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function mF(e,t,r,n,i,a){let o=[[zM,1,1e3],[zM,5,5e3],[zM,15,15e3],[zM,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function s(e,t,r){let n=t<e;n&&([e,t]=[t,e]);let i=r&&"function"==typeof r.range?r:l(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a}function l(t,r,n){let i=Math.abs(r-t)/n,a=fL((([,,e])=>e)).right(o,i);if(a===o.length)return e.every(LL(t/31536e6,r/31536e6,n));if(0===a)return UM.every(Math.max(LL(t,r,n),1));let[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return $(s,"ticks"),$(l,"tickInterval"),[s,l]}pF.every=e=>isFinite(e=Math.floor(e))&&e>0?DM((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null,pF.range,$(mF,"ticker"),mF(pF,dF,iF,KM,qM,GM);var[gF,yF]=mF(fF,hF,XM,HM,WM,jM);function vF(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function TF(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function CF(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function xF(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=LF(i),c=$F(i),h=LF(a),d=$F(a),f=LF(o),p=$F(o),m=LF(s),g=$F(s),y=LF(l),v=$F(l),T={a:O,A:M,b:F,B:P,c:null,d:ZF,e:ZF,f:nP,g:pP,G:gP,H:QF,I:eP,j:tP,L:rP,m:iP,M:aP,p:B,q:D,Q:DP,s:UP,S:oP,u:sP,U:lP,V:cP,w:hP,W:dP,x:null,X:null,y:fP,Y:mP,Z:yP,"%":BP},C={a:U,A:z,b:j,B:G,c:null,d:vP,e:vP,f:kP,g:OP,G:FP,H:TP,I:CP,j:xP,L:bP,m:_P,M:SP,p:W,q:q,Q:DP,s:UP,S:AP,u:RP,U:EP,V:LP,w:$P,W:IP,x:null,X:null,y:NP,Y:MP,Z:PP,"%":BP},x={a:A,A:R,b:E,B:w,c:L,d:jF,e:jF,f:KF,g:BF,G:PF,H:WF,I:WF,j:GF,L:VF,m:zF,M:qF,p:S,q:UF,Q:XF,s:JF,S:HF,u:NF,U:OF,V:MF,w:IF,W:FF,x:I,X:N,y:BF,Y:PF,Z:DF,"%":YF};function b(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,u=e.length;for(r instanceof Date||(r=new Date(+r));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=_F[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function k(e,t){return function(r){var n,i,a=CF(1900,void 0,1);if(_(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=TF(CF(a.y,0,1))).getUTCDay(),n=i>4||0===i?aF.ceil(n):aF(n),n=VM.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=vF(CF(a.y,0,1))).getDay(),n=i>4||0===i?JM.ceil(n):JM(n),n=HM.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?TF(CF(a.y,0,1)).getUTCDay():vF(CF(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,TF(a)):vF(a)}}function _(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=x[i in _F?t.charAt(o++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}function S(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=c.get(n[0].toLowerCase()),r+n[0].length):-1}function A(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1}function R(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=d.get(n[0].toLowerCase()),r+n[0].length):-1}function E(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1}function w(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1}function L(e,r,n){return _(e,t,r,n)}function I(e,t,n){return _(e,r,t,n)}function N(e,t,r){return _(e,n,t,r)}function O(e){return o[e.getDay()]}function M(e){return a[e.getDay()]}function F(e){return l[e.getMonth()]}function P(e){return s[e.getMonth()]}function B(e){return i[+(e.getHours()>=12)]}function D(e){return 1+~~(e.getMonth()/3)}function U(e){return o[e.getUTCDay()]}function z(e){return a[e.getUTCDay()]}function j(e){return l[e.getUTCMonth()]}function G(e){return s[e.getUTCMonth()]}function W(e){return i[+(e.getUTCHours()>=12)]}function q(e){return 1+~~(e.getUTCMonth()/3)}return T.x=b(r,T),T.X=b(n,T),T.c=b(t,T),C.x=b(r,C),C.X=b(n,C),C.c=b(t,C),$(b,"newFormat"),$(k,"newParse"),$(_,"parseSpecifier"),$(S,"parsePeriod"),$(A,"parseShortWeekday"),$(R,"parseWeekday"),$(E,"parseShortMonth"),$(w,"parseMonth"),$(L,"parseLocaleDateTime"),$(I,"parseLocaleDate"),$(N,"parseLocaleTime"),$(O,"formatShortWeekday"),$(M,"formatWeekday"),$(F,"formatShortMonth"),$(P,"formatMonth"),$(B,"formatPeriod"),$(D,"formatQuarter"),$(U,"formatUTCShortWeekday"),$(z,"formatUTCWeekday"),$(j,"formatUTCShortMonth"),$(G,"formatUTCMonth"),$(W,"formatUTCPeriod"),$(q,"formatUTCQuarter"),{format:$((function(e){var t=b(e+="",T);return t.toString=function(){return e},t}),"format"),parse:$((function(e){var t=k(e+="",!1);return t.toString=function(){return e},t}),"parse"),utcFormat:$((function(e){var t=b(e+="",C);return t.toString=function(){return e},t}),"utcFormat"),utcParse:$((function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}),"utcParse")}}$(vF,"localDate"),$(TF,"utcDate"),$(CF,"newDate"),$(xF,"formatLocale");var bF,kF,_F={"-":"",_:" ",0:"0"},SF=/^\s*\d+/,AF=/^%/,RF=/[\\^$*+?|[\]().{}]/g;function EF(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function wF(e){return e.replace(RF,"\\$&")}function LF(e){return new RegExp("^(?:"+e.map(wF).join("|")+")","i")}function $F(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function IF(e,t,r){var n=SF.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function NF(e,t,r){var n=SF.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function OF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function MF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PF(e,t,r){var n=SF.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function BF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function DF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UF(e,t,r){var n=SF.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function zF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=SF.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=SF.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function VF(e,t,r){var n=SF.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=SF.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function YF(e,t,r){var n=AF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function XF(e,t,r){var n=SF.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function JF(e,t,r){var n=SF.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ZF(e,t){return EF(e.getDate(),t,2)}function QF(e,t){return EF(e.getHours(),t,2)}function eP(e,t){return EF(e.getHours()%12||12,t,2)}function tP(e,t){return EF(1+HM.count(fF(e),e),t,3)}function rP(e,t){return EF(e.getMilliseconds(),t,3)}function nP(e,t){return rP(e,t)+"000"}function iP(e,t){return EF(e.getMonth()+1,t,2)}function aP(e,t){return EF(e.getMinutes(),t,2)}function oP(e,t){return EF(e.getSeconds(),t,2)}function sP(e){var t=e.getDay();return 0===t?7:t}function lP(e,t){return EF(XM.count(fF(e)-1,e),t,2)}function uP(e){var t=e.getDay();return t>=4||0===t?eF(e):eF.ceil(e)}function cP(e,t){return e=uP(e),EF(eF.count(fF(e),e)+(4===fF(e).getDay()),t,2)}function hP(e){return e.getDay()}function dP(e,t){return EF(JM.count(fF(e)-1,e),t,2)}function fP(e,t){return EF(e.getFullYear()%100,t,2)}function pP(e,t){return EF((e=uP(e)).getFullYear()%100,t,2)}function mP(e,t){return EF(e.getFullYear()%1e4,t,4)}function gP(e,t){var r=e.getDay();return EF((e=r>=4||0===r?eF(e):eF.ceil(e)).getFullYear()%1e4,t,4)}function yP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+EF(t/60|0,"0",2)+EF(t%60,"0",2)}function vP(e,t){return EF(e.getUTCDate(),t,2)}function TP(e,t){return EF(e.getUTCHours(),t,2)}function CP(e,t){return EF(e.getUTCHours()%12||12,t,2)}function xP(e,t){return EF(1+VM.count(pF(e),e),t,3)}function bP(e,t){return EF(e.getUTCMilliseconds(),t,3)}function kP(e,t){return bP(e,t)+"000"}function _P(e,t){return EF(e.getUTCMonth()+1,t,2)}function SP(e,t){return EF(e.getUTCMinutes(),t,2)}function AP(e,t){return EF(e.getUTCSeconds(),t,2)}function RP(e){var t=e.getUTCDay();return 0===t?7:t}function EP(e,t){return EF(iF.count(pF(e)-1,e),t,2)}function wP(e){var t=e.getUTCDay();return t>=4||0===t?lF(e):lF.ceil(e)}function LP(e,t){return e=wP(e),EF(lF.count(pF(e),e)+(4===pF(e).getUTCDay()),t,2)}function $P(e){return e.getUTCDay()}function IP(e,t){return EF(aF.count(pF(e)-1,e),t,2)}function NP(e,t){return EF(e.getUTCFullYear()%100,t,2)}function OP(e,t){return EF((e=wP(e)).getUTCFullYear()%100,t,2)}function MP(e,t){return EF(e.getUTCFullYear()%1e4,t,4)}function FP(e,t){var r=e.getUTCDay();return EF((e=r>=4||0===r?lF(e):lF.ceil(e)).getUTCFullYear()%1e4,t,4)}function PP(){return"+0000"}function BP(){return"%"}function DP(e){return+e}function UP(e){return Math.floor(+e/1e3)}function zP(e){return bF=xF(e),kF=bF.format,bF.parse,bF.utcFormat,bF.utcParse,bF}function jP(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}function GP(e){return new Date(e)}function WP(e){return e instanceof Date?+e:+new Date(+e)}function qP(e,t,r,n,i,a,o,s,l,u){var c=OM(),h=c.invert,d=c.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),T=u("%B"),C=u("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:a(e)<e?g:n(e)<e?i(e)<e?y:v:r(e)<e?T:C)(e)}return $(x,"tickFormat"),c.invert=function(e){return new Date(h(e))},c.domain=function(e){return arguments.length?d(Array.from(e,WP)):d().map(GP)},c.ticks=function(t){var r=d();return e(r[0],r[r.length-1],t??10)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var r=d();return(!e||"function"!=typeof e.range)&&(e=t(r[0],r[r.length-1],e??10)),e?d(jP(r,e)):c},c.copy=function(){return IM(c,qP(e,t,r,n,i,a,o,s,l,u))},c}function HP(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r}function VP(e){return $((function(){return e}),"constant")}$(EF,"pad"),$(wF,"requote"),$(LF,"formatRe"),$($F,"formatLookup"),$(IF,"parseWeekdayNumberSunday"),$(NF,"parseWeekdayNumberMonday"),$(OF,"parseWeekNumberSunday"),$(MF,"parseWeekNumberISO"),$(FF,"parseWeekNumberMonday"),$(PF,"parseFullYear"),$(BF,"parseYear"),$(DF,"parseZone"),$(UF,"parseQuarter"),$(zF,"parseMonthNumber"),$(jF,"parseDayOfMonth"),$(GF,"parseDayOfYear"),$(WF,"parseHour24"),$(qF,"parseMinutes"),$(HF,"parseSeconds"),$(VF,"parseMilliseconds"),$(KF,"parseMicroseconds"),$(YF,"parseLiteralPercent"),$(XF,"parseUnixTimestamp"),$(JF,"parseUnixTimestampSeconds"),$(ZF,"formatDayOfMonth"),$(QF,"formatHour24"),$(eP,"formatHour12"),$(tP,"formatDayOfYear"),$(rP,"formatMilliseconds"),$(nP,"formatMicroseconds"),$(iP,"formatMonthNumber"),$(aP,"formatMinutes"),$(oP,"formatSeconds"),$(sP,"formatWeekdayNumberMonday"),$(lP,"formatWeekNumberSunday"),$(uP,"dISO"),$(cP,"formatWeekNumberISO"),$(hP,"formatWeekdayNumberSunday"),$(dP,"formatWeekNumberMonday"),$(fP,"formatYear"),$(pP,"formatYearISO"),$(mP,"formatFullYear"),$(gP,"formatFullYearISO"),$(yP,"formatZone"),$(vP,"formatUTCDayOfMonth"),$(TP,"formatUTCHour24"),$(CP,"formatUTCHour12"),$(xP,"formatUTCDayOfYear"),$(bP,"formatUTCMilliseconds"),$(kP,"formatUTCMicroseconds"),$(_P,"formatUTCMonthNumber"),$(SP,"formatUTCMinutes"),$(AP,"formatUTCSeconds"),$(RP,"formatUTCWeekdayNumberMonday"),$(EP,"formatUTCWeekNumberSunday"),$(wP,"UTCdISO"),$(LP,"formatUTCWeekNumberISO"),$($P,"formatUTCWeekdayNumberSunday"),$(IP,"formatUTCWeekNumberMonday"),$(NP,"formatUTCYear"),$(OP,"formatUTCYearISO"),$(MP,"formatUTCFullYear"),$(FP,"formatUTCFullYearISO"),$(PP,"formatUTCZone"),$(BP,"formatLiteralPercent"),$(DP,"formatUnixTimestamp"),$(UP,"formatUnixTimestampSeconds"),zP({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),$(zP,"defaultLocale"),$(jP,"nice"),$(GP,"date"),$(WP,"number"),$(qP,"calendar"),$((function(){return xM.apply(qP(gF,yF,fF,hF,XM,HM,WM,jM,zM,kF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),"time"),$((function e(){var t,r,n=kM().unknown(void 0),i=n.domain,a=n.range,o=0,s=1,l=!1,u=0,c=0,h=.5;function d(){var e=i().length,n=s<o,d=n?s:o,f=n?o:s;t=(f-d)/Math.max(1,e-u+2*c),l&&(t=Math.floor(t)),d+=(f-d-t*(e-u))*h,r=t*(1-u),l&&(d=Math.round(d),r=Math.round(r));var p=$L(e).map((function(e){return d+t*e}));return a(n?p.reverse():p)}return delete n.unknown,$(d,"rescale"),n.domain=function(e){return arguments.length?(i(e),d()):i()},n.range=function(e){return arguments.length?([o,s]=e,o=+o,s=+s,d()):[o,s]},n.rangeRound=function(e){return[o,s]=e,o=+o,s=+s,l=!0,d()},n.bandwidth=function(){return r},n.step=function(){return t},n.round=function(e){return arguments.length?(l=!!e,d()):l},n.padding=function(e){return arguments.length?(u=Math.min(1,c=+e),d()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),d()):u},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),d()):h},n.copy=function(){return e(i(),[o,s]).round(l).paddingInner(u).paddingOuter(c).align(h)},xM.apply(d(),arguments)}),"band"),$(HP,"default"),HP("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),$(VP,"default");var KP=Math.abs,YP=Math.atan2,XP=Math.cos,JP=Math.max,ZP=Math.min,QP=Math.sin,eB=Math.sqrt,tB=1e-12,rB=Math.PI,nB=rB/2,iB=2*rB;function aB(e){return e>1?0:e<-1?rB:Math.acos(e)}function oB(e){return e>=1?nB:e<=-1?-nB:Math.asin(e)}$(aB,"acos"),$(oB,"asin");var sB=Math.PI,lB=2*sB,uB=1e-6,cB=lB-uB;function hB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hB;let r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}$(hB,"append"),$(dB,"appendRound");var fB=class{static{$(this,"Path")}constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?hB:dB(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=r-e,l=n-t,u=a-e,c=o-t,h=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>uB)if(Math.abs(c*s-l*u)>uB&&i){let d=r-a,f=n-o,p=s*s+l*l,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((sB-Math.acos((p+h-m)/(2*g*y)))/2),T=v/y,C=v/g;Math.abs(T-1)>uB&&this._append`L${e+T*u},${t+T*c}`,this._append`A${i},${i},0,0,${+(c*d>u*f)},${this._x1=e+C*s},${this._y1=t+C*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,n,i,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,u=t+s,c=1^a,h=a?n-i:i-n;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>uB||Math.abs(this._y1-u)>uB)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%lB+lB),h>cB?this._append`A${r},${r},0,1,${c},${e-o},${t-s}A${r},${r},0,1,${c},${this._x1=l},${this._y1=u}`:h>uB&&this._append`A${r},${r},0,${+(h>=sB)},${c},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}};function pB(){return new fB}function mB(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new fB(t)}function gB(e){return e.innerRadius}function yB(e){return e.outerRadius}function vB(e){return e.startAngle}function TB(e){return e.endAngle}function CB(e){return e&&e.padAngle}function xB(e,t,r,n,i,a,o,s){var l=r-e,u=n-t,c=o-i,h=s-a,d=h*l-c*u;if(!(d*d<tB))return[e+(d=(c*(t-a)-h*(e-i))/d)*l,t+d*u]}function bB(e,t,r,n,i,a,o){var s=e-r,l=t-n,u=(o?a:-a)/eB(s*s+l*l),c=u*l,h=-u*s,d=e+c,f=t+h,p=r+c,m=n+h,g=(d+p)/2,y=(f+m)/2,v=p-d,T=m-f,C=v*v+T*T,x=i-a,b=d*m-p*f,k=(T<0?-1:1)*eB(JP(0,x*x*C-b*b)),_=(b*T-v*k)/C,S=(-b*v-T*k)/C,A=(b*T+v*k)/C,R=(-b*v+T*k)/C,E=_-g,w=S-y,L=A-g,$=R-y;return E*E+w*w>L*L+$*$&&(_=A,S=R),{cx:_,cy:S,x01:-c,y01:-h,x11:_*(i/x-1),y11:S*(i/x-1)}}function kB(e){this._context=e}function _B(e){return new kB(e)}function SB(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function AB(e){return e[0]}function RB(e){return e[1]}function EB(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function wB(e){return e}$(pB,"path"),pB.prototype=fB.prototype,$(mB,"withPath"),$(gB,"arcInnerRadius"),$(yB,"arcOuterRadius"),$(vB,"arcStartAngle"),$(TB,"arcEndAngle"),$(CB,"arcPadAngle"),$(xB,"intersect"),$(bB,"cornerTangents"),$((function(){var e=gB,t=yB,r=VP(0),n=null,i=vB,a=TB,o=CB,s=null,l=mB(u);function u(){var u,c,h=+e.apply(this,arguments),d=+t.apply(this,arguments),f=i.apply(this,arguments)-nB,p=a.apply(this,arguments)-nB,m=KP(p-f),g=p>f;if(s||(s=u=l()),d<h&&(c=d,d=h,h=c),d>tB)if(m>iB-tB)s.moveTo(d*XP(f),d*QP(f)),s.arc(0,0,d,f,p,!g),h>tB&&(s.moveTo(h*XP(p),h*QP(p)),s.arc(0,0,h,p,f,g));else{var y,v,T=f,C=p,x=f,b=p,k=m,_=m,S=o.apply(this,arguments)/2,A=S>tB&&(n?+n.apply(this,arguments):eB(h*h+d*d)),R=ZP(KP(d-h)/2,+r.apply(this,arguments)),E=R,w=R;if(A>tB){var L=oB(A/h*QP(S)),$=oB(A/d*QP(S));(k-=2*L)>tB?(x+=L*=g?1:-1,b-=L):(k=0,x=b=(f+p)/2),(_-=2*$)>tB?(T+=$*=g?1:-1,C-=$):(_=0,T=C=(f+p)/2)}var I=d*XP(T),N=d*QP(T),O=h*XP(b),M=h*QP(b);if(R>tB){var F,P=d*XP(C),B=d*QP(C),D=h*XP(x),U=h*QP(x);if(m<rB)if(F=xB(I,N,D,U,P,B,O,M)){var z=I-F[0],j=N-F[1],G=P-F[0],W=B-F[1],q=1/QP(aB((z*G+j*W)/(eB(z*z+j*j)*eB(G*G+W*W)))/2),H=eB(F[0]*F[0]+F[1]*F[1]);E=ZP(R,(h-H)/(q-1)),w=ZP(R,(d-H)/(q+1))}else E=w=0}_>tB?w>tB?(y=bB(D,U,I,N,d,w,g),v=bB(P,B,O,M,d,w,g),s.moveTo(y.cx+y.x01,y.cy+y.y01),w<R?s.arc(y.cx,y.cy,w,YP(y.y01,y.x01),YP(v.y01,v.x01),!g):(s.arc(y.cx,y.cy,w,YP(y.y01,y.x01),YP(y.y11,y.x11),!g),s.arc(0,0,d,YP(y.cy+y.y11,y.cx+y.x11),YP(v.cy+v.y11,v.cx+v.x11),!g),s.arc(v.cx,v.cy,w,YP(v.y11,v.x11),YP(v.y01,v.x01),!g))):(s.moveTo(I,N),s.arc(0,0,d,T,C,!g)):s.moveTo(I,N),h>tB&&k>tB?E>tB?(y=bB(O,M,P,B,h,-E,g),v=bB(I,N,D,U,h,-E,g),s.lineTo(y.cx+y.x01,y.cy+y.y01),E<R?s.arc(y.cx,y.cy,E,YP(y.y01,y.x01),YP(v.y01,v.x01),!g):(s.arc(y.cx,y.cy,E,YP(y.y01,y.x01),YP(y.y11,y.x11),!g),s.arc(0,0,h,YP(y.cy+y.y11,y.cx+y.x11),YP(v.cy+v.y11,v.cx+v.x11),g),s.arc(v.cx,v.cy,E,YP(v.y11,v.x11),YP(v.y01,v.x01),!g))):s.arc(0,0,h,b,x,g):s.lineTo(O,M)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return $(u,"arc"),u.centroid=function(){var r=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-rB/2;return[XP(n)*r,QP(n)*r]},u.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:VP(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:VP(+e),u):t},u.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:VP(+e),u):r},u.padRadius=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:VP(+e),u):n},u.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:VP(+e),u):i},u.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:VP(+e),u):a},u.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:VP(+e),u):o},u.context=function(e){return arguments.length?(s=e??null,u):s},u}),"default"),$(kB,"Linear"),kB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._point=0}),"lineStart"),lineEnd:$((function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}),"point")},$(_B,"default"),$(SB,"default"),$(AB,"x"),$(RB,"y"),$((function(e,t){var r=VP(!0),n=null,i=_B,a=null,o=mB(s);function s(s){var l,u,c,h=(s=SB(s)).length,d=!1;for(null==n&&(a=i(c=o())),l=0;l<=h;++l)!(l<h&&r(u=s[l],l,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,l,s),+t(u,l,s));if(c)return a=null,c+""||null}return e="function"==typeof e?e:void 0===e?AB:VP(e),t="function"==typeof t?t:void 0===t?RB:VP(t),$(s,"line"),s.x=function(t){return arguments.length?(e="function"==typeof t?t:VP(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:VP(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:VP(!!e),s):r},s.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),s):i},s.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),s):n},s}),"default"),$(EB,"default"),$(wB,"default"),$((function(){var e=wB,t=EB,r=null,n=VP(0),i=VP(iB),a=VP(0);function o(o){var s,l,u,c,h,d=(o=SB(o)).length,f=0,p=new Array(d),m=new Array(d),g=+n.apply(this,arguments),y=Math.min(iB,Math.max(-iB,i.apply(this,arguments)-g)),v=Math.min(Math.abs(y)/d,a.apply(this,arguments)),T=v*(y<0?-1:1);for(s=0;s<d;++s)(h=m[p[s]=s]=+e(o[s],s,o))>0&&(f+=h);for(null!=t?p.sort((function(e,r){return t(m[e],m[r])})):null!=r&&p.sort((function(e,t){return r(o[e],o[t])})),s=0,u=f?(y-d*T)/f:0;s<d;++s,g=c)l=p[s],c=g+((h=m[l])>0?h*u:0)+T,m[l]={data:o[l],index:s,value:h,startAngle:g,endAngle:c,padAngle:v};return m}return $(o,"pie"),o.value=function(t){return arguments.length?(e="function"==typeof t?t:VP(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,r=null,o):t},o.sort=function(e){return arguments.length?(r=e,t=null,o):r},o.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:VP(+e),o):n},o.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:VP(+e),o):i},o.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:VP(+e),o):a},o}),"default");var LB=class{static{$(this,"Bump")}constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}};function $B(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IB(e){this._context=e}function NB(){}function OB(e){this._context=e}function MB(e){this._context=e}function FB(e,t){this._basis=new IB(e),this._beta=t}function PB(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function BB(e,t){this._context=e,this._k=(1-t)/6}function DB(e,t){this._context=e,this._k=(1-t)/6}function UB(e,t){this._context=e,this._k=(1-t)/6}function zB(e,t,r){var n=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>tB){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>tB){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,a,o,e._x2,e._y2)}function jB(e,t){this._context=e,this._alpha=t}function GB(e,t){this._context=e,this._alpha=t}function WB(e,t){this._context=e,this._alpha=t}function qB(e){this._context=e}function HB(e){return e<0?-1:1}function VB(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(HB(a)+HB(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function KB(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function YB(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function XB(e){this._context=e}function JB(e){this._context=new ZB(e)}function ZB(e){this._context=e}function QB(e){this._context=e}function eD(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function tD(e,t){this._context=e,this._t=t}$((function(e){return new LB(e,!0)}),"bumpX"),$((function(e){return new LB(e,!1)}),"bumpY"),$($B,"point"),$(IB,"Basis"),IB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){switch(this._point){case 3:$B(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$B(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}),"point")},$((function(e){return new IB(e)}),"default"),$(NB,"default"),$(OB,"BasisClosed"),OB.prototype={areaStart:NB,areaEnd:NB,lineStart:$((function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$B(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}),"point")},$((function(e){return new OB(e)}),"default"),$(MB,"BasisOpen"),MB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$B(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}),"point")},$((function(e){return new MB(e)}),"default"),$(FB,"Bundle"),FB.prototype={lineStart:$((function(){this._x=[],this._y=[],this._basis.lineStart()}),"lineStart"),lineEnd:$((function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n,i=e[0],a=t[0],o=e[r]-i,s=t[r]-a,l=-1;++l<=r;)n=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+n*o),this._beta*t[l]+(1-this._beta)*(a+n*s));this._x=this._y=null,this._basis.lineEnd()}),"lineEnd"),point:$((function(e,t){this._x.push(+e),this._y.push(+t)}),"point")},$((function e(t){function r(e){return 1===t?new IB(e):new FB(e,t)}return $(r,"bundle"),r.beta=function(t){return e(+t)},r}),"custom")(.85),$(PB,"point"),$(BB,"Cardinal"),BB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:PB(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:PB(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")},$((function e(t){function r(e){return new BB(e,t)}return $(r,"cardinal"),r.tension=function(t){return e(+t)},r}),"custom")(0),$(DB,"CardinalClosed"),DB.prototype={areaStart:NB,areaEnd:NB,lineStart:$((function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:PB(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")},$((function e(t){function r(e){return new DB(e,t)}return $(r,"cardinal"),r.tension=function(t){return e(+t)},r}),"custom")(0),$(UB,"CardinalOpen"),UB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:PB(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")},$((function e(t){function r(e){return new UB(e,t)}return $(r,"cardinal"),r.tension=function(t){return e(+t)},r}),"custom")(0),$(zB,"point"),$(jB,"CatmullRom"),jB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}),"lineStart"),lineEnd:$((function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:zB(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")},$((function e(t){function r(e){return t?new jB(e,t):new BB(e,0)}return $(r,"catmullRom"),r.alpha=function(t){return e(+t)},r}),"custom")(.5),$(GB,"CatmullRomClosed"),GB.prototype={areaStart:NB,areaEnd:NB,lineStart:$((function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}),"lineStart"),lineEnd:$((function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}}),"lineEnd"),point:$((function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zB(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")},$((function e(t){function r(e){return t?new GB(e,t):new DB(e,0)}return $(r,"catmullRom"),r.alpha=function(t){return e(+t)},r}),"custom")(.5),$(WB,"CatmullRomOpen"),WB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}),"lineStart"),lineEnd:$((function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zB(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")},$((function e(t){function r(e){return t?new WB(e,t):new UB(e,0)}return $(r,"catmullRom"),r.alpha=function(t){return e(+t)},r}),"custom")(.5),$(qB,"LinearClosed"),qB.prototype={areaStart:NB,areaEnd:NB,lineStart:$((function(){this._point=0}),"lineStart"),lineEnd:$((function(){this._point&&this._context.closePath()}),"lineEnd"),point:$((function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}),"point")},$((function(e){return new qB(e)}),"default"),$(HB,"sign"),$(VB,"slope3"),$(KB,"slope2"),$(YB,"point"),$(XB,"MonotoneX"),XB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YB(this,this._t0,KB(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:$((function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,YB(this,KB(this,r=VB(this,e,t)),r);break;default:YB(this,this._t0,r=VB(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}),"point")},$(JB,"MonotoneY"),(JB.prototype=Object.create(XB.prototype)).point=function(e,t){XB.prototype.point.call(this,t,e)},$(ZB,"ReflectContext"),ZB.prototype={moveTo:$((function(e,t){this._context.moveTo(t,e)}),"moveTo"),closePath:$((function(){this._context.closePath()}),"closePath"),lineTo:$((function(e,t){this._context.lineTo(t,e)}),"lineTo"),bezierCurveTo:$((function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}),"bezierCurveTo")},$((function(e){return new XB(e)}),"monotoneX"),$((function(e){return new JB(e)}),"monotoneY"),$(QB,"Natural"),QB.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x=[],this._y=[]}),"lineStart"),lineEnd:$((function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=eD(e),i=eD(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null}),"lineEnd"),point:$((function(e,t){this._x.push(+e),this._y.push(+t)}),"point")},$(eD,"controlPoints"),$((function(e){return new QB(e)}),"default"),$(tD,"Step"),tD.prototype={areaStart:$((function(){this._line=0}),"areaStart"),areaEnd:$((function(){this._line=NaN}),"areaEnd"),lineStart:$((function(){this._x=this._y=NaN,this._point=0}),"lineStart"),lineEnd:$((function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}),"lineEnd"),point:$((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}),"point")},$((function(e){return new tD(e,.5)}),"default"),$((function(e){return new tD(e,0)}),"stepBefore"),$((function(e){return new tD(e,1)}),"stepAfter");var rD={value:$((()=>{}),"value")};function nD(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new iD(n)}function iD(e){this._=e}function aD(e,t){return e.trim().split(/^|\s+/).map((function(e){var r="",n=e.indexOf(".");if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}}))}function oD(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function sD(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=rD,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}$(nD,"dispatch"),$(iD,"Dispatch"),$(aD,"parseTypenames"),iD.prototype=nD.prototype={constructor:iD,on:$((function(e,t){var r,n=this._,i=aD(e+"",n),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(e=i[a]).type)n[r]=sD(n[r],e.name,t);else if(null==t)for(r in n)n[r]=sD(n[r],e.name,null);return this}for(;++a<o;)if((r=(e=i[a]).type)&&(r=oD(n[r],e.name)))return r}),"on"),copy:$((function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new iD(e)}),"copy"),call:$((function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),a=0;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,r=(n=this._[e]).length;a<r;++a)n[a].value.apply(t,i)}),"call"),apply:$((function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}),"apply")},$(oD,"get"),$(sD,"set");var lD,uD,cD=nD,hD=0,dD=0,fD=0,pD=0,mD=0,gD=0,yD="object"==typeof performance&&performance.now?performance:Date,vD="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function TD(){return mD||(vD(CD),mD=yD.now()+gD)}function CD(){mD=0}function xD(){this._call=this._time=this._next=null}function bD(e,t,r){var n=new xD;return n.restart(e,t,r),n}function kD(){TD(),++hD;for(var e,t=lD;t;)(e=mD-t._time)>=0&&t._call.call(void 0,e),t=t._next;--hD}function _D(){mD=(pD=yD.now())+gD,hD=dD=0;try{kD()}finally{hD=0,AD(),mD=0}}function SD(){var e=yD.now(),t=e-pD;t>1e3&&(gD-=t,pD=e)}function AD(){for(var e,t,r=lD,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:lD=t);uD=e,RD(n)}function RD(e){hD||(dD&&(dD=clearTimeout(dD)),e-mD>24?(e<1/0&&(dD=setTimeout(_D,e-yD.now()-gD)),fD&&(fD=clearInterval(fD))):(fD||(pD=yD.now(),fD=setInterval(SD,1e3)),hD=1,vD(_D)))}function ED(e,t,r){var n=new xD;return t=null==t?0:+t,n.restart((r=>{n.stop(),e(r+t)}),t,r),n}$(TD,"now"),$(CD,"clearNow"),$(xD,"Timer"),xD.prototype=bD.prototype={constructor:xD,restart:$((function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?TD():+r)+(null==t?0:+t),!this._next&&uD!==this&&(uD?uD._next=this:lD=this,uD=this),this._call=e,this._time=r,RD()}),"restart"),stop:$((function(){this._call&&(this._call=null,this._time=1/0,RD())}),"stop")},$(bD,"timer"),$(kD,"timerFlush"),$(_D,"wake"),$(SD,"poke"),$(AD,"nap"),$(RD,"sleep"),$(ED,"default");var wD=cD("start","end","cancel","interrupt"),LD=[];function $D(e,t,r,n,i,a){var o=e.__transition;if(o){if(r in o)return}else e.__transition={};MD(e,r,{name:t,index:n,group:i,on:wD,tween:LD,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function ID(e,t){var r=OD(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function ND(e,t){var r=OD(e,t);if(r.state>3)throw new Error("too late; already running");return r}function OD(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function MD(e,t,r){var n,i=e.__transition;function a(e){r.state=1,r.timer.restart(o,r.delay,r.time),r.delay<=e&&o(e-r.delay)}function o(a){var u,c,h,d;if(1!==r.state)return l();for(u in i)if((d=i[u]).name===r.name){if(3===d.state)return ED(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[u]):+u<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[u])}if(ED((function(){3===r.state&&(r.state=4,r.timer.restart(s,r.delay,r.time),s(a))})),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,n=new Array(h=r.tween.length),u=0,c=-1;u<h;++u)(d=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(n[++c]=d);n.length=c+1}}function s(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(l),r.state=5,1),a=-1,o=n.length;++a<o;)n[a].call(e,i);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){for(var n in r.state=6,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=bD(a,0,r.time),$(a,"schedule"),$(o,"start"),$(s,"tick"),$(l,"stop")}function FD(e,t){var r,n,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(r=a[i]).name===t?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete a[i]):o=!1;o&&delete e.__transition}}function PD(e){return this.each((function(){FD(this,e)}))}function BD(e,t){var r,n;return function(){var i=ND(this,e),a=i.tween;if(a!==r)for(var o=0,s=(n=r=a).length;o<s;++o)if(n[o].name===t){(n=n.slice()).splice(o,1);break}i.tween=n}}function DD(e,t,r){var n,i;if("function"!=typeof r)throw new Error;return function(){var a=ND(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function UD(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,i=OD(this.node(),r).tween,a=0,o=i.length;a<o;++a)if((n=i[a]).name===e)return n.value;return null}return this.each((null==t?BD:DD)(r,e,t))}function zD(e,t,r){var n=e._id;return e.each((function(){var e=ND(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)})),function(e){return OD(e,n).value[t]}}function jD(e,t){var r;return("number"==typeof t?rO:t instanceof sN?JN:(r=sN(t))?(t=r,JN):lO)(e,t)}function GD(e){return function(){this.removeAttribute(e)}}function WD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qD(e,t,r){var n,i,a=r+"";return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function HD(e,t,r){var n,i,a=r+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function VD(e,t,r){var n,i,a;return function(){var o,s,l=r(this);return null==l?void this.removeAttribute(e):(o=this.getAttribute(e))===(s=l+"")?null:o===n&&s===i?a:(i=s,a=t(n=o,l))}}function KD(e,t,r){var n,i,a;return function(){var o,s,l=r(this);return null==l?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===n&&s===i?a:(i=s,a=t(n=o,l))}}function YD(e,t){var r=E$(e),n="transform"===r?TO:jD;return this.attrTween(e,"function"==typeof t?(r.local?KD:VD)(r,n,zD(this,"attr."+e,t)):null==t?(r.local?WD:GD)(r):(r.local?HD:qD)(r,n,t))}function XD(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function JD(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ZD(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&JD(e,i)),r}return $(i,"tween"),i._value=t,i}function QD(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&XD(e,i)),r}return $(i,"tween"),i._value=t,i}function eU(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=E$(e);return this.tween(r,(n.local?ZD:QD)(n,t))}function tU(e,t){return function(){ID(this,e).delay=+t.apply(this,arguments)}}function rU(e,t){return t=+t,function(){ID(this,e).delay=t}}function nU(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?tU:rU)(t,e)):OD(this.node(),t).delay}function iU(e,t){return function(){ND(this,e).duration=+t.apply(this,arguments)}}function aU(e,t){return t=+t,function(){ND(this,e).duration=t}}function oU(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?iU:aU)(t,e)):OD(this.node(),t).duration}function sU(e,t){if("function"!=typeof t)throw new Error;return function(){ND(this,e).ease=t}}function lU(e){var t=this._id;return arguments.length?this.each(sU(t,e)):OD(this.node(),t).ease}function uU(e,t){return function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw new Error;ND(this,e).ease=r}}function cU(e){if("function"!=typeof e)throw new Error;return this.each(uU(this._id,e))}function hU(e){"function"!=typeof e&&(e=KL(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o=t[i],s=o.length,l=n[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new UU(n,this._parents,this._name,this._id)}function dU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l,u=t[s],c=r[s],h=u.length,d=o[s]=new Array(h),f=0;f<h;++f)(l=u[f]||c[f])&&(d[f]=l);for(;s<n;++s)o[s]=t[s];return new UU(o,this._parents,this._name,this._id)}function fU(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function pU(e,t,r){var n,i,a=fU(t)?ID:ND;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}function mU(e,t){var r=this._id;return arguments.length<2?OD(this.node(),r).on.on(e):this.each(pU(r,e,t))}function gU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function yU(){return this.on("end.remove",gU(this._id))}function vU(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=zL(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s,l,u=n[o],c=u.length,h=a[o]=new Array(c),d=0;d<c;++d)(s=u[d])&&(l=e.call(s,s.__data__,d,u))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,$D(h[d],t,r,d,h,OD(s,r)));return new UU(a,this._parents,t,r)}function TU(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=qL(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var l,u=n[s],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var d,f=e.call(l,l.__data__,h,u),p=OD(l,r),m=0,g=f.length;m<g;++m)(d=f[m])&&$D(d,t,r,m,f,p);a.push(f),o.push(l)}return new UU(a,o,t,r)}$($D,"default"),$(ID,"init"),$(ND,"set"),$(OD,"get"),$(MD,"create"),$(FD,"default"),$(PD,"default"),$(BD,"tweenRemove"),$(DD,"tweenFunction"),$(UD,"default"),$(zD,"tweenValue"),$(jD,"default"),$(GD,"attrRemove"),$(WD,"attrRemoveNS"),$(qD,"attrConstant"),$(HD,"attrConstantNS"),$(VD,"attrFunction"),$(KD,"attrFunctionNS"),$(YD,"default"),$(XD,"attrInterpolate"),$(JD,"attrInterpolateNS"),$(ZD,"attrTweenNS"),$(QD,"attrTween"),$(eU,"default"),$(tU,"delayFunction"),$(rU,"delayConstant"),$(nU,"default"),$(iU,"durationFunction"),$(aU,"durationConstant"),$(oU,"default"),$(sU,"easeConstant"),$(lU,"default"),$(uU,"easeVarying"),$(cU,"default"),$(hU,"default"),$(dU,"default"),$(fU,"start"),$(pU,"onFunction"),$(mU,"default"),$(gU,"removeFunction"),$(yU,"default"),$(vU,"default"),$(TU,"default");var CU=DI.prototype.constructor;function xU(){return new CU(this._groups,this._parents)}function bU(e,t){var r,n,i;return function(){var a=z$(this,e),o=(this.style.removeProperty(e),z$(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function kU(e){return function(){this.style.removeProperty(e)}}function _U(e,t,r){var n,i,a=r+"";return function(){var o=z$(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}function SU(e,t,r){var n,i,a;return function(){var o=z$(this,e),s=r(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=z$(this,e)),o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s))}}function AU(e,t){var r,n,i,a,o="style."+t,s="end."+o;return function(){var l=ND(this,e),u=l.on,c=null==l.value[o]?a||(a=kU(t)):void 0;(u!==r||i!==c)&&(n=(r=u).copy()).on(s,i=c),l.on=n}}function RU(e,t,r){var n="transform"==(e+="")?vO:jD;return null==t?this.styleTween(e,bU(e,n)).on("end.style."+e,kU(e)):"function"==typeof t?this.styleTween(e,SU(e,n,zD(this,"style."+e,t))).each(AU(this._id,e)):this.styleTween(e,_U(e,n,t),r).on("end.style."+e,null)}function EU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function wU(e,t,r){var n,i;function a(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&EU(e,a,r)),n}return $(a,"tween"),a._value=t,a}function LU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,wU(e,t,r??""))}function $U(e){return function(){this.textContent=e}}function IU(e){return function(){var t=e(this);this.textContent=t??""}}function NU(e){return this.tween("text","function"==typeof e?IU(zD(this,"text",e)):$U(null==e?"":e+""))}function OU(e){return function(t){this.textContent=e.call(this,t)}}function MU(e){var t,r;function n(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&OU(n)),t}return $(n,"tween"),n._value=e,n}function FU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,MU(e))}function PU(){for(var e=this._name,t=this._id,r=jU(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o,s=n[a],l=s.length,u=0;u<l;++u)if(o=s[u]){var c=OD(o,t);$D(o,e,r,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new UU(n,this._parents,e,r)}function BU(){var e,t,r=this,n=r._id,i=r.size();return new Promise((function(a,o){var s={value:o},l={value:$((function(){0==--i&&a()}),"value")};r.each((function(){var r=ND(this,n),i=r.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),r.on=t})),0===i&&a()}))}$(xU,"default"),$(bU,"styleNull"),$(kU,"styleRemove"),$(_U,"styleConstant"),$(SU,"styleFunction"),$(AU,"styleMaybeRemove"),$(RU,"default"),$(EU,"styleInterpolate"),$(wU,"styleTween"),$(LU,"default"),$($U,"textConstant"),$(IU,"textFunction"),$(NU,"default"),$(OU,"textInterpolate"),$(MU,"textTween"),$(FU,"default"),$(PU,"default"),$(BU,"default");var DU=0;function UU(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function zU(e){return DI().transition(e)}function jU(){return++DU}$(UU,"Transition"),$(zU,"transition"),$(jU,"newId");var GU=DI.prototype;function WU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}UU.prototype=zU.prototype={constructor:UU,select:vU,selectAll:TU,selectChild:GU.selectChild,selectChildren:GU.selectChildren,filter:hU,merge:dU,selection:xU,transition:PU,call:GU.call,nodes:GU.nodes,node:GU.node,size:GU.size,empty:GU.empty,each:GU.each,on:mU,attr:YD,attrTween:eU,style:RU,styleTween:LU,text:NU,textTween:FU,remove:yU,tween:UD,delay:nU,duration:oU,ease:lU,easeVarying:cU,end:BU,[Symbol.iterator]:GU[Symbol.iterator]},$(WU,"cubicInOut");var qU={time:null,delay:0,duration:250,ease:WU};function HU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function VU(e){var t,r;e instanceof UU?(t=e._id,e=e._name):(t=jU(),(r=qU).time=TD(),e=null==e?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o,s=n[a],l=s.length,u=0;u<l;++u)(o=s[u])&&$D(o,e,t,u,s,r||HU(o,t));return new UU(n,this._parents,e,t)}function KU(e){return[+e[0],+e[1]]}function YU(e){return[KU(e[0]),KU(e[1])]}function XU(e){return{type:e}}function JU(e,t,r){this.k=e,this.x=t,this.y=r}$(HU,"inherit"),$(VU,"default"),DI.prototype.interrupt=PD,DI.prototype.transition=VU,$(KU,"number1"),$(YU,"number2"),["w","e"].map(XU),$((function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]}),"input"),$((function(e){return e&&[e[0][0],e[1][0]]}),"output"),["n","s"].map(XU),$((function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]}),"input"),$((function(e){return e&&[e[0][1],e[1][1]]}),"output"),["n","w","e","s","nw","ne","sw","se"].map(XU),$((function(e){return null==e?null:YU(e)}),"input"),$((function(e){return e}),"output"),$(XU,"type"),$(JU,"Transform"),JU.prototype={constructor:JU,scale:$((function(e){return 1===e?this:new JU(this.k*e,this.x,this.y)}),"scale"),translate:$((function(e,t){return 0===e&0===t?this:new JU(this.k,this.x+this.k*e,this.y+this.k*t)}),"translate"),apply:$((function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]}),"apply"),applyX:$((function(e){return e*this.k+this.x}),"applyX"),applyY:$((function(e){return e*this.k+this.y}),"applyY"),invert:$((function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]}),"invert"),invertX:$((function(e){return(e-this.x)/this.k}),"invertX"),invertY:$((function(e){return(e-this.y)/this.k}),"invertY"),rescaleX:$((function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))}),"rescaleX"),rescaleY:$((function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))}),"rescaleY"),toString:$((function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}),"toString")};var ZU=new JU(1,0,0);function QU(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ZU;return e.__zoom}QU.prototype=JU.prototype,$(QU,"transform");
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE *)
*/
var ez=$((e=>{let{securityLevel:t}=aL(),r=UI("body");if("sandbox"===t){let t=UI(`#i${e}`).node()?.contentDocument??document;r=UI(t.body)}return r.select(`#${e}`)}),"selectSvgElement"),tz=class extends iA{static{$(this,"InfoTokenBuilder")}static{P_(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},rz={parser:{TokenBuilder:P_((()=>new tz),"TokenBuilder"),ValueConverter:P_((()=>new nA),"ValueConverter")}};function nz(e=$_){let t=v_(y_(e),VS),r=v_(g_({shared:t}),KS,rz);return t.ServiceRegistry.register(r),{shared:t,Info:r}}$(nz,"createInfoServices"),P_(nz,"createInfoServices");var iz=class extends iA{static{$(this,"PacketTokenBuilder")}static{P_(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},az={parser:{TokenBuilder:P_((()=>new iz),"TokenBuilder"),ValueConverter:P_((()=>new nA),"ValueConverter")}};function oz(e=$_){let t=v_(y_(e),VS),r=v_(g_({shared:t}),YS,az);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}$(oz,"createPacketServices"),P_(oz,"createPacketServices");var sz={parse:$((async e=>{let t=await sA("info",e);NA.debug(t)}),"parse")},lz={version:"11.10.0"},uz={getVersion:$((()=>lz.version),"getVersion")},cz=$(((e,t,r)=>{NA.debug("rendering info diagram\n"+e);let n=ez(t);zw(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)}),"draw"),hz={parser:sz,db:uz,renderer:{draw:cz}};export{hz as diagram};export default null;
