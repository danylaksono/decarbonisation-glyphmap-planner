function P(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var U={eudist:function(r,t,o){for(var n=r.length,a=0,e=0;e<n;e++){var i=(r[e]||0)-(t[e]||0);a+=i*i}return o?Math.sqrt(a):a},mandist:function(r,t,o){for(var n=r.length,a=0,e=0;e<n;e++)a+=Math.abs((r[e]||0)-(t[e]||0));return o?Math.sqrt(a):a},dist:function(r,t,o){var n=Math.abs(r-t);return o?n:n*n}};P(U);var Z=U,q=Z.eudist,X=Z.dist,w={kmrand:function(r,t){for(var o={},n=[],a=t<<2,e=r.length,i=r[0].length>0;n.length<t&&a-- >0;){var l=r[Math.floor(Math.random()*e)],h=i?l.join("_"):""+l;o[h]||(o[h]=!0,n.push(l))}if(n.length<t)throw new Error("Error initializating clusters");return n},kmpp:function(r,t){var o=r[0].length?q:X,n=[],a=r.length,e=r[0].length>0,i=r[Math.floor(Math.random()*a)];for(e?i.join("_"):""+i,n.push(i),!0;n.length<t;){for(var l=[],h=n.length,j=0,f=[],u=0;u<a;u++){for(var p=1/0,s=0;s<h;s++){var E=o(r[u],n[s]);E<=p&&(p=E)}l[u]=p}for(var m=0;m<a;m++)j+=l[m];for(var v=0;v<a;v++)f[v]={i:v,v:r[v],pr:l[v]/j,cs:0};f.sort(function(g,W){return g.pr-W.pr}),f[0].cs=f[0].pr;for(var c=1;c<a;c++)f[c].cs=f[c-1].cs+f[c].pr;for(var _=Math.random(),d=0;d<a-1&&f[d++].cs<_;);n.push(f[d-1].v)}return n}};P(w);var V=U,y=w,C=V.eudist;V.mandist,V.dist;var I=y.kmrand,x=y.kmpp,H=1e4;function J(r,t,o){o=o||[];for(var n=0;n<r;n++)o[n]=t;return o}function $(r,t,o,n){var a=[],e=[],i=[],l=[],h=!1,j=n||H,f=r.length,u=r[0].length,p=u>0,s=[];if(o)o=="kmrand"?a=I(r,t):o=="kmpp"?a=x(r,t):a=o;else for(var E={};a.length<t;){var m=Math.floor(Math.random()*f);E[m]||(E[m]=!0,a.push(r[m]))}do{J(t,0,s);for(var v=0;v<f;v++){for(var c=1/0,_=0,d=0;d<t;d++){var l=p?C(r[v],a[d]):Math.abs(r[v]-a[d]);l<=c&&(c=l,_=d)}i[v]=_,s[_]++}for(var g=[],e=[],W=0,M=0;M<t;M++)g[M]=p?J(u,0,g[M]):0,e[M]=a[M];if(p){for(var G=0;G<t;G++)a[G]=[];for(var D=0;D<f;D++)for(var K=i[D],L=g[K],N=r[D],F=0;F<u;F++)L[F]+=N[F];h=!0;for(var k=0;k<t;k++){for(var Y=a[k],Q=g[k],R=e[k],S=s[k],z=0;z<u;z++)Y[z]=Q[z]/S||0;if(h){for(var O=0;O<u;O++)if(R[O]!=Y[O]){h=!1;break}}}}else{for(var A=0;A<f;A++){var T=i[A];g[T]+=r[A]}for(var b=0;b<t;b++)a[b]=g[b]/s[b]||0;h=!0;for(var B=0;B<t;B++)if(e[B]!=a[B]){h=!1;break}}h=h||--j<=0}while(!h);return{it:H-j,k:t,idxs:i,centroids:a}}var rr=$,ar=P(rr);export{ar as default};
