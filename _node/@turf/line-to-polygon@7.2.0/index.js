import{bbox as g}from"../bbox@7.2.0/index.js";import{getCoords as d,getGeom as y}from"../invariant@7.2.0/index.js";import{multiPolygon as v,lineString as w,polygon as p}from"../helpers@7.2.0/index.js";import{clone as E}from"../clone@7.2.0/index.js";function c(e,o={}){var t,i,r,n=o.properties,s=(t=o.autoComplete)!=null?t:!0,u=(i=o.orderCoords)!=null?i:!0,l=(r=o.mutate)!=null?r:!1;switch(l||(e=E(e)),e.type){case"FeatureCollection":var a=[];return e.features.forEach(function(f){a.push(d(h(f,{},s,u)))}),v(a,n);default:return h(e,n,s,u)}}function h(e,o,t,i){o=o||(e.type==="Feature"?e.properties:{});var r=y(e),n=r.coordinates,s=r.type;if(!n.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return t&&(n=m(n)),p([n],o);case"MultiLineString":var u=[],l=0;return n.forEach(function(a){if(t&&(a=m(a)),i){var f=b(g(w(a)));f>l?(u.unshift(a),l=f):u.push(a)}else u.push(a)}),p(u,o);default:throw new Error("geometry type "+s+" is not supported")}}function m(e){var o=e[0],t=o[0],i=o[1],r=e[e.length-1],n=r[0],s=r[1];return(t!==n||i!==s)&&e.push(o),e}function b(e){var o=e[0],t=e[1],i=e[2],r=e[3];return Math.abs(o-i)*Math.abs(t-r)}var C=c;export{C as default,c as lineToPolygon};
