import{getGeom as c}from"../invariant@7.1.0/index.js";import{polygon as l,lineString as g}from"../helpers@7.1.0/index.js";import{booleanDisjoint as m}from"../boolean-disjoint@7.1.0/index.js";import{booleanCrosses as p}from"../boolean-crosses@7.1.0/index.js";import{lineIntersect as a}from"../line-intersect@7.1.0/index.js";import{booleanPointOnLine as v}from"../boolean-point-on-line@7.1.0/index.js";function f(n){if(!n.type)return!1;const t=c(n),u=t.type,e=t.coordinates;switch(u){case"Point":return e.length>1;case"MultiPoint":for(var r=0;r<e.length;r++)if(e[r].length<2)return!1;return!0;case"LineString":if(e.length<2)return!1;for(var r=0;r<e.length;r++)if(e[r].length<2)return!1;return!0;case"MultiLineString":if(e.length<2)return!1;for(var r=0;r<e.length;r++)if(e[r].length<2)return!1;return!0;case"Polygon":for(var r=0;r<t.coordinates.length;r++)if(e[r].length<4||!h(e[r])||s(e[r])||r>0&&a(l([e[0]]),l([e[r]])).features.length>1)return!1;return!0;case"MultiPolygon":for(var r=0;r<t.coordinates.length;r++)for(var i=t.coordinates[r],o=0;o<i.length;o++)if(i[o].length<4||!h(i[o])||s(i[o])||o===0&&!d(i,t.coordinates,r)||o>0&&a(l([i[0]]),l([i[o]])).features.length>1)return!1;return!0;default:return!1}}function h(n){return n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]}function s(n){for(var t=0;t<n.length-1;t++)for(var u=n[t],e=t+1;e<n.length-2;e++){var r=[n[e],n[e+1]];if(v(u,g(r)))return!0}return!1}function d(n,t,u){for(var e=l(n),r=u+1;r<t.length;r++)if(!m(e,l(t[r]))&&p(e,g(t[r][0])))return!1;return!0}var b=f;export{f as booleanValid,b as default};
