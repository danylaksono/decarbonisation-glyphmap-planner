import{bbox as u}from"../bbox@7.2.0/index.js";import{booleanPointInPolygon as l}from"../boolean-point-in-polygon@7.2.0/index.js";import d from"../../rbush@3.0.1/index.js";var y=d;function i(t,m,p,c){var n=new y(6),s=m.features.map(function(o){var e;return{minX:o.geometry.coordinates[0],minY:o.geometry.coordinates[1],maxX:o.geometry.coordinates[0],maxY:o.geometry.coordinates[1],property:(e=o.properties)==null?void 0:e[p]}});return n.load(s),t.features.forEach(function(o){o.properties||(o.properties={});var e=u(o),f=n.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),a=[];f.forEach(function(r){l([r.minX,r.minY],o)&&a.push(r.property)}),o.properties[c]=a}),t}var v=i;export{i as collect,v as default};
