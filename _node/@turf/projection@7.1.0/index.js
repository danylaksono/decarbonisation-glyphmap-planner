import{coordEach as f}from"../meta@7.1.0/index.js";import{isNumber as h}from"../helpers@7.1.0/index.js";import{clone as m}from"../clone@7.1.0/index.js";function M(t,a={}){return c(t,"mercator",a)}function s(t,a={}){return c(t,"wgs84",a)}function c(t,a,n={}){n=n||{};var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&h(t[0])?t=a==="mercator"?i(t):u(t):(r!==!0&&(t=m(t)),f(t,function(e){var o=a==="mercator"?i(e):u(e);e[0]=o[0],e[1]=o[1]})),t}function i(t){var a=Math.PI/180,n=6378137,r=20037508342789244e-9,e=Math.abs(t[0])<=180?t[0]:t[0]-p(t[0])*360,o=[n*e*a,n*Math.log(Math.tan(Math.PI*.25+.5*t[1]*a))];return o[0]>r&&(o[0]=r),o[0]<-r&&(o[0]=-r),o[1]>r&&(o[1]=r),o[1]<-r&&(o[1]=-r),o}function u(t){var a=180/Math.PI,n=6378137;return[t[0]*a/n,(Math.PI*.5-2*Math.atan(Math.exp(-t[1]/n)))*a]}function p(t){return t<0?-1:t>0?1:0}export{M as toMercator,s as toWgs84};
