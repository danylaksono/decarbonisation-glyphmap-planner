import{bbox as u}from"../bbox@7.1.0/index.js";import{booleanPointOnLine as c}from"../boolean-point-on-line@7.1.0/index.js";import{booleanPointInPolygon as a}from"../boolean-point-in-polygon@7.1.0/index.js";import{getGeom as s}from"../invariant@7.1.0/index.js";function f(o,r){var t=s(o),e=s(r),n=t.type,i=e.type;switch(n){case"Point":switch(i){case"MultiPoint":return y(t,e);case"LineString":return c(t,e,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return a(t,e,{ignoreBoundary:!0});default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"MultiPoint":return h(t,e);case"LineString":return p(t,e);case"Polygon":case"MultiPolygon":return P(t,e);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"LineString":return w(t,e);case"Polygon":case"MultiPolygon":return m(t,e);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Polygon":case"MultiPolygon":return v(t,e);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function y(o,r){var t,e=!1;for(t=0;t<r.coordinates.length;t++)if(g(r.coordinates[t],o.coordinates)){e=!0;break}return e}function h(o,r){for(var t=0;t<o.coordinates.length;t++){for(var e=!1,n=0;n<r.coordinates.length;n++)g(o.coordinates[t],r.coordinates[n])&&(e=!0);if(!e)return!1}return!0}function p(o,r){for(var t=!1,e=0;e<o.coordinates.length;e++){if(!c(o.coordinates[e],r))return!1;t||(t=c(o.coordinates[e],r,{ignoreEndVertices:!0}))}return t}function P(o,r){for(var t=!0,e=!1,n=!1,i=0;i<o.coordinates.length;i++){if(n=a(o.coordinates[i],r),!n){t=!1;break}e||(n=a(o.coordinates[i],r,{ignoreBoundary:!0}))}return t&&n}function w(o,r){for(var t=0;t<o.coordinates.length;t++)if(!c(o.coordinates[t],r))return!1;return!0}function m(o,r){var t=u(r),e=u(o);if(!d(t,e))return!1;for(var n=!1,i=0;i<o.coordinates.length;i++){if(!a(o.coordinates[i],r))return!1;if(n||(n=a(o.coordinates[i],r,{ignoreBoundary:!0})),!n&&i<o.coordinates.length-1){var l=M(o.coordinates[i],o.coordinates[i+1]);n=a(l,r,{ignoreBoundary:!0})}}return n}function v(o,r){var t=u(o),e=u(r);if(!d(e,t))return!1;for(var n=0;n<o.coordinates[0].length;n++)if(!a(o.coordinates[0][n],r))return!1;return!0}function d(o,r){return!(o[0]>r[0]||o[2]<r[2]||o[1]>r[1]||o[3]<r[3])}function g(o,r){return o[0]===r[0]&&o[1]===r[1]}function M(o,r){return[(o[0]+r[0])/2,(o[1]+r[1])/2]}var b=f;export{f as booleanWithin,b as default};
