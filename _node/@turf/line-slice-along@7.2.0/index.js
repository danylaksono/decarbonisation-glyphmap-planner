import{bearing as l}from"../bearing@7.2.0/index.js";import{distance as w}from"../distance@7.2.0/index.js";import{destination as u}from"../destination@7.2.0/index.js";import{isObject as y,lineString as p}from"../helpers@7.2.0/index.js";function d(a,s,f,o){if(o=o||{},!y(o))throw new Error("options is invalid");var e,i=[];if(a.type==="Feature")e=a.geometry.coordinates;else if(a.type==="LineString")e=a.coordinates;else throw new Error("input must be a LineString Feature or Geometry");for(var c=e.length,r=0,n,h,m,t=0;t<e.length&&!(s>=r&&t===e.length-1);t++){if(r>s&&i.length===0){if(n=s-r,!n)return i.push(e[t]),p(i);h=l(e[t],e[t-1])-180,m=u(e[t],n,h,o),i.push(m.geometry.coordinates)}if(r>=f)return n=f-r,n?(h=l(e[t],e[t-1])-180,m=u(e[t],n,h,o),i.push(m.geometry.coordinates),p(i)):(i.push(e[t]),p(i));if(r>=s&&i.push(e[t]),t===e.length-1)return p(i);r+=w(e[t],e[t+1],o)}if(r<s&&e.length===c)throw new Error("Start position is beyond line");var g=e[e.length-1];return p([g,g])}var v=d;export{v as default,d as lineSliceAlong};
