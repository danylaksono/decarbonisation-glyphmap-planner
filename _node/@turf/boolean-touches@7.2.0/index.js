import{booleanPointOnLine as i}from"../boolean-point-on-line@7.2.0/index.js";import{booleanPointInPolygon as c}from"../boolean-point-in-polygon@7.2.0/index.js";import{getGeom as l}from"../invariant@7.2.0/index.js";function f(u,y){var t=l(u),r=l(y),p=t.type,g=r.type;switch(p){case"Point":switch(g){case"LineString":return d(t,r);case"MultiLineString":for(var n=!1,e=0;e<r.coordinates.length;e++)d(t,{type:"LineString",coordinates:r.coordinates[e]})&&(n=!0);return n;case"Polygon":for(var o=0;o<r.coordinates.length;o++)if(i(t,{type:"LineString",coordinates:r.coordinates[o]}))return!0;return!1;case"MultiPolygon":for(var o=0;o<r.coordinates.length;o++)for(var e=0;e<r.coordinates[o].length;e++)if(i(t,{type:"LineString",coordinates:r.coordinates[o][e]}))return!0;return!1;default:throw new Error("feature2 "+g+" geometry not supported")}case"MultiPoint":switch(g){case"LineString":for(var n=!1,o=0;o<t.coordinates.length;o++)if(n||d({type:"Point",coordinates:t.coordinates[o]},r)&&(n=!0),i({type:"Point",coordinates:t.coordinates[o]},r,{ignoreEndVertices:!0}))return!1;return n;case"MultiLineString":for(var n=!1,o=0;o<t.coordinates.length;o++)for(var e=0;e<r.coordinates.length;e++)if(n||d({type:"Point",coordinates:t.coordinates[o]},{type:"LineString",coordinates:r.coordinates[e]})&&(n=!0),i({type:"Point",coordinates:t.coordinates[o]},{type:"LineString",coordinates:r.coordinates[e]},{ignoreEndVertices:!0}))return!1;return n;case"Polygon":for(var n=!1,o=0;o<t.coordinates.length;o++)if(n||i({type:"Point",coordinates:t.coordinates[o]},{type:"LineString",coordinates:r.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[o]},r,{ignoreBoundary:!0}))return!1;return n;case"MultiPolygon":for(var n=!1,o=0;o<t.coordinates.length;o++)for(var e=0;e<r.coordinates.length;e++)if(n||i({type:"Point",coordinates:t.coordinates[o]},{type:"LineString",coordinates:r.coordinates[e][0]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[o]},{type:"Polygon",coordinates:r.coordinates[e]},{ignoreBoundary:!0}))return!1;return n;default:throw new Error("feature2 "+g+" geometry not supported")}case"LineString":switch(g){case"Point":return d(r,t);case"MultiPoint":for(var n=!1,o=0;o<r.coordinates.length;o++)if(n||d({type:"Point",coordinates:r.coordinates[o]},t)&&(n=!0),i({type:"Point",coordinates:r.coordinates[o]},t,{ignoreEndVertices:!0}))return!1;return n;case"LineString":var s=!1;if(d({type:"Point",coordinates:t.coordinates[0]},r)&&(s=!0),d({type:"Point",coordinates:t.coordinates[t.coordinates.length-1]},r)&&(s=!0),s===!1)return!1;for(var o=0;o<t.coordinates.length;o++)if(i({type:"Point",coordinates:t.coordinates[o]},r,{ignoreEndVertices:!0}))return!1;return s;case"MultiLineString":for(var s=!1,o=0;o<r.coordinates.length;o++){d({type:"Point",coordinates:t.coordinates[0]},{type:"LineString",coordinates:r.coordinates[o]})&&(s=!0),d({type:"Point",coordinates:t.coordinates[t.coordinates.length-1]},{type:"LineString",coordinates:r.coordinates[o]})&&(s=!0);for(var e=0;e<t.coordinates[o].length;e++)if(i({type:"Point",coordinates:t.coordinates[e]},{type:"LineString",coordinates:r.coordinates[o]},{ignoreEndVertices:!0}))return!1}return s;case"Polygon":for(var n=!1,o=0;o<t.coordinates.length;o++)if(n||i({type:"Point",coordinates:t.coordinates[o]},{type:"LineString",coordinates:r.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[o]},r,{ignoreBoundary:!0}))return!1;return n;case"MultiPolygon":for(var n=!1,o=0;o<t.coordinates.length;o++){for(var e=0;e<r.coordinates.length;e++)n||i({type:"Point",coordinates:t.coordinates[o]},{type:"LineString",coordinates:r.coordinates[e][0]})&&(n=!0);if(c({type:"Point",coordinates:t.coordinates[o]},r,{ignoreBoundary:!0}))return!1}return n;default:throw new Error("feature2 "+g+" geometry not supported")}case"MultiLineString":switch(g){case"Point":for(var o=0;o<t.coordinates.length;o++)if(d(r,{type:"LineString",coordinates:t.coordinates[o]}))return!0;return!1;case"MultiPoint":for(var n=!1,o=0;o<t.coordinates.length;o++)for(var e=0;e<r.coordinates.length;e++)if(n||d({type:"Point",coordinates:r.coordinates[e]},{type:"LineString",coordinates:t.coordinates[e]})&&(n=!0),i({type:"Point",coordinates:r.coordinates[e]},{type:"LineString",coordinates:t.coordinates[e]},{ignoreEndVertices:!0}))return!1;return n;case"LineString":for(var s=!1,o=0;o<t.coordinates.length;o++){d({type:"Point",coordinates:t.coordinates[o][0]},r)&&(s=!0),d({type:"Point",coordinates:t.coordinates[o][t.coordinates[o].length-1]},r)&&(s=!0);for(var e=0;e<r.coordinates.length;e++)if(i({type:"Point",coordinates:r.coordinates[e]},{type:"LineString",coordinates:t.coordinates[o]},{ignoreEndVertices:!0}))return!1}return s;case"MultiLineString":for(var s=!1,o=0;o<t.coordinates.length;o++)for(var e=0;e<r.coordinates.length;e++){d({type:"Point",coordinates:t.coordinates[o][0]},{type:"LineString",coordinates:r.coordinates[e]})&&(s=!0),d({type:"Point",coordinates:t.coordinates[o][t.coordinates[o].length-1]},{type:"LineString",coordinates:r.coordinates[e]})&&(s=!0);for(var a=0;a<t.coordinates[o].length;a++)if(i({type:"Point",coordinates:t.coordinates[o][a]},{type:"LineString",coordinates:r.coordinates[e]},{ignoreEndVertices:!0}))return!1}return s;case"Polygon":for(var n=!1,o=0;o<t.coordinates.length;o++)for(var e=0;e<t.coordinates.length;e++)if(n||i({type:"Point",coordinates:t.coordinates[o][e]},{type:"LineString",coordinates:r.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[o][e]},r,{ignoreBoundary:!0}))return!1;return n;case"MultiPolygon":for(var n=!1,o=0;o<r.coordinates[0].length;o++)for(var e=0;e<t.coordinates.length;e++)for(var a=0;a<t.coordinates[e].length;a++)if(n||i({type:"Point",coordinates:t.coordinates[e][a]},{type:"LineString",coordinates:r.coordinates[0][o]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[e][a]},{type:"Polygon",coordinates:[r.coordinates[0][o]]},{ignoreBoundary:!0}))return!1;return n;default:throw new Error("feature2 "+g+" geometry not supported")}case"Polygon":switch(g){case"Point":for(var o=0;o<t.coordinates.length;o++)if(i(r,{type:"LineString",coordinates:t.coordinates[o]}))return!0;return!1;case"MultiPoint":for(var n=!1,o=0;o<r.coordinates.length;o++)if(n||i({type:"Point",coordinates:r.coordinates[o]},{type:"LineString",coordinates:t.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:r.coordinates[o]},t,{ignoreBoundary:!0}))return!1;return n;case"LineString":for(var n=!1,o=0;o<r.coordinates.length;o++)if(n||i({type:"Point",coordinates:r.coordinates[o]},{type:"LineString",coordinates:t.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:r.coordinates[o]},t,{ignoreBoundary:!0}))return!1;return n;case"MultiLineString":for(var n=!1,o=0;o<r.coordinates.length;o++)for(var e=0;e<r.coordinates[o].length;e++)if(n||i({type:"Point",coordinates:r.coordinates[o][e]},{type:"LineString",coordinates:t.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:r.coordinates[o][e]},t,{ignoreBoundary:!0}))return!1;return n;case"Polygon":for(var n=!1,o=0;o<t.coordinates[0].length;o++)if(n||i({type:"Point",coordinates:t.coordinates[0][o]},{type:"LineString",coordinates:r.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[0][o]},r,{ignoreBoundary:!0}))return!1;return n;case"MultiPolygon":for(var n=!1,o=0;o<r.coordinates[0].length;o++)for(var e=0;e<t.coordinates[0].length;e++)if(n||i({type:"Point",coordinates:t.coordinates[0][e]},{type:"LineString",coordinates:r.coordinates[0][o]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[0][e]},{type:"Polygon",coordinates:r.coordinates[0][o]},{ignoreBoundary:!0}))return!1;return n;default:throw new Error("feature2 "+g+" geometry not supported")}case"MultiPolygon":switch(g){case"Point":for(var o=0;o<t.coordinates[0].length;o++)if(i(r,{type:"LineString",coordinates:t.coordinates[0][o]}))return!0;return!1;case"MultiPoint":for(var n=!1,o=0;o<t.coordinates[0].length;o++)for(var e=0;e<r.coordinates.length;e++)if(n||i({type:"Point",coordinates:r.coordinates[e]},{type:"LineString",coordinates:t.coordinates[0][o]})&&(n=!0),c({type:"Point",coordinates:r.coordinates[e]},{type:"Polygon",coordinates:t.coordinates[0][o]},{ignoreBoundary:!0}))return!1;return n;case"LineString":for(var n=!1,o=0;o<t.coordinates[0].length;o++)for(var e=0;e<r.coordinates.length;e++)if(n||i({type:"Point",coordinates:r.coordinates[e]},{type:"LineString",coordinates:t.coordinates[0][o]})&&(n=!0),c({type:"Point",coordinates:r.coordinates[e]},{type:"Polygon",coordinates:t.coordinates[0][o]},{ignoreBoundary:!0}))return!1;return n;case"MultiLineString":for(var n=!1,o=0;o<t.coordinates.length;o++)for(var e=0;e<r.coordinates.length;e++)for(var a=0;a<r.coordinates[e].length;a++)if(n||i({type:"Point",coordinates:r.coordinates[e][a]},{type:"LineString",coordinates:t.coordinates[o][0]})&&(n=!0),c({type:"Point",coordinates:r.coordinates[e][a]},{type:"Polygon",coordinates:[t.coordinates[o][0]]},{ignoreBoundary:!0}))return!1;return n;case"Polygon":for(var n=!1,o=0;o<t.coordinates[0].length;o++)for(var e=0;e<t.coordinates[0][o].length;e++)if(n||i({type:"Point",coordinates:t.coordinates[0][o][e]},{type:"LineString",coordinates:r.coordinates[0]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[0][o][e]},r,{ignoreBoundary:!0}))return!1;return n;case"MultiPolygon":for(var n=!1,o=0;o<t.coordinates[0].length;o++)for(var e=0;e<r.coordinates[0].length;e++)for(var a=0;a<t.coordinates[0].length;a++)if(n||i({type:"Point",coordinates:t.coordinates[0][o][a]},{type:"LineString",coordinates:r.coordinates[0][e]})&&(n=!0),c({type:"Point",coordinates:t.coordinates[0][o][a]},{type:"Polygon",coordinates:r.coordinates[0][e]},{ignoreBoundary:!0}))return!1;return n;default:throw new Error("feature2 "+g+" geometry not supported")}default:throw new Error("feature1 "+p+" geometry not supported")}}function d(u,y){return!!(P(y.coordinates[0],u.coordinates)||P(y.coordinates[y.coordinates.length-1],u.coordinates))}function P(u,y){return u[0]===y[0]&&u[1]===y[1]}var h=f;export{f as booleanTouches,h as default};
