import{area as h}from"../area@7.1.0/index.js";import{bbox as g}from"../bbox@7.1.0/index.js";import{bboxPolygon as x}from"../bbox-polygon@7.1.0/index.js";import{centroid as y}from"../centroid@7.1.0/index.js";import{distance as A}from"../distance@7.1.0/index.js";import{nearestPoint as M}from"../nearest-point@7.1.0/index.js";import{featureEach as N}from"../meta@7.1.0/index.js";import{featureCollection as P,convertArea as v}from"../helpers@7.1.0/index.js";function u(p,t){t=t||{};const s=t.studyArea||x(g(p)),c=t.properties||{},r=t.units||"kilometers",o=[];N(p,e=>{o.push(y(e))});const n=o.length,i=o.map((e,m)=>{const b=P(o.filter((D,d)=>d!==m));return A(e,M(e,b).geometry.coordinates,{units:r})}).reduce((e,m)=>e+m,0)/n,f=n/v(h(s),"meters",r),a=1/(2*Math.sqrt(f)),l=.26136/Math.sqrt(n*f);return c.nearestNeighborAnalysis={units:r,arealUnits:r+"\xB2",observedMeanDistance:i,expectedMeanDistance:a,nearestNeighborIndex:i/a,numberOfPoints:n,zScore:(i-a)/l},s.properties=c,s}var q=u;export{q as default,u as nearestNeighborAnalysis};
