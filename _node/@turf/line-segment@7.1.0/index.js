import{featureCollection as p,lineString as m}from"../helpers@7.1.0/index.js";import{getCoords as s}from"../invariant@7.1.0/index.js";import{flattenEach as g}from"../meta@7.1.0/index.js";function c(r){if(!r)throw new Error("geojson is required");const o=[];return g(r,t=>{h(t,o)}),p(o)}function h(r,o){let t=[];const e=r.geometry;if(e!==null){switch(e.type){case"Polygon":t=s(e);break;case"LineString":t=[s(e)]}t.forEach(n=>{d(n,r.properties).forEach(i=>{i.id=o.length,o.push(i)})})}}function d(r,o){const t=[];return r.reduce((e,n)=>{const i=m([e,n],o);return i.bbox=b(e,n),t.push(i),n}),t}function b(r,o){const t=r[0],e=r[1],n=o[0],i=o[1],u=t<n?t:n,f=e<i?e:i,a=t>n?t:n,l=e>i?e:i;return[u,f,a,l]}var y=c;export{y as default,c as lineSegment};
